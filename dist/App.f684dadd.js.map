{"version":3,"sources":["node_modules/nanoid/non-secure/index.js","../src/utils/errors.ts","../src/utils/common.ts","../src/utils/plugins.ts","../src/core/scope.ts","../src/core/finalize.ts","../src/core/proxy.ts","../src/core/immerClass.ts","../src/core/current.ts","../src/plugins/es5.ts","../src/plugins/patches.ts","../src/plugins/mapset.ts","../src/plugins/all.ts","../src/immer.ts","../src/utils/env.ts","node_modules/lodash.isplainobject/index.js","node_modules/boardgame.io/dist/esm/turn-order-406c4349.js","node_modules/rfc6902/pointer.js","node_modules/rfc6902/util.js","node_modules/rfc6902/diff.js","node_modules/rfc6902/patch.js","node_modules/rfc6902/index.js","node_modules/boardgame.io/dist/esm/reducer-efc3ec3e.js","node_modules/flatted/esm/index.js","node_modules/process/browser.js","node_modules/setimmediate/setImmediate.js","node_modules/boardgame.io/dist/esm/ai-7a5eea10.js","node_modules/boardgame.io/dist/esm/Debug-f39f426b.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","node_modules/redux/es/redux.js","node_modules/boardgame.io/dist/esm/initialize-8da88d04.js","node_modules/boardgame.io/dist/esm/transport-ce07b771.js","node_modules/boardgame.io/dist/esm/client-48f68c72.js","node_modules/boardgame.io/dist/esm/client-5f57c3f2.js","node_modules/boardgame.io/dist/esm/client.js","node_modules/boardgame.io/dist/esm/core.js","src/Game.js","src/App.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["urlAlphabet","customAlphabet","alphabet","size","id","i","Math","random","length","nanoid","die","error","args","e","errors","msg","apply","Error","map","s","join","isDraft","value","DRAFT_STATE","isDraftable","proto","Object","getPrototypeOf","Ctor","hasOwnProperty","call","constructor","Function","toString","objectCtorString","isPlainObject","Array","isArray","DRAFTABLE","isMap","isSet","original","base_","each","obj","iter","enumerableOnly","getArchtype","keys","ownKeys","forEach","key","entry","index","thing","state","type_","has","prop","prototype","get","set","propOrOldValue","t","delete","add","is","x","y","target","hasMap","Map","hasSet","Set","latest","copy_","shallowCopy","base","slice","descriptors","getOwnPropertyDescriptors","desc","writable","configurable","enumerable","create","freeze","deep","isFrozen","clear","dontMutateFrozenCollections","getPlugin","pluginKey","plugin","plugins","loadPlugin","implementation","getCurrentScope","currentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","revoke_","revoked_","processResult","result","baseDraft","isReplaced","undefined","useProxies_","willFinalizeES5_","modified_","finalize","maybeFreeze","generateReplacementPatches_","NOTHING","rootScope","path","childValue","finalizeProperty","scope_","finalized_","draft_","generatePatches_","parentState","targetObject","rootPath","res","assigned_","concat","autoFreeze_","peek","getDescriptorFromProto","source","getOwnPropertyDescriptor","markChanged","prepareCopy","createProxy","parent","proxyMap_","proxySet_","isManual_","traps","objectTraps","arrayTraps","Proxy","revocable","revoke","proxy","createProxyProxy","createES5Proxy_","push","current","currentImpl","copy","archType","hasChanges_","copyHelper","from","enableES5","proxyProperty","this","assertUnrevoked","markChangesSweep","drafts","hasArrayChanges","hasObjectChanges","baseValue","baseIsDraft","descriptor","JSON","stringify","defineProperty","createES5Draft","markChangesRecursively","object","min","enablePatches","deepClonePatchValue","entries","cloned","immerable","clonePatchValueIfNeeded","ADD","applyPatches_","patches","patch","op","parentType","p","type","splice","basePath","inversePatches","assignedValue","origValue","generatePatchesFromAssigned","generateArrayPatches","unshift","generateSetPatches","rootState","replacement","enableMapSet","__extends","d","b","__","extendStatics","prepareMapCopy","prepareSetCopy","setPrototypeOf","__proto__","DraftMap","cb","thisArg","_value","_this","values","iterator","iteratorSymbol","_this2","next","r","done","_this3","DraftSet","enableAllPlugins","castDraft","castImmutable","hasSymbol","Symbol","hasProxies","Reflect","for","data","getOwnPropertySymbols","getOwnPropertyNames","_desc$get","readPropFromProto","currentState","deleteProperty","owner","fn","arguments","isNaN","parseInt","Immer","config","recipe","defaultBase","self","produce","hasError","Promise","then","arg1","arg2","produceWithPatches","ip","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","applyPatchesImpl","bind","MAKE_MOVE","GAME_EVENT","REDO","RESET","SYNC","UNDO","UPDATE","PATCH","PLUGIN","STRIP_TRANSIENTS","makeMove","playerID","credentials","payload","gameEvent","automaticGameEvent","automatic","sync","info","log","initialState","clientOnly","prevStateID","stateID","deltalog","update","reset","undo","redo","stripTransients","ActionCreators","INVALID_MOVE","ImmerPlugin","name","fnWrap","move","G","ctx","isInvalid","newG","Alea","seed","mash","Mash","c","s0","s1","s2","trunc","n","str","charCodeAt","h","f","alea","xg","prng","Random","used","Date","now","isUsed","getState","_random","R","prngstate","rand","number","api","SpotValue","D4","D6","D8","D10","D12","D20","predefined","spotvalue","diceCount","floor","Die","Number","Shuffle","deck","clone","sourceIndex","destinationIndex","shuffled","randomIndex","_private","RandomPlugin","noClient","flush","setup","game","playerView","GameMethod","Errors","Events","flow","dispatch","initialTurn","turn","updateTurnContext","maxEndedTurnsPerAction","numPlayers","events","eventNames","phase","currentPhase","currentTurn","calledFrom","currentMethod","methodType","unsetCurrentMethod","stateWithError","stack","message","EventQueue","event","turnHasEnded","endedTurns","MaxTurnEndings","CalledOutsideHook","gameover","TURN_ON_END","PHASE_ON_END","StageEventInOnEnd","PHASE_ON_BEGIN","StageEventInPhaseBegin","TURN_ON_BEGIN","StageEventInTurnBegin","EndTurnInOnEnd","PhaseEventInOnEnd","action","processEvent","EventsPlugin","method","dangerouslyFlushRawState","LogPlugin","setMetadata","metadata","isSerializable","SerializablePlugin","production","logfn","console","errorfn","CORE_PLUGINS","DEFAULT_PLUGINS","ProcessAction","opts","filter","pluginState","EnhanceCtx","FnWrap","methodToWrap","reduce","Setup","Enhance","Flush","reverse","newData","NoClient","includes","IsInvalid","firstInvalidReturn","find","FlushAndValidate","updatedState","PlayerView","supportDeprecatedMoveLimit","options","enforceMinMoves","moveLimit","minMoves","maxMoves","SetActivePlayers","arg","activePlayers","_prevActivePlayers","_nextActivePlayers","_activePlayersMinMoves","_activePlayersMaxMoves","v","Stage","NULL","revert","_activePlayersNumMoves","currentPlayer","ApplyActivePlayerArgument","others","playOrder","all","UpdateActivePlayersOnceEmpty","lastIndex","stage","getCurrentPlayer","playOrderPos","InitTurnOrderState","ctxWithAPI","order","_","first","posType","UpdateTurnOrderState","endTurnArg","endPhase","indexOf","TurnOrder","DEFAULT","CONTINUE","ONCE","CUSTOM","CUSTOM_FROM","playOrderField","ActivePlayers","ALL","ALL_ONCE","OTHERS","OTHERS_ONCE","Flow","moves","phases","endIf","onEnd","phaseMap","moveMap","moveNames","startingPhase","HookWrapper","hook","hookType","withPlugins","TriggerWrapper","trigger","wrapped","GAME_ON_END","phaseConfig","start","onBegin","onMove","stages","stageConfig","TURN_ON_MOVE","GetPhase","OnMove","Process","phasesEnded","turnsEnded","rest","EndPhase","EndGame","shouldEndGame","ShouldEndGame","shouldEndPhase","ShouldEndPhase","UpdateStage","UpdateActivePlayers","shouldEndTurn","ShouldEndTurn","EndTurn","StartGame","StartPhase","StartTurn","numMoves","_undo","_redo","UpdatePhase","UpdateTurn","newCtx","currentPlayerMoves","force","_stateID","logEntry","remove","EndStage","playerInStage","GetMove","ProcessMove","shouldCount","noLimit","SetStageEvent","EndStageEvent","SetActivePlayersEvent","_playerID","SetPhaseEvent","newPhase","EndPhaseEvent","EndTurnEvent","PassEvent","EndGameEvent","eventHandlers","endStage","setStage","endTurn","pass","setPhase","endGame","setActivePlayers","enabledEventNames","ProcessEvent","IsPlayerActive","_G","init","isPlayerActive","processMove","getMove","IsProcessed","ProcessGameConfig","deltaState","disableUndo","pluginNames","moveFn","IsLongFormMove","MOVE","UpdateErrorType","ActionErrorType","actionHasPlayerID","CanUndoMove","HasUndoable","undoable","IsFunction","updateUndoRedoState","undoEntry","moveType","initializeDeltalog","pluginLogMetadata","redact","flushAndValidatePlugins","oldState","pluginOpts","newState","WithError","PluginActionInvalid","ExtractTransients","transientState","transients","errorType","TransientHandlingMiddleware","store","CreateGameReducer","isClient","stateWithTransients","GameOver","InactivePlayer","UnavailableMove","client","InvalidMove","ActionDisabled","ActionInvalid","last","restore","lastMove","parse","patchError","some","PatchFailed","$parse","$stringify","Primitive","String","primitive","ignore","noop","primitives","Primitives","revive","input","parsed","output","$","lazy","ke","k","tmp","a","known","text","reviver","replacer","space","firstRun","replace","after","toJSON","any","fromJSON","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","Item","array","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","Bot","enumerate","enumerateFn","iterationCounter","_opts","addOpt","range","initial","getOpt","setOpt","actions","CHUNK_SIZE","MCTSBot","objectives","iterations","playoutDepth","iterationCallback","reducer","max","createNode","parentAction","children","visits","select","node","selectedChild","best","child","childVisits","EPSILON","uct","sqrt","expand","childState","childNode","playout","score","objective","checker","weight","backpropagate","draw","winner","play","root","numIterations","getResult","resolve","iteration","leaf","asyncIteration","setImmediate","RandomBot","Step","bot","Simulate","bots","depth","identity","assign","tar","src","blank_object","run_all","fns","is_function","safe_not_equal","is_empty","subscribe","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","create_slot","definition","$$scope","slot_ctx","get_slot_context","get_slot_changes","dirty","lets","merged","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","get_all_dirty_from_scope","exclude_internal_props","props","null_to_empty","is_client","window","performance","raf","requestAnimationFrame","tasks","run_tasks","task","loop","promise","fulfill","abort","append","appendChild","append_styles","style_sheet_id","styles","append_styles_to","get_root_for_style","getElementById","style","element","textContent","append_stylesheet","document","getRootNode","ownerDocument","host","append_empty_stylesheet","style_element","head","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","detaching","createElement","svg_element","createElementNS","createTextNode","empty","listen","handler","addEventListener","removeEventListener","stop_propagation","stopPropagation","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","childNodes","set_data","wholeText","set_input_value","select_option","option","__value","selected","select_value","selected_option","querySelector","toggle_class","toggle","classList","custom_event","detail","bubbles","createEvent","initCustomEvent","active_docs","active","hash","create_rule","duration","delay","ease","uid","step","keyframes","rule","doc","stylesheet","__svelte_stylesheet","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","anim","deleted","clear_rules","deleteRule","current_component","set_current_component","get_current_component","afterUpdate","after_update","onDestroy","createEventDispatcher","setContext","context","getContext","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","add_render_callback","flushing","seen_callbacks","pop","fragment","before_update","wait","direction","kind","dispatchEvent","outroing","outros","group_outros","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","running","animation_name","cleanup","go","easing","tick","css","start_time","end_time","started","invalidate","end","create_out_transition","group","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","program","abs","get_spread_update","levels","updates","to_null_out","accounted_for","get_spread_object","spread_props","create_component","mount_component","customElement","on_mount","m","new_on_destroy","destroy_component","make_dirty","fill","instance","create_fragment","not_equal","parent_component","bound","on_disconnect","skip_bound","ready","ret","hydrate","nodes","l","SvelteComponent","$destroy","$on","$set","$$props","$$set","subscriber_queue","stop","subscribers","new_value","run_queue","subscriber","cubicOut","__rest","propertyIsEnumerable","fly","opacity","getComputedStyle","target_opacity","transform","od","u","crossfade","_a","fallback","defaults","to_receive","to_send","to","getBoundingClientRect","dx","left","dy","top","dw","width","dh","height","transition","items","counterparts","rect","add_css","create_if_block","title_1","svg","if_block_anchor","if_block","default_slot_template","default","default_slot","$$self","$$invalidate","$$slots","slots","viewBox","IconBase","create_default_slot","create_fragment$1","iconbase","iconbase_spread_levels","iconbase_props","iconbase_changes","instance$1","$$new_props","FaChevronRight","add_css$1","get_each_context","list","child_ctx","label","create_each_block","button","t0_value","t0","t1","mounted","dispose","click_handler","new_ctx","create_fragment$2","nav","each_value","each_blocks","instance$2","pane","panes","Menu","contextKey","add_css$2","create_fragment$3","div1","div0","instance$3","expanded","JSONArrow","add_css$3","create_if_block$1","span","create_fragment$4","instance$4","showKey","isParentExpanded","isParentArray","colon","JSONKey","add_css$4","get_each_context$1","create_if_block_3","jsonarrow","jsonarrow_changes","create_else_block","create_if_block$2","ul","create_each_block$1","out","create_if_block_1","Boolean","create_if_block_2","jsonnode","JSONNode","jsonnode_changes","create_fragment$5","li","label_1","jsonkey","span1","span0","t2","t3","t4","current_block_type_index","if_block1","t5","span2","t6","if_block0","if_block_creators","if_blocks","select_block_type","jsonkey_changes","previous_block_index","instance$5","slicedKeys","bracketOpen","bracketClose","previewKeys","getKey","getValue","getPreviewValue","expandable","toggleExpand","JSONNested","create_fragment$6","jsonnested","jsonnested_changes","instance$6","nodeType","JSONObjectNode","create_fragment$7","instance$7","filteredKey","JSONArrayNode","create_fragment$8","instance$8","JSONIterableArrayNode","MapEntry","create_fragment$9","getKey$1","getValue$1","instance$9","JSONIterableMapNode","create_fragment$a","instance$a","JSONMapEntryNode","add_css$5","create_fragment$b","t1_value","span_class_value","instance$b","valueGetter","JSONValueNode","add_css$6","get_each_context$2","create_if_block_2$1","create_if_block$3","create_if_block_1$1","create_each_block$2","t_value","br","create_fragment$c","t3_value","instance$c","ErrorNode","objType","create_fragment$d","switch_instance","switch_instance_anchor","switch_value","switch_props","switch_instance_changes","old_component","instance$d","componentType","getComponent","getValueGetter","raw","toISOString","add_css$7","create_fragment$e","instance$e","Root","add_css$8","get_each_context$3","create_if_block$4","section","create_each_block$3","selectId","t2_value","t4_value","matchID","t6_value","t7","option_value_value","create_fragment$f","instance$f","debuggableClients","$clientManager","$$unsubscribe_clientManager","$$subscribe_clientManager","clientManager","$$value","handleSelection","selectedClient","switchToClient","focus","select_change_handler","ClientSwitcher","add_css$9","create_if_block$5","create_fragment$g","div","disabled","instance$g","$disableHotkeys","onPress","disable","disableHotkeys","Deactivate","Activate","Keypress","ctrlKey","metaKey","preventDefault","Hotkey","add_css$a","create_fragment$h","span3","keypress_handler","instance$h","Submit","innerText","argArray","OnKeyDown","blur","span2_binding","InteractiveFunction","add_css$b","create_if_block$6","create_fragment$i","hotkey","interactivefunction","hotkey_changes","interactivefunction_changes","instance$i","shortcut","error$1","Move","add_css$c","create_fragment$j","li0","hotkey0","li1","hotkey1","li2","hotkey2","li3","hotkey3","hotkey0_changes","hotkey3_changes","instance$j","ToggleVisibility","Save","json","localStorage","setItem","Restore","gamestateJSON","getItem","initialStateJSON","gamestate","Controls","add_css$d","get_each_context$4","create_each_block$4","button_aria_label_value","create_fragment$k","instance$k","OnClick","player","playerLabel","properties","players","PlayerInfo","symbols","sym","_objectSpread2","_defineProperty","defineProperties","_classCallCheck","Constructor","TypeError","_defineProperties","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","_isNativeReflectConstruct","construct","sham","valueOf","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","NewTarget","_unsupportedIterableToArray","minLen","_arrayLikeToArray","test","arr","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","err","return","AssignShortcuts","blacklist","shortcuts","taken","_iterator","_step","canUseFirstChar","_name","_shortcut","fromCharCode","add_css$e","get_each_context$5","create_each_block$5","move_changes","create_if_block_2$2","create_if_block_1$2","create_if_block$7","create_fragment$l","section0","h30","controls","section1","h31","playerinfo","section2","h32","ul0","t8","section3","h33","t10","ul1","t11","t12","t13","section4","h34","t15","jsontree0","t16","section5","h35","t18","jsontree1","t19","clientswitcher","if_block2","SanitizeCtx","controls_changes","playerinfo_changes","jsontree0_changes","jsontree1_changes","clientswitcher_changes","startsWith","instance$l","change_handler","switchPlayerID","Main","add_css$f","create_fragment$m","strong","instance$m","add_css$g","create_if_block$8","item","isConnected","item_changes","create_fragment$n","item0","item1","item2","isActive","multiplayer","item0_changes","item1_changes","item2_changes","instance$n","$client","$$unsubscribe_client","$$subscribe_client","Info","add_css$h","create_fragment$o","instance$o","numEvents","TurnMarker","add_css$i","create_fragment$p","instance$p","PhaseMarker","create_fragment$q","instance$q","renderedMetadata","LogMetadata","add_css$j","create_else_block$1","logmetadata","logmetadata_changes","create_if_block$9","create_fragment$r","button_class_value","instance$r","logIndex","pinned","metadataComponent","renderedArgs","actionType","mouseenter_handler","focus_handler","mouseleave_handler","blur_handler","LogEvent","create_default_slot$1","create_fragment$s","instance$s","FaArrowAltCircleDown","add_css$k","create_fragment$t","instance$t","argsFormatted","Action","add_css$l","get_each_context$6","create_each_block$6","tr","td0","td1","td2","mouseout_handler","mouseover_handler","action_changes","create_fragment$u","table","thead","tbody","innerHTML","instance$u","selectedIndex","parents","Select","Preview","arrowText","sort","Table","add_css$m","get_each_context$7","create_if_block_2$3","arrow","create_else_block$2","select_handler_1","table_changes","create_if_block_1$3","select_handler","preview_handler","create_each_block$7","create_if_block$a","create_fragment$v","instance$v","preview","SelectNode","PreviewNode","MCTS","add_css$n","get_each_context$8","get_each_context_1","get_each_context_2","create_if_block_1$4","turnmarker","turnmarker_changes","create_each_block_2","create_each_block_1","logevent","logevent_changes","create_if_block$b","phasemarker","phasemarker_changes","create_each_block$8","create_fragment$w","each_value_2","each_blocks_2","each_value_1","each_blocks_1","out_1","out_2","instance$w","secondaryPane","getInitialState","rewind","OnLogClick","renderedLogEntries","overrideGameState","OnMouseEnter","OnMouseLeave","Reset","keyCode","turnBoundaries","phaseBoundaries","eventsInCurrentPhase","eventsInCurrentTurn","Log","add_css$o","get_each_context$9","create_if_block_1$5","input_id_value","input_change_handler","checked","create_if_block$c","input_min_value","input_max_value","input_change_input_handler","create_each_block$9","label_for_value","current_block_type","create_fragment$x","each_1_anchor","instance$x","OnChange","makeID","Options","add_css$p","get_each_context$a","create_else_block$3","p0","p1","create_if_block_5","create_if_block$d","show_if","if_block1_anchor","create_each_block$a","create_if_block_4","create_if_block_1$6","h3","options_changes","create_if_block_3$1","create_if_block_2$4","progress_1","create_fragment$y","ai","instance$y","debug","progress","OnDebug","selectedBot","botAction","botActionArgs","ChangeBot","botConstructor","Step$1","sleepTimeout","Exit","AI","add_css$q","create_else_block$4","chevron","button_intro","button_outro","menu","div1_transition","create_if_block_1$7","menu_changes","create_if_block$e","create_fragment$z","instance$z","$secondaryPane","main","paneDiv","MenuChange","visible","transitionOpts","send","receive","div0_binding","Debug","formatProdErrorMessage","code","$$observable","observable","randomString","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","miniKindOf","val","isDate","isError","constructorName","ctorName","toLowerCase","stackTraceLimit","toDateString","getDate","setDate","kindOf","typeOfVal","createStore","preloadedState","enhancer","_ref2","currentReducer","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","warning","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","argumentName","unexpectedKeys","assertReducerShape","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","bindActionCreator","actionCreator","bindActionCreators","actionCreators","boundActionCreators","compose","_len","funcs","applyMiddleware","middlewares","_dispatch","middlewareAPI","chain","middleware","isCrushed","InitializeGame","setupData","enhancedCtx","Transport","transportDataCallback","gameName","connectionStatusCallback","subscribeToConnectionStatus","setConnectionStatus","notifyClient","DummyImpl","connect","disconnect","sendAction","sendChatMessage","requestSync","updateCredentials","updateMatchID","updatePlayerID","DummyTransport","ClientManager","debugPanel","currentClient","clients","register","mountDebug","notifySubscribers","unregister","unmountDebug","debugOpt","getDebuggableClients","DebugImpl","body","impl","GlobalClientManager","assumedPlayerID","createDispatchers","storeActionType","innerActionNames","dispatchers","createMoveDispatchers","createEventDispatchers","createPluginDispatchers","_ClientImpl","manager","gameStateOverride","_running","undo$1","redo$1","LogMiddleware","TransportMiddleware","baseState","transport","SubscriptionMiddleware","receiveTransportData","gameKey","chatMessages","sender","receiveMatchData","matchData","receiveChatMessage","syncInfo","filteredMetadata","patch$1","currentStateID","chatMessage","Client","assertString","assertGameName","assertMatchID","validateBody","schema","propSchema","types","received","union","LobbyClientError","details","LobbyClient","server","request","route","response","fetch","ok","status","post","headers","listGames","listMatches","where","query","queries","isGameover","updatedBefore","updatedAfter","getMatch","createMatch","joinMatch","playerName","leaveMatch","updatePlayer","playAgain","STRIP_SECRETS","secret","Shogi","cells","fillBoard","sente_captured_pieces","gote_captured_pieces","sente_king_position","gote_king_position","movePiece","initial_row","initial_column","target_row","target_column","player_piece","highlight","possible_cells","getPossibleCells","valid_move","row","new_row","capture","target_piece","valid","valid_row","substr","valid_column","still_check","isCheck","arised_piece","arisePiece","confirm","className","revivePiece","None","getPossibleRevive","possible_moves","row_id","column_id","piece","isCheckMate","pieces","GOTE_KING","GOTE_GOLDEN_GENERAL","GOTE_SILVER_GENERAL","GOTE_KNIGHT","GOTE_LANCE","GOTE_BISHOP","GOTE_ROOK","GOTE_PAWN","SENTE_KING","SENTE_GOLDEN_GENERAL","SENTE_SILVER_GENERAL","SENTE_KNIGHT","SENTE_LANCE","SENTE_BISHOP","SENTE_ROOK","SENTE_PAWN","ARISED_GOTE_SILVER_GENERAL","ARISED_GOTE_KNIGHT","ARISED_GOTE_LANCE","ARISED_GOTE_BISHOP","ARISED_GOTE_ROOK","ARISED_GOTE_PAWN","ARISED_SENTE_SILVER_GENERAL","ARISED_SENTE_KNIGHT","ARISED_SENTE_LANCE","ARISED_SENTE_BISHOP","ARISED_SENTE_ROOK","ARISED_SENTE_PAWN","board","tablero","j","player_and_piece","getPossibleCellsSente","getPossibleCellsGote","next_row","possible_cell","actual_row","back_row","front_row","right_stop","left_stop","back_stop","front_stop","back_right_stop","back_left_stop","front_right_stop","front_left_stop","pawn_free_columns","possible_revive_cells","getFreePawnColumns","cell","free","movePieceToAvoidMate","G_clone","revivePieceToAvoidMate","piece_type","players_piece","check","save_mate","is_check","saved","all_captured","ShogiClient","rootElement","createBoard","attachListeners","rows","sente_table","gote_table","querySelectorAll","captured_cells_sente","captured_cells_gote","row_target","column_target","piece_revive","choosePieceToMove","dataset","column","highlightPossibleMoves","onclick","clickFinalMove","capturePiece","chooseWhereToRevive","possible_revival","clickFinalRevive","updateBoard","updateCaptured","owner_piece","showPossibleMoves0","row_cells","rook_found","column_cells","possible_cells_column","diagonals1","diagonals2","diagonals3","diagonals4","ind","cells_array","roww","diagonal_name","showPossibleMoves1","cells_r","gameplay","captured","owner_captured_piece","PawnIcon","LanceIcon","GoldenSoldierIcon","SilverSoldierIcon","KnightIcon","BishopIcon","SenteKingIcon","GoteKingIcon","RookIcon","piece_name","cell_row","cell_column","cellRow","cellValue","captured_pieces","captured_divs","appElement","app","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","stackTrace","getParents","modules","dep","deps","cached","cache"],"mappings":"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IO3JpDwK,EAAAA,GAAexK,EAAAA,CAAMwK,YAANxK,CAAmB0K,IAAnB1K,CAAwBA,EAAxBA,CP2JqC;AAAA,IOrJpDsK,EAAAA,GAActK,EAAAA,CAAMsK,WAANtK,CAAkB0K,IAAlB1K,CAAuBA,EAAvBA,CPqJsC;AAAA,IO3IpDuK,EAAAA,GAAcvK,EAAAA,CAAMuK,WAANvK,CAAkB0K,IAAlB1K,CAAuBA,EAAvBA,CP2IsC;;;;;;;;;;eO3IfA;;;AE1FlD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC3IA;;AACA;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM2K,SAAS,GAAG,WAAlB;;AACA,MAAMC,UAAU,GAAG,YAAnB;;AACA,MAAMC,IAAI,GAAG,MAAb;;AACA,MAAMC,KAAK,GAAG,OAAd;;AACA,MAAMC,IAAI,GAAG,MAAb;;AACA,MAAMC,IAAI,GAAG,MAAb;;AA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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1LA;;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,MAAMC,GAAN,CAAU;AACN5qB,EAAAA,WAAW,CAAC;AAAE6qB,IAAAA,SAAF;AAAazY,IAAAA;AAAb,GAAD,EAAuB;AAC9B,SAAK0Y,WAAL,GAAmBD,SAAnB;AACA,SAAKzY,IAAL,GAAYA,IAAZ;AACA,SAAK2Y,gBAAL,GAAwB,CAAxB;AACA,SAAKC,KAAL,GAAa,EAAb;AACH;;AACDC,EAAAA,MAAM,CAAC;AAAE7pB,IAAAA,GAAF;AAAO8pB,IAAAA,KAAP;AAAcC,IAAAA;AAAd,GAAD,EAA2B;AAC7B,SAAKH,KAAL,CAAW5pB,GAAX,IAAkB;AACd8pB,MAAAA,KADc;AAEd3rB,MAAAA,KAAK,EAAE4rB;AAFO,KAAlB;AAIH;;AACDC,EAAAA,MAAM,CAAChqB,GAAD,EAAM;AACR,WAAO,KAAK4pB,KAAL,CA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","file":"App.f684dadd.js","sourceRoot":"..","sourcesContent":["// This alphabet uses `A-Za-z0-9_-` symbols. The genetic algorithm helped\n// optimize the gzip compression for this alphabet.\nlet urlAlphabet =\n  'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW'\n\nlet customAlphabet = (alphabet, size) => {\n  return () => {\n    let id = ''\n    // A compact alternative for `for (var i = 0; i < step; i++)`.\n    let i = size\n    while (i--) {\n      // `| 0` is more compact and faster than `Math.floor()`.\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  let i = size\n  while (i--) {\n    // `| 0` is more compact and faster than `Math.floor()`.\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet }\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtype,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === Archtype.Object) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): Archtype {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? Archtype.Array\n\t\t: isMap(thing)\n\t\t? Archtype.Map\n\t\t: isSet(thing)\n\t\t? Archtype.Set\n\t\t: Archtype.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === Archtype.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === Archtype.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === Archtype.Map) thing.set(propOrOldValue, value)\n\telse if (t === Archtype.Set) {\n\t\tthing.delete(propOrOldValue)\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\trootState: ImmerState,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: ProxyType.ES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: ProxyType.ES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ProxyType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ProxyType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyType,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyType.ProxyObject ||\n\t\tstate.type_ === ProxyType.ProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE],\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumarable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyType.ES5Object || state.type_ === ProxyType.ES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n\t\t// back to each(result, ....)\n\t\teach(\n\t\t\tstate.type_ === ProxyType.Set ? new Set(result) : result,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\tif (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyType\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyType.ProxyArray : (ProxyType.ProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\tstate.copy_![prop] === value &&\n\t\t\t// special case: NaN\n\t\t\ttypeof value !== \"number\" &&\n\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t(value !== undefined || prop in state.copy_)\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyType.ProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (\n\t\targ1: any,\n\t\targ2?: any,\n\t\targ3?: any\n\t): any => {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => arg1(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst nextState = this.produce(arg1, arg2, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches) as any\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches.slice(i + 1))\n\t\t) as any\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtype,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === Archtype.Set ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase Archtype.Map:\n\t\t\treturn new Map(value)\n\t\tcase Archtype.Set:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tImmerState,\n\tDrafted,\n\tES5ArrayState,\n\tES5ObjectState,\n\teach,\n\thas,\n\tisDraft,\n\tlatest,\n\tDRAFT_STATE,\n\tis,\n\tloadPlugin,\n\tImmerScope,\n\tProxyType,\n\tgetCurrentScope,\n\tdie,\n\tmarkChanged,\n\tobjectTraps,\n\townKeys,\n\tgetOwnPropertyDescriptors\n} from \"../internal\"\n\ntype ES5State = ES5ArrayState | ES5ObjectState\n\nexport function enableES5() {\n\tfunction willFinalizeES5_(\n\t\tscope: ImmerScope,\n\t\tresult: any,\n\t\tisReplaced: boolean\n\t) {\n\t\tif (!isReplaced) {\n\t\t\tif (scope.patches_) {\n\t\t\t\tmarkChangesRecursively(scope.drafts_![0])\n\t\t\t}\n\t\t\t// This is faster when we don't care about which attributes changed.\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t\t// When a child draft is returned, look for changes.\n\t\telse if (\n\t\t\tisDraft(result) &&\n\t\t\t(result[DRAFT_STATE] as ES5State).scope_ === scope\n\t\t) {\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t}\n\n\tfunction createES5Draft(isArray: boolean, base: any) {\n\t\tif (isArray) {\n\t\t\tconst draft = new Array(base.length)\n\t\t\tfor (let i = 0; i < base.length; i++)\n\t\t\t\tObject.defineProperty(draft, \"\" + i, proxyProperty(i, true))\n\t\t\treturn draft\n\t\t} else {\n\t\t\tconst descriptors = getOwnPropertyDescriptors(base)\n\t\t\tdelete descriptors[DRAFT_STATE as any]\n\t\t\tconst keys = ownKeys(descriptors)\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tconst key: any = keys[i]\n\t\t\t\tdescriptors[key] = proxyProperty(\n\t\t\t\t\tkey,\n\t\t\t\t\tisArray || !!descriptors[key].enumerable\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n\t\t}\n\t}\n\n\tfunction createES5Proxy_<T>(\n\t\tbase: T,\n\t\tparent?: ImmerState\n\t): Drafted<T, ES5ObjectState | ES5ArrayState> {\n\t\tconst isArray = Array.isArray(base)\n\t\tconst draft = createES5Draft(isArray, base)\n\n\t\tconst state: ES5ObjectState | ES5ArrayState = {\n\t\t\ttype_: isArray ? ProxyType.ES5Array : (ProxyType.ES5Object as any),\n\t\t\tscope_: parent ? parent.scope_ : getCurrentScope(),\n\t\t\tmodified_: false,\n\t\t\tfinalized_: false,\n\t\t\tassigned_: {},\n\t\t\tparent_: parent,\n\t\t\t// base is the object we are drafting\n\t\t\tbase_: base,\n\t\t\t// draft is the draft object itself, that traps all reads and reads from either the base (if unmodified) or copy (if modified)\n\t\t\tdraft_: draft,\n\t\t\tcopy_: null,\n\t\t\trevoked_: false,\n\t\t\tisManual_: false\n\t\t}\n\n\t\tObject.defineProperty(draft, DRAFT_STATE, {\n\t\t\tvalue: state,\n\t\t\t// enumerable: false <- the default\n\t\t\twritable: true\n\t\t})\n\t\treturn draft\n\t}\n\n\t// property descriptors are recycled to make sure we don't create a get and set closure per property,\n\t// but share them all instead\n\tconst descriptors: {[prop: string]: PropertyDescriptor} = {}\n\n\tfunction proxyProperty(\n\t\tprop: string | number,\n\t\tenumerable: boolean\n\t): PropertyDescriptor {\n\t\tlet desc = descriptors[prop]\n\t\tif (desc) {\n\t\t\tdesc.enumerable = enumerable\n\t\t} else {\n\t\t\tdescriptors[prop] = desc = {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable,\n\t\t\t\tget(this: any) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn objectTraps.get(state, prop)\n\t\t\t\t},\n\t\t\t\tset(this: any, value) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tobjectTraps.set(state, prop, value)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn desc\n\t}\n\n\t// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\tfunction markChangesSweep(drafts: Drafted<any, ImmerState>[]) {\n\t\t// The natural order of drafts in the `scope` array is based on when they\n\t\t// were accessed. By processing drafts in reverse natural order, we have a\n\t\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t\t// have changed, we can avoid any traversal of its ancestor nodes.\n\t\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\t\tconst state: ES5State = drafts[i][DRAFT_STATE]\n\t\t\tif (!state.modified_) {\n\t\t\t\tswitch (state.type_) {\n\t\t\t\t\tcase ProxyType.ES5Array:\n\t\t\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase ProxyType.ES5Object:\n\t\t\t\t\t\tif (hasObjectChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction markChangesRecursively(object: any) {\n\t\tif (!object || typeof object !== \"object\") return\n\t\tconst state: ES5State | undefined = object[DRAFT_STATE]\n\t\tif (!state) return\n\t\tconst {base_, draft_, assigned_, type_} = state\n\t\tif (type_ === ProxyType.ES5Object) {\n\t\t\t// Look for added keys.\n\t\t\t// probably there is a faster way to detect changes, as sweep + recurse seems to do some\n\t\t\t// unnecessary work.\n\t\t\t// also: probably we can store the information we detect here, to speed up tree finalization!\n\t\t\teach(draft_, key => {\n\t\t\t\tif ((key as any) === DRAFT_STATE) return\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif ((base_ as any)[key] === undefined && !has(base_, key)) {\n\t\t\t\t\tassigned_[key] = true\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t} else if (!assigned_[key]) {\n\t\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\t\tmarkChangesRecursively(draft_[key])\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Look for removed keys.\n\t\t\teach(base_, key => {\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif (draft_[key] === undefined && !has(draft_, key)) {\n\t\t\t\t\tassigned_[key] = false\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (type_ === ProxyType.ES5Array) {\n\t\t\tif (hasArrayChanges(state as ES5ArrayState)) {\n\t\t\t\tmarkChanged(state)\n\t\t\t\tassigned_.length = true\n\t\t\t}\n\n\t\t\tif (draft_.length < base_.length) {\n\t\t\t\tfor (let i = draft_.length; i < base_.length; i++) assigned_[i] = false\n\t\t\t} else {\n\t\t\t\tfor (let i = base_.length; i < draft_.length; i++) assigned_[i] = true\n\t\t\t}\n\n\t\t\t// Minimum count is enough, the other parts has been processed.\n\t\t\tconst min = Math.min(draft_.length, base_.length)\n\n\t\t\tfor (let i = 0; i < min; i++) {\n\t\t\t\t// Only untouched indices trigger recursion.\n\t\t\t\tif (assigned_[i] === undefined) markChangesRecursively(draft_[i])\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasObjectChanges(state: ES5ObjectState) {\n\t\tconst {base_, draft_} = state\n\n\t\t// Search for added keys and changed keys. Start at the back, because\n\t\t// non-numeric keys are ordered by time of definition on the object.\n\t\tconst keys = ownKeys(draft_)\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tconst key: any = keys[i]\n\t\t\tif (key === DRAFT_STATE) continue\n\t\t\tconst baseValue = base_[key]\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (baseValue === undefined && !has(base_, key)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t\t// descriptor is erased. This branch detects any missed changes.\n\t\t\telse {\n\t\t\t\tconst value = draft_[key]\n\t\t\t\tconst state: ImmerState = value && value[DRAFT_STATE]\n\t\t\t\tif (state ? state.base_ !== baseValue : !is(value, baseValue)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// At this point, no keys were added or changed.\n\t\t// Compare key count to determine if keys were deleted.\n\t\tconst baseIsDraft = !!base_[DRAFT_STATE as any]\n\t\treturn keys.length !== ownKeys(base_).length + (baseIsDraft ? 0 : 1) // + 1 to correct for DRAFT_STATE\n\t}\n\n\tfunction hasArrayChanges(state: ES5ArrayState) {\n\t\tconst {draft_} = state\n\t\tif (draft_.length !== state.base_.length) return true\n\t\t// See #116\n\t\t// If we first shorten the length, our array interceptors will be removed.\n\t\t// If after that new items are added, result in the same original length,\n\t\t// those last items will have no intercepting property.\n\t\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t\t// the last one\n\t\tconst descriptor = Object.getOwnPropertyDescriptor(\n\t\t\tdraft_,\n\t\t\tdraft_.length - 1\n\t\t)\n\t\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\t\tif (descriptor && !descriptor.get) return true\n\t\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\t\treturn false\n\t}\n\n\tfunction hasChanges_(state: ES5State) {\n\t\treturn state.type_ === ProxyType.ES5Object\n\t\t\t? hasObjectChanges(state)\n\t\t\t: hasArrayChanges(state)\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"ES5\", {\n\t\tcreateES5Proxy_,\n\t\twillFinalizeES5_,\n\t\thasChanges_\n\t})\n}\n","import {immerable} from \"../immer\"\nimport {\n\tImmerState,\n\tPatch,\n\tSetState,\n\tES5ArrayState,\n\tProxyArrayState,\n\tMapState,\n\tES5ObjectState,\n\tProxyObjectState,\n\tPatchPath,\n\tget,\n\teach,\n\thas,\n\tgetArchtype,\n\tisSet,\n\tisMap,\n\tloadPlugin,\n\tProxyType,\n\tArchtype,\n\tdie,\n\tisDraft,\n\tisDraftable,\n\tNOTHING\n} from \"../internal\"\n\nexport function enablePatches() {\n\tconst REPLACE = \"replace\"\n\tconst ADD = \"add\"\n\tconst REMOVE = \"remove\"\n\n\tfunction generatePatches_(\n\t\tstate: ImmerState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tswitch (state.type_) {\n\t\t\tcase ProxyType.ProxyObject:\n\t\t\tcase ProxyType.ES5Object:\n\t\t\tcase ProxyType.Map:\n\t\t\t\treturn generatePatchesFromAssigned(\n\t\t\t\t\tstate,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t\tcase ProxyType.ES5Array:\n\t\t\tcase ProxyType.ProxyArray:\n\t\t\t\treturn generateArrayPatches(state, basePath, patches, inversePatches)\n\t\t\tcase ProxyType.Set:\n\t\t\t\treturn generateSetPatches(\n\t\t\t\t\t(state as any) as SetState,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t}\n\t}\n\n\tfunction generateArrayPatches(\n\t\tstate: ES5ArrayState | ProxyArrayState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, assigned_} = state\n\t\tlet copy_ = state.copy_!\n\n\t\t// Reduce complexity by ensuring `base` is never longer.\n\t\tif (copy_.length < base_.length) {\n\t\t\t// @ts-ignore\n\t\t\t;[base_, copy_] = [copy_, base_]\n\t\t\t;[patches, inversePatches] = [inversePatches, patches]\n\t\t}\n\n\t\t// Process replaced indices.\n\t\tfor (let i = 0; i < base_.length; i++) {\n\t\t\tif (assigned_[i] && copy_[i] !== base_[i]) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t\t})\n\t\t\t\tinversePatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(base_[i])\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\t// Process added indices.\n\t\tfor (let i = base_.length; i < copy_.length; i++) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: ADD,\n\t\t\t\tpath,\n\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t})\n\t\t}\n\t\tif (base_.length < copy_.length) {\n\t\t\tinversePatches.push({\n\t\t\t\top: REPLACE,\n\t\t\t\tpath: basePath.concat([\"length\"]),\n\t\t\t\tvalue: base_.length\n\t\t\t})\n\t\t}\n\t}\n\n\t// This is used for both Map objects and normal objects.\n\tfunction generatePatchesFromAssigned(\n\t\tstate: MapState | ES5ObjectState | ProxyObjectState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tconst {base_, copy_} = state\n\t\teach(state.assigned_!, (key, assignedValue) => {\n\t\t\tconst origValue = get(base_, key)\n\t\t\tconst value = get(copy_!, key)\n\t\t\tconst op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD\n\t\t\tif (origValue === value && op === REPLACE) return\n\t\t\tconst path = basePath.concat(key as any)\n\t\t\tpatches.push(op === REMOVE ? {op, path} : {op, path, value})\n\t\t\tinversePatches.push(\n\t\t\t\top === ADD\n\t\t\t\t\t? {op: REMOVE, path}\n\t\t\t\t\t: op === REMOVE\n\t\t\t\t\t? {op: ADD, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t\t\t: {op: REPLACE, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t)\n\t\t})\n\t}\n\n\tfunction generateSetPatches(\n\t\tstate: SetState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, copy_} = state\n\n\t\tlet i = 0\n\t\tbase_.forEach((value: any) => {\n\t\t\tif (!copy_!.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t\ti = 0\n\t\tcopy_!.forEach((value: any) => {\n\t\t\tif (!base_.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t}\n\n\tfunction generateReplacementPatches_(\n\t\trootState: ImmerState,\n\t\treplacement: any,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tpatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: replacement === NOTHING ? undefined : replacement\n\t\t})\n\t\tinversePatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: rootState.base_\n\t\t})\n\t}\n\n\tfunction applyPatches_<T>(draft: T, patches: Patch[]): T {\n\t\tpatches.forEach(patch => {\n\t\t\tconst {path, op} = patch\n\n\t\t\tlet base: any = draft\n\t\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\t\tconst parentType = getArchtype(base)\n\t\t\t\tconst p = \"\" + path[i]\n\t\t\t\t// See #738, avoid prototype pollution\n\t\t\t\tif (\n\t\t\t\t\t(parentType === Archtype.Object || parentType === Archtype.Array) &&\n\t\t\t\t\t(p === \"__proto__\" || p === \"constructor\")\n\t\t\t\t)\n\t\t\t\t\tdie(24)\n\t\t\t\tif (typeof base === \"function\" && p === \"prototype\") die(24)\n\t\t\t\tbase = get(base, p)\n\t\t\t\tif (typeof base !== \"object\") die(15, path.join(\"/\"))\n\t\t\t}\n\n\t\t\tconst type = getArchtype(base)\n\t\t\tconst value = deepClonePatchValue(patch.value) // used to clone patch to ensure original patch is not modified, see #411\n\t\t\tconst key = path[path.length - 1]\n\t\t\tswitch (op) {\n\t\t\t\tcase REPLACE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase Archtype.Map:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tcase Archtype.Set:\n\t\t\t\t\t\t\tdie(16)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// if value is an object, then it's assigned by reference\n\t\t\t\t\t\t\t// in the following add or remove ops, the value field inside the patch will also be modifyed\n\t\t\t\t\t\t\t// so we use value from the cloned patch\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase ADD:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase Archtype.Array:\n\t\t\t\t\t\t\treturn base.splice(key as any, 0, value)\n\t\t\t\t\t\tcase Archtype.Map:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\tcase Archtype.Set:\n\t\t\t\t\t\t\treturn base.add(value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase REMOVE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase Archtype.Array:\n\t\t\t\t\t\t\treturn base.splice(key as any, 1)\n\t\t\t\t\t\tcase Archtype.Map:\n\t\t\t\t\t\t\treturn base.delete(key)\n\t\t\t\t\t\tcase Archtype.Set:\n\t\t\t\t\t\t\treturn base.delete(patch.value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn delete base[key]\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tdie(17, op)\n\t\t\t}\n\t\t})\n\n\t\treturn draft\n\t}\n\n\t// optimize: this is quite a performance hit, can we detect intelligently when it is needed?\n\t// E.g. auto-draft when new objects from outside are assigned and modified?\n\t// (See failing test when deepClone just returns obj)\n\tfunction deepClonePatchValue<T>(obj: T): T\n\tfunction deepClonePatchValue(obj: any) {\n\t\tif (!isDraftable(obj)) return obj\n\t\tif (Array.isArray(obj)) return obj.map(deepClonePatchValue)\n\t\tif (isMap(obj))\n\t\t\treturn new Map(\n\t\t\t\tArray.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n\t\t\t)\n\t\tif (isSet(obj)) return new Set(Array.from(obj).map(deepClonePatchValue))\n\t\tconst cloned = Object.create(Object.getPrototypeOf(obj))\n\t\tfor (const key in obj) cloned[key] = deepClonePatchValue(obj[key])\n\t\tif (has(obj, immerable)) cloned[immerable] = obj[immerable]\n\t\treturn cloned\n\t}\n\n\tfunction clonePatchValueIfNeeded<T>(obj: T): T {\n\t\tif (isDraft(obj)) {\n\t\t\treturn deepClonePatchValue(obj)\n\t\t} else return obj\n\t}\n\n\tloadPlugin(\"Patches\", {\n\t\tapplyPatches_,\n\t\tgeneratePatches_,\n\t\tgenerateReplacementPatches_\n\t})\n}\n","// types only!\nimport {\n\tImmerState,\n\tAnyMap,\n\tAnySet,\n\tMapState,\n\tSetState,\n\tDRAFT_STATE,\n\tgetCurrentScope,\n\tlatest,\n\titeratorSymbol,\n\tisDraftable,\n\tcreateProxy,\n\tloadPlugin,\n\tmarkChanged,\n\tProxyType,\n\tdie,\n\teach\n} from \"../internal\"\n\nexport function enableMapSet() {\n\t/* istanbul ignore next */\n\tvar extendStatics = function(d: any, b: any): any {\n\t\textendStatics =\n\t\t\tObject.setPrototypeOf ||\n\t\t\t({__proto__: []} instanceof Array &&\n\t\t\t\tfunction(d, b) {\n\t\t\t\t\td.__proto__ = b\n\t\t\t\t}) ||\n\t\t\tfunction(d, b) {\n\t\t\t\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]\n\t\t\t}\n\t\treturn extendStatics(d, b)\n\t}\n\n\t// Ugly hack to resolve #502 and inherit built in Map / Set\n\tfunction __extends(d: any, b: any): any {\n\t\textendStatics(d, b)\n\t\tfunction __(this: any): any {\n\t\t\tthis.constructor = d\n\t\t}\n\t\td.prototype =\n\t\t\t// @ts-ignore\n\t\t\t((__.prototype = b.prototype), new __())\n\t}\n\n\tconst DraftMap = (function(_super) {\n\t\t__extends(DraftMap, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftMap(this: any, target: AnyMap, parent?: ImmerState): any {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyType.Map,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tassigned_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this as any,\n\t\t\t\tisManual_: false,\n\t\t\t\trevoked_: false\n\t\t\t} as MapState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftMap.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: false,\n\t\t\t// configurable: true\n\t\t})\n\n\t\tp.has = function(key: any): boolean {\n\t\t\treturn latest(this[DRAFT_STATE]).has(key)\n\t\t}\n\n\t\tp.set = function(key: any, value: any) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!latest(state).has(key) || latest(state).get(key) !== value) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t\tstate.copy_!.set(key, value)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(key: any): boolean {\n\t\t\tif (!this.has(key)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareMapCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\tstate.assigned_!.set(key, false)\n\t\t\tstate.copy_!.delete(key)\n\t\t\treturn true\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_ = new Map()\n\t\t\t\teach(state.base_, key => {\n\t\t\t\t\tstate.assigned_!.set(key, false)\n\t\t\t\t})\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.forEach = function(\n\t\t\tcb: (value: any, key: any, self: any) => void,\n\t\t\tthisArg?: any\n\t\t) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tlatest(state).forEach((_value: any, key: any, _map: any) => {\n\t\t\t\tcb.call(thisArg, this.get(key), key, this)\n\t\t\t})\n\t\t}\n\n\t\tp.get = function(key: any): any {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tconst value = latest(state).get(key)\n\t\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\t\treturn value\n\t\t\t}\n\t\t\tif (value !== state.base_.get(key)) {\n\t\t\t\treturn value // either already drafted or reassigned\n\t\t\t}\n\t\t\t// despite what it looks, this creates a draft only once, see above condition\n\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\tprepareMapCopy(state)\n\t\t\tstate.copy_!.set(key, draft)\n\t\t\treturn draft\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn latest(this[DRAFT_STATE]).keys()\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.values(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp.entries = function(): IterableIterator<[any, any]> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.entries(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue: [r.value, value]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.entries()\n\t\t}\n\n\t\treturn DraftMap\n\t})(Map)\n\n\tfunction proxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftMap(target, parent)\n\t}\n\n\tfunction prepareMapCopy(state: MapState) {\n\t\tif (!state.copy_) {\n\t\t\tstate.assigned_ = new Map()\n\t\t\tstate.copy_ = new Map(state.base_)\n\t\t}\n\t}\n\n\tconst DraftSet = (function(_super) {\n\t\t__extends(DraftSet, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftSet(this: any, target: AnySet, parent?: ImmerState) {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyType.Set,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this,\n\t\t\t\tdrafts_: new Map(),\n\t\t\t\trevoked_: false,\n\t\t\t\tisManual_: false\n\t\t\t} as SetState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftSet.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: true,\n\t\t})\n\n\t\tp.has = function(value: any): boolean {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\t// bit of trickery here, to be able to recognize both the value, and the draft of its value\n\t\t\tif (!state.copy_) {\n\t\t\t\treturn state.base_.has(value)\n\t\t\t}\n\t\t\tif (state.copy_.has(value)) return true\n\t\t\tif (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n\t\t\t\treturn true\n\t\t\treturn false\n\t\t}\n\n\t\tp.add = function(value: any): any {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!this.has(value)) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.add(value)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(value: any): any {\n\t\t\tif (!this.has(value)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\treturn (\n\t\t\t\tstate.copy_!.delete(value) ||\n\t\t\t\t(state.drafts_.has(value)\n\t\t\t\t\t? state.copy_!.delete(state.drafts_.get(value))\n\t\t\t\t\t: /* istanbul ignore next */ false)\n\t\t\t)\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.values()\n\t\t}\n\n\t\tp.entries = function entries(): IterableIterator<[any, any]> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.entries()\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp.forEach = function forEach(cb: any, thisArg?: any) {\n\t\t\tconst iterator = this.values()\n\t\t\tlet result = iterator.next()\n\t\t\twhile (!result.done) {\n\t\t\t\tcb.call(thisArg, result.value, result.value, this)\n\t\t\t\tresult = iterator.next()\n\t\t\t}\n\t\t}\n\n\t\treturn DraftSet\n\t})(Set)\n\n\tfunction proxySet_<T extends AnySet>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftSet(target, parent)\n\t}\n\n\tfunction prepareSetCopy(state: SetState) {\n\t\tif (!state.copy_) {\n\t\t\t// create drafts for all entries to preserve insertion order\n\t\t\tstate.copy_ = new Set()\n\t\t\tstate.base_.forEach(value => {\n\t\t\t\tif (isDraftable(value)) {\n\t\t\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\t\t\tstate.drafts_.set(value, draft)\n\t\t\t\t\tstate.copy_!.add(draft)\n\t\t\t\t} else {\n\t\t\t\t\tstate.copy_!.add(value)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"MapSet\", {proxyMap_, proxySet_})\n}\n","import {enableES5} from \"./es5\"\nimport {enableMapSet} from \"./mapset\"\nimport {enablePatches} from \"./patches\"\n\nexport function enableAllPlugins() {\n\tenableES5()\n\tenableMapSet()\n\tenablePatches()\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n","import produce from 'immer';\nimport isPlainObject from 'lodash.isplainobject';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst MAKE_MOVE = 'MAKE_MOVE';\r\nconst GAME_EVENT = 'GAME_EVENT';\r\nconst REDO = 'REDO';\r\nconst RESET = 'RESET';\r\nconst SYNC = 'SYNC';\r\nconst UNDO = 'UNDO';\r\nconst UPDATE = 'UPDATE';\r\nconst PATCH = 'PATCH';\r\nconst PLUGIN = 'PLUGIN';\r\nconst STRIP_TRANSIENTS = 'STRIP_TRANSIENTS';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Generate a move to be dispatched to the game move reducer.\r\n *\r\n * @param {string} type - The move type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst makeMove = (type, args, playerID, credentials) => ({\r\n    type: MAKE_MOVE,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate a game event to be dispatched to the flow reducer.\r\n *\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst gameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Generate an automatic game event that is a side-effect of a move.\r\n * @param {string} type - The event type.\r\n * @param {Array}  args - Additional arguments.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst automaticGameEvent = (type, args, playerID, credentials) => ({\r\n    type: GAME_EVENT,\r\n    payload: { type, args, playerID, credentials },\r\n    automatic: true,\r\n});\r\nconst sync = (info) => ({\r\n    type: SYNC,\r\n    state: info.state,\r\n    log: info.log,\r\n    initialState: info.initialState,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to update the Redux store's state with patch in response to\r\n * an action coming from another player.\r\n * @param prevStateID previous stateID\r\n * @param stateID stateID after this patch\r\n * @param {Operation[]} patch - The patch to apply.\r\n * @param {LogEntry[]} deltalog - A log delta.\r\n */\r\nconst patch = (prevStateID, stateID, patch, deltalog) => ({\r\n    type: PATCH,\r\n    prevStateID,\r\n    stateID,\r\n    patch,\r\n    deltalog,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to update the Redux store's state in response to\r\n * an action coming from another player.\r\n * @param {object} state - The state to restore.\r\n * @param {Array} deltalog - A log delta.\r\n */\r\nconst update = (state, deltalog) => ({\r\n    type: UPDATE,\r\n    state,\r\n    deltalog,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to reset the game state.\r\n * @param {object} state - The initial state.\r\n */\r\nconst reset = (state) => ({\r\n    type: RESET,\r\n    state,\r\n    clientOnly: true,\r\n});\r\n/**\r\n * Used to undo the last move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst undo = (playerID, credentials) => ({\r\n    type: UNDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Used to redo the last undone move.\r\n * @param {string}  playerID - The ID of the player making this action.\r\n * @param {string}  credentials - (optional) The credentials for the player making this action.\r\n */\r\nconst redo = (playerID, credentials) => ({\r\n    type: REDO,\r\n    payload: { type: null, args: null, playerID, credentials },\r\n});\r\n/**\r\n * Allows plugins to define their own actions and intercept them.\r\n */\r\nconst plugin = (type, args, playerID, credentials) => ({\r\n    type: PLUGIN,\r\n    payload: { type, args, playerID, credentials },\r\n});\r\n/**\r\n * Private action used to strip transient metadata (e.g. errors) from the game\r\n * state.\r\n */\r\nconst stripTransients = () => ({\r\n    type: STRIP_TRANSIENTS,\r\n});\n\nvar ActionCreators = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  makeMove: makeMove,\n  gameEvent: gameEvent,\n  automaticGameEvent: automaticGameEvent,\n  sync: sync,\n  patch: patch,\n  update: update,\n  reset: reset,\n  undo: undo,\n  redo: redo,\n  plugin: plugin,\n  stripTransients: stripTransients\n});\n\n/**\r\n * Moves can return this when they want to indicate\r\n * that the combination of arguments is illegal and\r\n * the move ought to be discarded.\r\n */\r\nconst INVALID_MOVE = 'INVALID_MOVE';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Plugin that allows using Immer to make immutable changes\r\n * to G by just mutating it.\r\n */\r\nconst ImmerPlugin = {\r\n    name: 'plugin-immer',\r\n    fnWrap: (move) => (G, ctx, ...args) => {\r\n        let isInvalid = false;\r\n        const newG = produce(G, (G) => {\r\n            const result = move(G, ctx, ...args);\r\n            if (result === INVALID_MOVE) {\r\n                isInvalid = true;\r\n                return;\r\n            }\r\n            return result;\r\n        });\r\n        if (isInvalid)\r\n            return INVALID_MOVE;\r\n        return newG;\r\n    },\r\n};\n\n// Inlined version of Alea from https://github.com/davidbau/seedrandom.\r\n// Converted to Typescript October 2020.\r\nclass Alea {\r\n    constructor(seed) {\r\n        const mash = Mash();\r\n        // Apply the seeding algorithm from Baagoe.\r\n        this.c = 1;\r\n        this.s0 = mash(' ');\r\n        this.s1 = mash(' ');\r\n        this.s2 = mash(' ');\r\n        this.s0 -= mash(seed);\r\n        if (this.s0 < 0) {\r\n            this.s0 += 1;\r\n        }\r\n        this.s1 -= mash(seed);\r\n        if (this.s1 < 0) {\r\n            this.s1 += 1;\r\n        }\r\n        this.s2 -= mash(seed);\r\n        if (this.s2 < 0) {\r\n            this.s2 += 1;\r\n        }\r\n    }\r\n    next() {\r\n        const t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\r\n        this.s0 = this.s1;\r\n        this.s1 = this.s2;\r\n        return (this.s2 = t - (this.c = Math.trunc(t)));\r\n    }\r\n}\r\nfunction Mash() {\r\n    let n = 0xefc8249d;\r\n    const mash = function (data) {\r\n        const str = data.toString();\r\n        for (let i = 0; i < str.length; i++) {\r\n            n += str.charCodeAt(i);\r\n            let h = 0.02519603282416938 * n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            h *= n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            n += h * 0x100000000; // 2^32\r\n        }\r\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\r\n    };\r\n    return mash;\r\n}\r\nfunction copy(f, t) {\r\n    t.c = f.c;\r\n    t.s0 = f.s0;\r\n    t.s1 = f.s1;\r\n    t.s2 = f.s2;\r\n    return t;\r\n}\r\nfunction alea(seed, state) {\r\n    const xg = new Alea(seed);\r\n    const prng = xg.next.bind(xg);\r\n    if (state)\r\n        copy(state, xg);\r\n    prng.state = () => copy(xg, {});\r\n    return prng;\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Random\r\n *\r\n * Calls that require a pseudorandom number generator.\r\n * Uses a seed from ctx, and also persists the PRNG\r\n * state in ctx so that moves can stay pure.\r\n */\r\nclass Random {\r\n    /**\r\n     * constructor\r\n     * @param {object} ctx - The ctx object to initialize from.\r\n     */\r\n    constructor(state) {\r\n        // If we are on the client, the seed is not present.\r\n        // Just use a temporary seed to execute the move without\r\n        // crashing it. The move state itself is discarded,\r\n        // so the actual value doesn't matter.\r\n        this.state = state || { seed: '0' };\r\n        this.used = false;\r\n    }\r\n    /**\r\n     * Generates a new seed from the current date / time.\r\n     */\r\n    static seed() {\r\n        return Date.now().toString(36).slice(-10);\r\n    }\r\n    isUsed() {\r\n        return this.used;\r\n    }\r\n    getState() {\r\n        return this.state;\r\n    }\r\n    /**\r\n     * Generate a random number.\r\n     */\r\n    _random() {\r\n        this.used = true;\r\n        const R = this.state;\r\n        const seed = R.prngstate ? '' : R.seed;\r\n        const rand = alea(seed, R.prngstate);\r\n        const number = rand();\r\n        this.state = {\r\n            ...R,\r\n            prngstate: rand.state(),\r\n        };\r\n        return number;\r\n    }\r\n    api() {\r\n        const random = this._random.bind(this);\r\n        const SpotValue = {\r\n            D4: 4,\r\n            D6: 6,\r\n            D8: 8,\r\n            D10: 10,\r\n            D12: 12,\r\n            D20: 20,\r\n        };\r\n        // Generate functions for predefined dice values D4 - D20.\r\n        const predefined = {};\r\n        for (const key in SpotValue) {\r\n            const spotvalue = SpotValue[key];\r\n            predefined[key] = (diceCount) => {\r\n                return diceCount === undefined\r\n                    ? Math.floor(random() * spotvalue) + 1\r\n                    : Array.from({ length: diceCount }).map(() => Math.floor(random() * spotvalue) + 1);\r\n            };\r\n        }\r\n        function Die(spotvalue = 6, diceCount) {\r\n            return diceCount === undefined\r\n                ? Math.floor(random() * spotvalue) + 1\r\n                : Array.from({ length: diceCount }).map(() => Math.floor(random() * spotvalue) + 1);\r\n        }\r\n        return {\r\n            /**\r\n             * Similar to Die below, but with fixed spot values.\r\n             * Supports passing a diceCount\r\n             *    if not defined, defaults to 1 and returns the value directly.\r\n             *    if defined, returns an array containing the random dice values.\r\n             *\r\n             * D4: (diceCount) => value\r\n             * D6: (diceCount) => value\r\n             * D8: (diceCount) => value\r\n             * D10: (diceCount) => value\r\n             * D12: (diceCount) => value\r\n             * D20: (diceCount) => value\r\n             */\r\n            ...predefined,\r\n            /**\r\n             * Roll a die of specified spot value.\r\n             *\r\n             * @param {number} spotvalue - The die dimension (default: 6).\r\n             * @param {number} diceCount - number of dice to throw.\r\n             *                             if not defined, defaults to 1 and returns the value directly.\r\n             *                             if defined, returns an array containing the random dice values.\r\n             */\r\n            Die,\r\n            /**\r\n             * Generate a random number between 0 and 1.\r\n             */\r\n            Number: () => {\r\n                return random();\r\n            },\r\n            /**\r\n             * Shuffle an array.\r\n             *\r\n             * @param {Array} deck - The array to shuffle. Does not mutate\r\n             *                       the input, but returns the shuffled array.\r\n             */\r\n            Shuffle: (deck) => {\r\n                const clone = [...deck];\r\n                let sourceIndex = deck.length;\r\n                let destinationIndex = 0;\r\n                const shuffled = Array.from({ length: sourceIndex });\r\n                while (sourceIndex) {\r\n                    const randomIndex = Math.trunc(sourceIndex * random());\r\n                    shuffled[destinationIndex++] = clone[randomIndex];\r\n                    clone[randomIndex] = clone[--sourceIndex];\r\n                }\r\n                return shuffled;\r\n            },\r\n            _private: this,\r\n        };\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst RandomPlugin = {\r\n    name: 'random',\r\n    noClient: ({ api }) => {\r\n        return api._private.isUsed();\r\n    },\r\n    flush: ({ api }) => {\r\n        return api._private.getState();\r\n    },\r\n    api: ({ data }) => {\r\n        const random = new Random(data);\r\n        return random.api();\r\n    },\r\n    setup: ({ game }) => {\r\n        let { seed } = game;\r\n        if (seed === undefined) {\r\n            seed = Random.seed();\r\n        }\r\n        return { seed };\r\n    },\r\n    playerView: () => undefined,\r\n};\n\nvar GameMethod;\r\n(function (GameMethod) {\r\n    GameMethod[\"MOVE\"] = \"MOVE\";\r\n    GameMethod[\"GAME_ON_END\"] = \"GAME_ON_END\";\r\n    GameMethod[\"PHASE_ON_BEGIN\"] = \"PHASE_ON_BEGIN\";\r\n    GameMethod[\"PHASE_ON_END\"] = \"PHASE_ON_END\";\r\n    GameMethod[\"TURN_ON_BEGIN\"] = \"TURN_ON_BEGIN\";\r\n    GameMethod[\"TURN_ON_MOVE\"] = \"TURN_ON_MOVE\";\r\n    GameMethod[\"TURN_ON_END\"] = \"TURN_ON_END\";\r\n})(GameMethod || (GameMethod = {}));\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nvar Errors;\r\n(function (Errors) {\r\n    Errors[\"CalledOutsideHook\"] = \"Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.\";\r\n    Errors[\"EndTurnInOnEnd\"] = \"`endTurn` is disallowed in `onEnd` hooks \\u2014 the turn is already ending.\";\r\n    Errors[\"MaxTurnEndings\"] = \"Maximum number of turn endings exceeded for this update.\\nThis likely means game code is triggering an infinite loop.\";\r\n    Errors[\"PhaseEventInOnEnd\"] = \"`setPhase` & `endPhase` are disallowed in a phase\\u2019s `onEnd` hook \\u2014 the phase is already ending.\\nIf you\\u2019re trying to dynamically choose the next phase when a phase ends, use the phase\\u2019s `next` trigger.\";\r\n    Errors[\"StageEventInOnEnd\"] = \"`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.\";\r\n    Errors[\"StageEventInPhaseBegin\"] = \"`setStage`, `endStage` & `setActivePlayers` are disallowed in a phase\\u2019s `onBegin` hook.\\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.\";\r\n    Errors[\"StageEventInTurnBegin\"] = \"`setStage` & `endStage` are disallowed in `turn.onBegin`.\\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead.\";\r\n})(Errors || (Errors = {}));\r\n/**\r\n * Events\r\n */\r\nclass Events {\r\n    constructor(flow, ctx, playerID) {\r\n        this.flow = flow;\r\n        this.playerID = playerID;\r\n        this.dispatch = [];\r\n        this.initialTurn = ctx.turn;\r\n        this.updateTurnContext(ctx, undefined);\r\n        // This is an arbitrarily large upper threshold, which could be made\r\n        // configurable via a game option if the need arises.\r\n        this.maxEndedTurnsPerAction = ctx.numPlayers * 100;\r\n    }\r\n    api() {\r\n        const events = {\r\n            _private: this,\r\n        };\r\n        for (const type of this.flow.eventNames) {\r\n            events[type] = (...args) => {\r\n                this.dispatch.push({\r\n                    type,\r\n                    args,\r\n                    phase: this.currentPhase,\r\n                    turn: this.currentTurn,\r\n                    calledFrom: this.currentMethod,\r\n                    // Used to capture a stack trace in case it is needed later.\r\n                    error: new Error('Events Plugin Error'),\r\n                });\r\n            };\r\n        }\r\n        return events;\r\n    }\r\n    isUsed() {\r\n        return this.dispatch.length > 0;\r\n    }\r\n    updateTurnContext(ctx, methodType) {\r\n        this.currentPhase = ctx.phase;\r\n        this.currentTurn = ctx.turn;\r\n        this.currentMethod = methodType;\r\n    }\r\n    unsetCurrentMethod() {\r\n        this.currentMethod = undefined;\r\n    }\r\n    /**\r\n     * Updates ctx with the triggered events.\r\n     * @param {object} state - The state object { G, ctx }.\r\n     */\r\n    update(state) {\r\n        const initialState = state;\r\n        const stateWithError = ({ stack }, message) => ({\r\n            ...initialState,\r\n            plugins: {\r\n                ...initialState.plugins,\r\n                events: {\r\n                    ...initialState.plugins.events,\r\n                    data: { error: message + '\\n' + stack },\r\n                },\r\n            },\r\n        });\r\n        EventQueue: for (let i = 0; i < this.dispatch.length; i++) {\r\n            const event = this.dispatch[i];\r\n            const turnHasEnded = event.turn !== state.ctx.turn;\r\n            // This protects against potential infinite loops if specific events are called on hooks.\r\n            // The moment we exceed the defined threshold, we just bail out of all phases.\r\n            const endedTurns = this.currentTurn - this.initialTurn;\r\n            if (endedTurns >= this.maxEndedTurnsPerAction) {\r\n                return stateWithError(event.error, Errors.MaxTurnEndings);\r\n            }\r\n            if (event.calledFrom === undefined) {\r\n                return stateWithError(event.error, Errors.CalledOutsideHook);\r\n            }\r\n            // Stop processing events once the game has finished.\r\n            if (state.ctx.gameover)\r\n                break EventQueue;\r\n            switch (event.type) {\r\n                case 'endStage':\r\n                case 'setStage':\r\n                case 'setActivePlayers': {\r\n                    switch (event.calledFrom) {\r\n                        // Disallow all stage events in onEnd and phase.onBegin hooks.\r\n                        case GameMethod.TURN_ON_END:\r\n                        case GameMethod.PHASE_ON_END:\r\n                            return stateWithError(event.error, Errors.StageEventInOnEnd);\r\n                        case GameMethod.PHASE_ON_BEGIN:\r\n                            return stateWithError(event.error, Errors.StageEventInPhaseBegin);\r\n                        // Disallow setStage & endStage in turn.onBegin hooks.\r\n                        case GameMethod.TURN_ON_BEGIN:\r\n                            if (event.type === 'setActivePlayers')\r\n                                break;\r\n                            return stateWithError(event.error, Errors.StageEventInTurnBegin);\r\n                    }\r\n                    // If the turn already ended, don't try to process stage events.\r\n                    if (turnHasEnded)\r\n                        continue EventQueue;\r\n                    break;\r\n                }\r\n                case 'endTurn': {\r\n                    if (event.calledFrom === GameMethod.TURN_ON_END ||\r\n                        event.calledFrom === GameMethod.PHASE_ON_END) {\r\n                        return stateWithError(event.error, Errors.EndTurnInOnEnd);\r\n                    }\r\n                    // If the turn already ended some other way,\r\n                    // don't try to end the turn again.\r\n                    if (turnHasEnded)\r\n                        continue EventQueue;\r\n                    break;\r\n                }\r\n                case 'endPhase':\r\n                case 'setPhase': {\r\n                    if (event.calledFrom === GameMethod.PHASE_ON_END) {\r\n                        return stateWithError(event.error, Errors.PhaseEventInOnEnd);\r\n                    }\r\n                    // If the phase already ended some other way,\r\n                    // don't try to end the phase again.\r\n                    if (event.phase !== state.ctx.phase)\r\n                        continue EventQueue;\r\n                    break;\r\n                }\r\n            }\r\n            const action = automaticGameEvent(event.type, event.args, this.playerID);\r\n            state = this.flow.processEvent(state, action);\r\n        }\r\n        return state;\r\n    }\r\n}\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst EventsPlugin = {\r\n    name: 'events',\r\n    noClient: ({ api }) => api._private.isUsed(),\r\n    isInvalid: ({ data }) => data.error || false,\r\n    // Update the events plugins internal turn context each time a move\r\n    // or hook is called. This allows events called after turn or phase\r\n    // endings to dispatch the current turn and phase correctly.\r\n    fnWrap: (method, methodType) => (G, ctx, ...args) => {\r\n        const api = ctx.events;\r\n        if (api)\r\n            api._private.updateTurnContext(ctx, methodType);\r\n        G = method(G, ctx, ...args);\r\n        if (api)\r\n            api._private.unsetCurrentMethod();\r\n        return G;\r\n    },\r\n    dangerouslyFlushRawState: ({ state, api }) => api._private.update(state),\r\n    api: ({ game, ctx, playerID }) => new Events(game.flow, ctx, playerID).api(),\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Plugin that makes it possible to add metadata to log entries.\r\n * During a move, you can set metadata using ctx.log.setMetadata and it will be\r\n * available on the log entry for that move.\r\n */\r\nconst LogPlugin = {\r\n    name: 'log',\r\n    flush: () => ({}),\r\n    api: ({ data }) => {\r\n        return {\r\n            setMetadata: (metadata) => {\r\n                data.metadata = metadata;\r\n            },\r\n        };\r\n    },\r\n    setup: () => ({}),\r\n};\n\n/**\r\n * Check if a value can be serialized (e.g. using `JSON.stringify`).\r\n * Adapted from: https://stackoverflow.com/a/30712764/3829557\r\n */\r\nfunction isSerializable(value) {\r\n    // Primitives are OK.\r\n    if (value === undefined ||\r\n        value === null ||\r\n        typeof value === 'boolean' ||\r\n        typeof value === 'number' ||\r\n        typeof value === 'string') {\r\n        return true;\r\n    }\r\n    // A non-primitive value that is neither a POJO or an array cannot be serialized.\r\n    if (!isPlainObject(value) && !Array.isArray(value)) {\r\n        return false;\r\n    }\r\n    // Recurse entries if the value is an object or array.\r\n    for (const key in value) {\r\n        if (!isSerializable(value[key]))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Plugin that checks whether state is serializable, in order to avoid\r\n * network serialization bugs.\r\n */\r\nconst SerializablePlugin = {\r\n    name: 'plugin-serializable',\r\n    fnWrap: (move) => (G, ctx, ...args) => {\r\n        const result = move(G, ctx, ...args);\r\n        // Check state in non-production environments.\r\n        if (process.env.NODE_ENV !== 'production' && !isSerializable(result)) {\r\n            throw new Error('Move state is not JSON-serialiazable.\\n' +\r\n                'See https://boardgame.io/documentation/#/?id=state for more information.');\r\n        }\r\n        return result;\r\n    },\r\n};\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nconst production = process.env.NODE_ENV === 'production';\r\nconst logfn = production ? () => { } : (...msg) => console.log(...msg);\r\nconst errorfn = (...msg) => console.error(...msg);\r\nfunction info(msg) {\r\n    logfn(`INFO: ${msg}`);\r\n}\r\nfunction error(error) {\r\n    errorfn('ERROR:', error);\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * List of plugins that are always added.\r\n */\r\nconst CORE_PLUGINS = [ImmerPlugin, RandomPlugin, LogPlugin, SerializablePlugin];\r\nconst DEFAULT_PLUGINS = [...CORE_PLUGINS, EventsPlugin];\r\n/**\r\n * Allow plugins to intercept actions and process them.\r\n */\r\nconst ProcessAction = (state, action, opts) => {\r\n    // TODO(#723): Extend error handling to plugins.\r\n    opts.game.plugins\r\n        .filter((plugin) => plugin.action !== undefined)\r\n        .filter((plugin) => plugin.name === action.payload.type)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const data = plugin.action(pluginState.data, action.payload);\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * The API's created by various plugins are stored in the plugins\r\n * section of the state object:\r\n *\r\n * {\r\n *   G: {},\r\n *   ctx: {},\r\n *   plugins: {\r\n *     plugin-a: {\r\n *       data: {},  // this is generated by the plugin at Setup / Flush.\r\n *       api: {},   // this is ephemeral and generated by Enhance.\r\n *     }\r\n *   }\r\n * }\r\n *\r\n * This function takes these API's and stuffs them back into\r\n * ctx for consumption inside a move function or hook.\r\n */\r\nconst EnhanceCtx = (state) => {\r\n    const ctx = { ...state.ctx };\r\n    const plugins = state.plugins || {};\r\n    Object.entries(plugins).forEach(([name, { api }]) => {\r\n        ctx[name] = api;\r\n    });\r\n    return ctx;\r\n};\r\n/**\r\n * Applies the provided plugins to the given move / flow function.\r\n *\r\n * @param methodToWrap - The move function or hook to apply the plugins to.\r\n * @param methodType - The type of the move or hook being wrapped.\r\n * @param plugins - The list of plugins.\r\n */\r\nconst FnWrap = (methodToWrap, methodType, plugins) => {\r\n    return [...CORE_PLUGINS, ...plugins, EventsPlugin]\r\n        .filter((plugin) => plugin.fnWrap !== undefined)\r\n        .reduce((method, { fnWrap }) => fnWrap(method, methodType), methodToWrap);\r\n};\r\n/**\r\n * Allows the plugin to generate its initial state.\r\n */\r\nconst Setup = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.setup !== undefined)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const data = plugin.setup({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            game: opts.game,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { data },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Invokes the plugin before a move or event.\r\n * The API that the plugin generates is stored inside\r\n * the `plugins` section of the state (which is subsequently\r\n * merged into ctx).\r\n */\r\nconst Enhance = (state, opts) => {\r\n    [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.api !== undefined)\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        const api = plugin.api({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            data: pluginState.data,\r\n            game: opts.game,\r\n            playerID: opts.playerID,\r\n        });\r\n        state = {\r\n            ...state,\r\n            plugins: {\r\n                ...state.plugins,\r\n                [name]: { ...pluginState, api },\r\n            },\r\n        };\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to update their state after a move / event.\r\n */\r\nconst Flush = (state, opts) => {\r\n    // We flush the events plugin first, then custom plugins and the core plugins.\r\n    // This means custom plugins cannot use the events API but will be available in event hooks.\r\n    // Note that plugins are flushed in reverse, to allow custom plugins calling each other.\r\n    [...CORE_PLUGINS, ...opts.game.plugins, EventsPlugin]\r\n        .reverse()\r\n        .forEach((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name] || { data: {} };\r\n        if (plugin.flush) {\r\n            const newData = plugin.flush({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data: newData },\r\n                },\r\n            };\r\n        }\r\n        else if (plugin.dangerouslyFlushRawState) {\r\n            state = plugin.dangerouslyFlushRawState({\r\n                state,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n            // Remove everything other than data.\r\n            const data = state.plugins[name].data;\r\n            state = {\r\n                ...state,\r\n                plugins: {\r\n                    ...state.plugins,\r\n                    [plugin.name]: { data },\r\n                },\r\n            };\r\n        }\r\n    });\r\n    return state;\r\n};\r\n/**\r\n * Allows plugins to indicate if they should not be materialized on the client.\r\n * This will cause the client to discard the state update and wait for the\r\n * master instead.\r\n */\r\nconst NoClient = (state, opts) => {\r\n    return [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.noClient !== undefined)\r\n        .map((plugin) => {\r\n        const name = plugin.name;\r\n        const pluginState = state.plugins[name];\r\n        if (pluginState) {\r\n            return plugin.noClient({\r\n                G: state.G,\r\n                ctx: state.ctx,\r\n                game: opts.game,\r\n                api: pluginState.api,\r\n                data: pluginState.data,\r\n            });\r\n        }\r\n        return false;\r\n    })\r\n        .includes(true);\r\n};\r\n/**\r\n * Allows plugins to indicate if the entire action should be thrown out\r\n * as invalid. This will cancel the entire state update.\r\n */\r\nconst IsInvalid = (state, opts) => {\r\n    const firstInvalidReturn = [...DEFAULT_PLUGINS, ...opts.game.plugins]\r\n        .filter((plugin) => plugin.isInvalid !== undefined)\r\n        .map((plugin) => {\r\n        const { name } = plugin;\r\n        const pluginState = state.plugins[name];\r\n        const message = plugin.isInvalid({\r\n            G: state.G,\r\n            ctx: state.ctx,\r\n            game: opts.game,\r\n            data: pluginState && pluginState.data,\r\n        });\r\n        return message ? { plugin: name, message } : false;\r\n    })\r\n        .find((value) => value);\r\n    return firstInvalidReturn || false;\r\n};\r\n/**\r\n * Update plugin state after move/event & check if plugins consider the update to be valid.\r\n * @returns Tuple of `[updatedState]` or `[originalState, invalidError]`.\r\n */\r\nconst FlushAndValidate = (state, opts) => {\r\n    const updatedState = Flush(state, opts);\r\n    const isInvalid = IsInvalid(updatedState, opts);\r\n    if (!isInvalid)\r\n        return [updatedState];\r\n    const { plugin, message } = isInvalid;\r\n    error(`${plugin} plugin declared action invalid:\\n${message}`);\r\n    return [state, isInvalid];\r\n};\r\n/**\r\n * Allows plugins to customize their data for specific players.\r\n * For example, a plugin may want to share no data with the client, or\r\n * want to keep some player data secret from opponents.\r\n */\r\nconst PlayerView = ({ G, ctx, plugins = {} }, { game, playerID }) => {\r\n    [...DEFAULT_PLUGINS, ...game.plugins].forEach(({ name, playerView }) => {\r\n        if (!playerView)\r\n            return;\r\n        const { data } = plugins[name] || { data: {} };\r\n        const newData = playerView({ G, ctx, game, data, playerID });\r\n        plugins = {\r\n            ...plugins,\r\n            [name]: { data: newData },\r\n        };\r\n    });\r\n    return plugins;\r\n};\n\n/**\r\n * Adjust the given options to use the new minMoves/maxMoves if a legacy moveLimit was given\r\n * @param options The options object to apply backwards compatibility to\r\n * @param enforceMinMoves Use moveLimit to set both minMoves and maxMoves\r\n */\r\nfunction supportDeprecatedMoveLimit(options, enforceMinMoves = false) {\r\n    if (options.moveLimit) {\r\n        if (enforceMinMoves) {\r\n            options.minMoves = options.moveLimit;\r\n        }\r\n        options.maxMoves = options.moveLimit;\r\n        delete options.moveLimit;\r\n    }\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nfunction SetActivePlayers(ctx, arg) {\r\n    let activePlayers = {};\r\n    let _prevActivePlayers = [];\r\n    let _nextActivePlayers = null;\r\n    let _activePlayersMinMoves = {};\r\n    let _activePlayersMaxMoves = {};\r\n    if (Array.isArray(arg)) {\r\n        // support a simple array of player IDs as active players\r\n        const value = {};\r\n        arg.forEach((v) => (value[v] = Stage.NULL));\r\n        activePlayers = value;\r\n    }\r\n    else {\r\n        // process active players argument object\r\n        // stages previously did not enforce minMoves, this behaviour is kept intentionally\r\n        supportDeprecatedMoveLimit(arg);\r\n        if (arg.next) {\r\n            _nextActivePlayers = arg.next;\r\n        }\r\n        if (arg.revert) {\r\n            _prevActivePlayers = [\r\n                ...ctx._prevActivePlayers,\r\n                {\r\n                    activePlayers: ctx.activePlayers,\r\n                    _activePlayersMinMoves: ctx._activePlayersMinMoves,\r\n                    _activePlayersMaxMoves: ctx._activePlayersMaxMoves,\r\n                    _activePlayersNumMoves: ctx._activePlayersNumMoves,\r\n                },\r\n            ];\r\n        }\r\n        if (arg.currentPlayer !== undefined) {\r\n            ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, ctx.currentPlayer, arg.currentPlayer);\r\n        }\r\n        if (arg.others !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                if (id !== ctx.currentPlayer) {\r\n                    ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, id, arg.others);\r\n                }\r\n            }\r\n        }\r\n        if (arg.all !== undefined) {\r\n            for (let i = 0; i < ctx.playOrder.length; i++) {\r\n                const id = ctx.playOrder[i];\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, id, arg.all);\r\n            }\r\n        }\r\n        if (arg.value) {\r\n            for (const id in arg.value) {\r\n                ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, id, arg.value[id]);\r\n            }\r\n        }\r\n        if (arg.minMoves) {\r\n            for (const id in activePlayers) {\r\n                if (_activePlayersMinMoves[id] === undefined) {\r\n                    _activePlayersMinMoves[id] = arg.minMoves;\r\n                }\r\n            }\r\n        }\r\n        if (arg.maxMoves) {\r\n            for (const id in activePlayers) {\r\n                if (_activePlayersMaxMoves[id] === undefined) {\r\n                    _activePlayersMaxMoves[id] = arg.maxMoves;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (Object.keys(activePlayers).length === 0) {\r\n        activePlayers = null;\r\n    }\r\n    if (Object.keys(_activePlayersMinMoves).length === 0) {\r\n        _activePlayersMinMoves = null;\r\n    }\r\n    if (Object.keys(_activePlayersMaxMoves).length === 0) {\r\n        _activePlayersMaxMoves = null;\r\n    }\r\n    const _activePlayersNumMoves = {};\r\n    for (const id in activePlayers) {\r\n        _activePlayersNumMoves[id] = 0;\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMinMoves,\r\n        _activePlayersMaxMoves,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n        _nextActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Update activePlayers, setting it to previous, next or null values\r\n * when it becomes empty.\r\n * @param ctx\r\n */\r\nfunction UpdateActivePlayersOnceEmpty(ctx) {\r\n    let { activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, _activePlayersNumMoves, _prevActivePlayers, _nextActivePlayers, } = ctx;\r\n    if (activePlayers && Object.keys(activePlayers).length === 0) {\r\n        if (_nextActivePlayers) {\r\n            ctx = SetActivePlayers(ctx, _nextActivePlayers);\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMinMoves,\r\n                _activePlayersMaxMoves,\r\n                _activePlayersNumMoves,\r\n                _prevActivePlayers,\r\n            } = ctx);\r\n        }\r\n        else if (_prevActivePlayers.length > 0) {\r\n            const lastIndex = _prevActivePlayers.length - 1;\r\n            ({\r\n                activePlayers,\r\n                _activePlayersMinMoves,\r\n                _activePlayersMaxMoves,\r\n                _activePlayersNumMoves,\r\n            } = _prevActivePlayers[lastIndex]);\r\n            _prevActivePlayers = _prevActivePlayers.slice(0, lastIndex);\r\n        }\r\n        else {\r\n            activePlayers = null;\r\n            _activePlayersMinMoves = null;\r\n            _activePlayersMaxMoves = null;\r\n        }\r\n    }\r\n    return {\r\n        ...ctx,\r\n        activePlayers,\r\n        _activePlayersMinMoves,\r\n        _activePlayersMaxMoves,\r\n        _activePlayersNumMoves,\r\n        _prevActivePlayers,\r\n    };\r\n}\r\n/**\r\n * Apply an active player argument to the given player ID\r\n * @param {Object} activePlayers\r\n * @param {Object} _activePlayersMinMoves\r\n * @param {Object} _activePlayersMaxMoves\r\n * @param {String} playerID The player to apply the parameter to\r\n * @param {(String|Object)} arg An active player argument\r\n */\r\nfunction ApplyActivePlayerArgument(activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, playerID, arg) {\r\n    if (typeof arg !== 'object' || arg === Stage.NULL) {\r\n        arg = { stage: arg };\r\n    }\r\n    if (arg.stage !== undefined) {\r\n        // stages previously did not enforce minMoves, this behaviour is kept intentionally\r\n        supportDeprecatedMoveLimit(arg);\r\n        activePlayers[playerID] = arg.stage;\r\n        if (arg.minMoves)\r\n            _activePlayersMinMoves[playerID] = arg.minMoves;\r\n        if (arg.maxMoves)\r\n            _activePlayersMaxMoves[playerID] = arg.maxMoves;\r\n    }\r\n}\r\n/**\r\n * Converts a playOrderPos index into its value in playOrder.\r\n * @param {Array} playOrder - An array of player ID's.\r\n * @param {number} playOrderPos - An index into the above.\r\n */\r\nfunction getCurrentPlayer(playOrder, playOrderPos) {\r\n    // convert to string in case playOrder is set to number[]\r\n    return playOrder[playOrderPos] + '';\r\n}\r\n/**\r\n * Called at the start of a turn to initialize turn order state.\r\n *\r\n * TODO: This is called inside StartTurn, which is called from\r\n * both UpdateTurn and StartPhase (so it's called at the beginning\r\n * of a new phase as well as between turns). We should probably\r\n * split it into two.\r\n */\r\nfunction InitTurnOrderState(state, turn) {\r\n    let { G, ctx } = state;\r\n    const { numPlayers } = ctx;\r\n    const ctxWithAPI = EnhanceCtx(state);\r\n    const order = turn.order;\r\n    let playOrder = [...Array.from({ length: numPlayers })].map((_, i) => i + '');\r\n    if (order.playOrder !== undefined) {\r\n        playOrder = order.playOrder(G, ctxWithAPI);\r\n    }\r\n    const playOrderPos = order.first(G, ctxWithAPI);\r\n    const posType = typeof playOrderPos;\r\n    if (posType !== 'number') {\r\n        error(`invalid value returned by turn.order.first  expected number got ${posType} ${playOrderPos}.`);\r\n    }\r\n    const currentPlayer = getCurrentPlayer(playOrder, playOrderPos);\r\n    ctx = { ...ctx, currentPlayer, playOrderPos, playOrder };\r\n    ctx = SetActivePlayers(ctx, turn.activePlayers || {});\r\n    return ctx;\r\n}\r\n/**\r\n * Called at the end of each turn to update the turn order state.\r\n * @param {object} G - The game object G.\r\n * @param {object} ctx - The game object ctx.\r\n * @param {object} turn - A turn object for this phase.\r\n * @param {string} endTurnArg - An optional argument to endTurn that\r\n                                may specify the next player.\r\n */\r\nfunction UpdateTurnOrderState(state, currentPlayer, turn, endTurnArg) {\r\n    const order = turn.order;\r\n    let { G, ctx } = state;\r\n    let playOrderPos = ctx.playOrderPos;\r\n    let endPhase = false;\r\n    if (endTurnArg && endTurnArg !== true) {\r\n        if (typeof endTurnArg !== 'object') {\r\n            error(`invalid argument to endTurn: ${endTurnArg}`);\r\n        }\r\n        Object.keys(endTurnArg).forEach((arg) => {\r\n            switch (arg) {\r\n                case 'remove':\r\n                    currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n                    break;\r\n                case 'next':\r\n                    playOrderPos = ctx.playOrder.indexOf(endTurnArg.next);\r\n                    currentPlayer = endTurnArg.next;\r\n                    break;\r\n                default:\r\n                    error(`invalid argument to endTurn: ${arg}`);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        const ctxWithAPI = EnhanceCtx(state);\r\n        const t = order.next(G, ctxWithAPI);\r\n        const type = typeof t;\r\n        if (t !== undefined && type !== 'number') {\r\n            error(`invalid value returned by turn.order.next  expected number or undefined got ${type} ${t}.`);\r\n        }\r\n        if (t === undefined) {\r\n            endPhase = true;\r\n        }\r\n        else {\r\n            playOrderPos = t;\r\n            currentPlayer = getCurrentPlayer(ctx.playOrder, playOrderPos);\r\n        }\r\n    }\r\n    ctx = {\r\n        ...ctx,\r\n        playOrderPos,\r\n        currentPlayer,\r\n    };\r\n    return { endPhase, ctx };\r\n}\r\n/**\r\n * Set of different turn orders possible in a phase.\r\n * These are meant to be passed to the `turn` setting\r\n * in the flow objects.\r\n *\r\n * Each object defines the first player when the phase / game\r\n * begins, and also a function `next` to determine who the\r\n * next player is when the turn ends.\r\n *\r\n * The phase ends if next() returns undefined.\r\n */\r\nconst TurnOrder = {\r\n    /**\r\n     * DEFAULT\r\n     *\r\n     * The default round-robin turn order.\r\n     */\r\n    DEFAULT: {\r\n        first: (G, ctx) => ctx.turn === 0\r\n            ? ctx.playOrderPos\r\n            : (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * RESET\r\n     *\r\n     * Similar to DEFAULT, but starts from 0 each time.\r\n     */\r\n    RESET: {\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * CONTINUE\r\n     *\r\n     * Similar to DEFAULT, but starts with the player who ended the last phase.\r\n     */\r\n    CONTINUE: {\r\n        first: (G, ctx) => ctx.playOrderPos,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    },\r\n    /**\r\n     * ONCE\r\n     *\r\n     * Another round-robin turn order, but goes around just once.\r\n     * The phase ends after all players have played.\r\n     */\r\n    ONCE: {\r\n        first: () => 0,\r\n        next: (G, ctx) => {\r\n            if (ctx.playOrderPos < ctx.playOrder.length - 1) {\r\n                return ctx.playOrderPos + 1;\r\n            }\r\n        },\r\n    },\r\n    /**\r\n     * CUSTOM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase.\r\n     *\r\n     * @param {Array} playOrder - The play order.\r\n     */\r\n    CUSTOM: (playOrder) => ({\r\n        playOrder: () => playOrder,\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n    /**\r\n     * CUSTOM_FROM\r\n     *\r\n     * Identical to DEFAULT, but also sets playOrder at the\r\n     * beginning of the phase to a value specified by a field\r\n     * in G.\r\n     *\r\n     * @param {string} playOrderField - Field in G.\r\n     */\r\n    CUSTOM_FROM: (playOrderField) => ({\r\n        playOrder: (G) => G[playOrderField],\r\n        first: () => 0,\r\n        next: (G, ctx) => (ctx.playOrderPos + 1) % ctx.playOrder.length,\r\n    }),\r\n};\r\nconst Stage = {\r\n    NULL: null,\r\n};\r\nconst ActivePlayers = {\r\n    /**\r\n     * ALL\r\n     *\r\n     * The turn stays with one player, but any player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    ALL: { all: Stage.NULL },\r\n    /**\r\n     * ALL_ONCE\r\n     *\r\n     * The turn stays with one player, but any player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every player in the game.\r\n     */\r\n    ALL_ONCE: { all: Stage.NULL, minMoves: 1, maxMoves: 1 },\r\n    /**\r\n     * OTHERS\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (in any order)\r\n     * until the phase ends.\r\n     */\r\n    OTHERS: { others: Stage.NULL },\r\n    /**\r\n     * OTHERS_ONCE\r\n     *\r\n     * The turn stays with one player, and every *other* player can play (once, and in any order).\r\n     * This is typically used in a phase where you want to elicit a response\r\n     * from every *other* player in the game.\r\n     */\r\n    OTHERS_ONCE: { others: Stage.NULL, minMoves: 1, maxMoves: 1 },\r\n};\n\nexport { ActionCreators as A, makeMove as B, alea as C, ActivePlayers as D, EnhanceCtx as E, FnWrap as F, GameMethod as G, InitTurnOrderState as I, MAKE_MOVE as M, NoClient as N, PATCH as P, REDO as R, Stage as S, TurnOrder as T, UpdateTurnOrderState as U, supportDeprecatedMoveLimit as a, SetActivePlayers as b, UpdateActivePlayersOnceEmpty as c, PLUGIN as d, error as e, ProcessAction as f, gameEvent as g, UNDO as h, info as i, SYNC as j, UPDATE as k, RESET as l, Enhance as m, INVALID_MOVE as n, GAME_EVENT as o, STRIP_TRANSIENTS as p, FlushAndValidate as q, stripTransients as r, sync as s, Setup as t, reset as u, undo as v, redo as w, PlayerView as x, patch as y, update as z };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Pointer = void 0;\n/**\nUnescape token part of a JSON Pointer string\n\n`token` should *not* contain any '/' characters.\n\n> Evaluation of each reference token begins by decoding any escaped\n> character sequence.  This is performed by first transforming any\n> occurrence of the sequence '~1' to '/', and then transforming any\n> occurrence of the sequence '~0' to '~'.  By performing the\n> substitutions in this order, an implementation avoids the error of\n> turning '~01' first into '~1' and then into '/', which would be\n> incorrect (the string '~01' correctly becomes '~1' after\n> transformation).\n\nHere's my take:\n\n~1 is unescaped with higher priority than ~0 because it is a lower-order escape character.\nI say \"lower order\" because '/' needs escaping due to the JSON Pointer serialization technique.\nWhereas, '~' is escaped because escaping '/' uses the '~' character.\n*/\nfunction unescape(token) {\n    return token.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n/** Escape token part of a JSON Pointer string\n\n> '~' needs to be encoded as '~0' and '/'\n> needs to be encoded as '~1' when these characters appear in a\n> reference token.\n\nThis is the exact inverse of `unescape()`, so the reverse replacements must take place in reverse order.\n*/\nfunction escape(token) {\n    return token.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n/**\nJSON Pointer representation\n*/\nvar Pointer = /** @class */ (function () {\n    function Pointer(tokens) {\n        if (tokens === void 0) { tokens = ['']; }\n        this.tokens = tokens;\n    }\n    /**\n    `path` *must* be a properly escaped string.\n    */\n    Pointer.fromJSON = function (path) {\n        var tokens = path.split('/').map(unescape);\n        if (tokens[0] !== '')\n            throw new Error(\"Invalid JSON Pointer: \" + path);\n        return new Pointer(tokens);\n    };\n    Pointer.prototype.toString = function () {\n        return this.tokens.map(escape).join('/');\n    };\n    /**\n    Returns an object with 'parent', 'key', and 'value' properties.\n    In the special case that this Pointer's path == \"\",\n    this object will be {parent: null, key: '', value: object}.\n    Otherwise, parent and key will have the property such that parent[key] == value.\n    */\n    Pointer.prototype.evaluate = function (object) {\n        var parent = null;\n        var key = '';\n        var value = object;\n        for (var i = 1, l = this.tokens.length; i < l; i++) {\n            parent = value;\n            key = this.tokens[i];\n            // not sure if this the best way to handle non-existant paths...\n            value = (parent || {})[key];\n        }\n        return { parent: parent, key: key, value: value };\n    };\n    Pointer.prototype.get = function (object) {\n        return this.evaluate(object).value;\n    };\n    Pointer.prototype.set = function (object, value) {\n        var cursor = object;\n        for (var i = 1, l = this.tokens.length - 1, token = this.tokens[i]; i < l; i++) {\n            // not sure if this the best way to handle non-existant paths...\n            cursor = (cursor || {})[token];\n        }\n        if (cursor) {\n            cursor[this.tokens[this.tokens.length - 1]] = value;\n        }\n    };\n    Pointer.prototype.push = function (token) {\n        // mutable\n        this.tokens.push(token);\n    };\n    /**\n    `token` should be a String. It'll be coerced to one anyway.\n  \n    immutable (shallowly)\n    */\n    Pointer.prototype.add = function (token) {\n        var tokens = this.tokens.concat(String(token));\n        return new Pointer(tokens);\n    };\n    return Pointer;\n}());\nexports.Pointer = Pointer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.objectType = exports.hasOwnProperty = void 0;\nexports.hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction objectType(object) {\n    if (object === undefined) {\n        return 'undefined';\n    }\n    if (object === null) {\n        return 'null';\n    }\n    if (Array.isArray(object)) {\n        return 'array';\n    }\n    return typeof object;\n}\nexports.objectType = objectType;\nfunction isNonPrimitive(value) {\n    // loose-equality checking for null is faster than strict checking for each of null/undefined/true/false\n    // checking null first, then calling typeof, is faster than vice-versa\n    return value != null && typeof value == 'object';\n}\n/**\nRecursively copy a value.\n\n@param source - should be a JavaScript primitive, Array, Date, or (plain old) Object.\n@returns copy of source where every Array and Object have been recursively\n         reconstructed from their constituent elements\n*/\nfunction clone(source) {\n    if (!isNonPrimitive(source)) {\n        // short-circuiting is faster than a single return\n        return source;\n    }\n    // x.constructor == Array is the fastest way to check if x is an Array\n    if (source.constructor == Array) {\n        // construction via imperative for-loop is faster than source.map(arrayVsObject)\n        var length_1 = source.length;\n        // setting the Array length during construction is faster than just `[]` or `new Array()`\n        var arrayTarget = new Array(length_1);\n        for (var i = 0; i < length_1; i++) {\n            arrayTarget[i] = clone(source[i]);\n        }\n        return arrayTarget;\n    }\n    // Date\n    if (source.constructor == Date) {\n        var dateTarget = new Date(+source);\n        return dateTarget;\n    }\n    // Object\n    var objectTarget = {};\n    // declaring the variable (with const) inside the loop is faster\n    for (var key in source) {\n        // hasOwnProperty costs a bit of performance, but it's semantically necessary\n        // using a global helper is MUCH faster than calling source.hasOwnProperty(key)\n        if (exports.hasOwnProperty.call(source, key)) {\n            objectTarget[key] = clone(source[key]);\n        }\n    }\n    return objectTarget;\n}\nexports.clone = clone;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.diffAny = exports.diffObjects = exports.diffArrays = exports.intersection = exports.subtract = exports.isDestructive = void 0;\nvar pointer_1 = require(\"./pointer\"); // we only need this for type inference\nvar util_1 = require(\"./util\");\nfunction isDestructive(_a) {\n    var op = _a.op;\n    return op === 'remove' || op === 'replace' || op === 'copy' || op === 'move';\n}\nexports.isDestructive = isDestructive;\n/**\nList the keys in `minuend` that are not in `subtrahend`.\n\nA key is only considered if it is both 1) an own-property (o.hasOwnProperty(k))\nof the object, and 2) has a value that is not undefined. This is to match JSON\nsemantics, where JSON object serialization drops keys with undefined values.\n\n@param minuend Object of interest\n@param subtrahend Object of comparison\n@returns Array of keys that are in `minuend` but not in `subtrahend`.\n*/\nfunction subtract(minuend, subtrahend) {\n    // initialize empty object; we only care about the keys, the values can be anything\n    var obj = {};\n    // build up obj with all the properties of minuend\n    for (var add_key in minuend) {\n        if (util_1.hasOwnProperty.call(minuend, add_key) && minuend[add_key] !== undefined) {\n            obj[add_key] = 1;\n        }\n    }\n    // now delete all the properties of subtrahend from obj\n    // (deleting a missing key has no effect)\n    for (var del_key in subtrahend) {\n        if (util_1.hasOwnProperty.call(subtrahend, del_key) && subtrahend[del_key] !== undefined) {\n            delete obj[del_key];\n        }\n    }\n    // finally, extract whatever keys remain in obj\n    return Object.keys(obj);\n}\nexports.subtract = subtract;\n/**\nList the keys that shared by all `objects`.\n\nThe semantics of what constitutes a \"key\" is described in {@link subtract}.\n\n@param objects Array of objects to compare\n@returns Array of keys that are in (\"own-properties\" of) every object in `objects`.\n*/\nfunction intersection(objects) {\n    var length = objects.length;\n    // prepare empty counter to keep track of how many objects each key occurred in\n    var counter = {};\n    // go through each object and increment the counter for each key in that object\n    for (var i = 0; i < length; i++) {\n        var object = objects[i];\n        for (var key in object) {\n            if (util_1.hasOwnProperty.call(object, key) && object[key] !== undefined) {\n                counter[key] = (counter[key] || 0) + 1;\n            }\n        }\n    }\n    // now delete all keys from the counter that were not seen in every object\n    for (var key in counter) {\n        if (counter[key] < length) {\n            delete counter[key];\n        }\n    }\n    // finally, extract whatever keys remain in the counter\n    return Object.keys(counter);\n}\nexports.intersection = intersection;\nfunction isArrayAdd(array_operation) {\n    return array_operation.op === 'add';\n}\nfunction isArrayRemove(array_operation) {\n    return array_operation.op === 'remove';\n}\nfunction appendArrayOperation(base, operation) {\n    return {\n        // the new operation must be pushed on the end\n        operations: base.operations.concat(operation),\n        cost: base.cost + 1,\n    };\n}\n/**\nCalculate the shortest sequence of operations to get from `input` to `output`,\nusing a dynamic programming implementation of the Levenshtein distance algorithm.\n\nTo get from the input ABC to the output AZ we could just delete all the input\nand say \"insert A, insert Z\" and be done with it. That's what we do if the\ninput is empty. But we can be smarter.\n\n          output\n               A   Z\n               -   -\n          [0]  1   2\ninput A |  1  [0]  1\n      B |  2  [1]  1\n      C |  3   2  [2]\n\n1) start at 0,0 (+0)\n2) keep A (+0)\n3) remove B (+1)\n4) replace C with Z (+1)\n\nIf the `input` (source) is empty, they'll all be in the top row, resulting in an\narray of 'add' operations.\nIf the `output` (target) is empty, everything will be in the left column,\nresulting in an array of 'remove' operations.\n\n@returns A list of add/remove/replace operations.\n*/\nfunction diffArrays(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // set up cost matrix (very simple initialization: just a map)\n    var memo = {\n        '0,0': { operations: [], cost: 0 },\n    };\n    /**\n    Calculate the cheapest sequence of operations required to get from\n    input.slice(0, i) to output.slice(0, j).\n    There may be other valid sequences with the same cost, but none cheaper.\n  \n    @param i The row in the layout above\n    @param j The column in the layout above\n    @returns An object containing a list of operations, along with the total cost\n             of applying them (+1 for each add/remove/replace operation)\n    */\n    function dist(i, j) {\n        // memoized\n        var memo_key = i + \",\" + j;\n        var memoized = memo[memo_key];\n        if (memoized === undefined) {\n            // TODO: this !diff(...).length usage could/should be lazy\n            if (i > 0 && j > 0 && !diff(input[i - 1], output[j - 1], new pointer_1.Pointer()).length) {\n                // equal (no operations => no cost)\n                memoized = dist(i - 1, j - 1);\n            }\n            else {\n                var alternatives = [];\n                if (i > 0) {\n                    // NOT topmost row\n                    var remove_base = dist(i - 1, j);\n                    var remove_operation = {\n                        op: 'remove',\n                        index: i - 1,\n                    };\n                    alternatives.push(appendArrayOperation(remove_base, remove_operation));\n                }\n                if (j > 0) {\n                    // NOT leftmost column\n                    var add_base = dist(i, j - 1);\n                    var add_operation = {\n                        op: 'add',\n                        index: i - 1,\n                        value: output[j - 1],\n                    };\n                    alternatives.push(appendArrayOperation(add_base, add_operation));\n                }\n                if (i > 0 && j > 0) {\n                    // TABLE MIDDLE\n                    // supposing we replaced it, compute the rest of the costs:\n                    var replace_base = dist(i - 1, j - 1);\n                    // okay, the general plan is to replace it, but we can be smarter,\n                    // recursing into the structure and replacing only part of it if\n                    // possible, but to do so we'll need the original value\n                    var replace_operation = {\n                        op: 'replace',\n                        index: i - 1,\n                        original: input[i - 1],\n                        value: output[j - 1],\n                    };\n                    alternatives.push(appendArrayOperation(replace_base, replace_operation));\n                }\n                // the only other case, i === 0 && j === 0, has already been memoized\n                // the meat of the algorithm:\n                // sort by cost to find the lowest one (might be several ties for lowest)\n                // [4, 6, 7, 1, 2].sort((a, b) => a - b) -> [ 1, 2, 4, 6, 7 ]\n                var best = alternatives.sort(function (a, b) { return a.cost - b.cost; })[0];\n                memoized = best;\n            }\n            memo[memo_key] = memoized;\n        }\n        return memoized;\n    }\n    // handle weird objects masquerading as Arrays that don't have proper length\n    // properties by using 0 for everything but positive numbers\n    var input_length = (isNaN(input.length) || input.length <= 0) ? 0 : input.length;\n    var output_length = (isNaN(output.length) || output.length <= 0) ? 0 : output.length;\n    var array_operations = dist(input_length, output_length).operations;\n    var padded_operations = array_operations.reduce(function (_a, array_operation) {\n        var operations = _a[0], padding = _a[1];\n        if (isArrayAdd(array_operation)) {\n            var padded_index = array_operation.index + 1 + padding;\n            var index_token = padded_index < (input_length + padding) ? String(padded_index) : '-';\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(index_token).toString(),\n                value: array_operation.value,\n            };\n            // padding++ // maybe only if array_operation.index > -1 ?\n            return [operations.concat(operation), padding + 1];\n        }\n        else if (isArrayRemove(array_operation)) {\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(String(array_operation.index + padding)).toString(),\n            };\n            // padding--\n            return [operations.concat(operation), padding - 1];\n        }\n        else { // replace\n            var replace_ptr = ptr.add(String(array_operation.index + padding));\n            var replace_operations = diff(array_operation.original, array_operation.value, replace_ptr);\n            return [operations.concat.apply(operations, replace_operations), padding];\n        }\n    }, [[], 0])[0];\n    return padded_operations;\n}\nexports.diffArrays = diffArrays;\nfunction diffObjects(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // if a key is in input but not output -> remove it\n    var operations = [];\n    subtract(input, output).forEach(function (key) {\n        operations.push({ op: 'remove', path: ptr.add(key).toString() });\n    });\n    // if a key is in output but not input -> add it\n    subtract(output, input).forEach(function (key) {\n        operations.push({ op: 'add', path: ptr.add(key).toString(), value: output[key] });\n    });\n    // if a key is in both, diff it recursively\n    intersection([input, output]).forEach(function (key) {\n        operations.push.apply(operations, diff(input[key], output[key], ptr.add(key)));\n    });\n    return operations;\n}\nexports.diffObjects = diffObjects;\n/**\n`diffAny()` returns an empty array if `input` and `output` are materially equal\n(i.e., would produce equivalent JSON); otherwise it produces an array of patches\nthat would transform `input` into `output`.\n\n> Here, \"equal\" means that the value at the target location and the\n> value conveyed by \"value\" are of the same JSON type, and that they\n> are considered equal by the following rules for that type:\n> o  strings: are considered equal if they contain the same number of\n>    Unicode characters and their code points are byte-by-byte equal.\n> o  numbers: are considered equal if their values are numerically\n>    equal.\n> o  arrays: are considered equal if they contain the same number of\n>    values, and if each value can be considered equal to the value at\n>    the corresponding position in the other array, using this list of\n>    type-specific rules.\n> o  objects: are considered equal if they contain the same number of\n>    members, and if each member can be considered equal to a member in\n>    the other object, by comparing their keys (as strings) and their\n>    values (using this list of type-specific rules).\n> o  literals (false, true, and null): are considered equal if they are\n>    the same.\n*/\nfunction diffAny(input, output, ptr, diff) {\n    if (diff === void 0) { diff = diffAny; }\n    // strict equality handles literals, numbers, and strings (a sufficient but not necessary cause)\n    if (input === output) {\n        return [];\n    }\n    var input_type = util_1.objectType(input);\n    var output_type = util_1.objectType(output);\n    if (input_type == 'array' && output_type == 'array') {\n        return diffArrays(input, output, ptr, diff);\n    }\n    if (input_type == 'object' && output_type == 'object') {\n        return diffObjects(input, output, ptr, diff);\n    }\n    // at this point we know that input and output are materially different;\n    // could be array -> object, object -> array, boolean -> undefined,\n    // number -> string, or some other combination, but nothing that can be split\n    // up into multiple patches: so `output` must replace `input` wholesale.\n    return [{ op: 'replace', path: ptr.toString(), value: output }];\n}\nexports.diffAny = diffAny;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.apply = exports.InvalidOperationError = exports.test = exports.copy = exports.move = exports.replace = exports.remove = exports.add = exports.TestError = exports.MissingError = void 0;\nvar pointer_1 = require(\"./pointer\");\nvar util_1 = require(\"./util\");\nvar diff_1 = require(\"./diff\");\nvar MissingError = /** @class */ (function (_super) {\n    __extends(MissingError, _super);\n    function MissingError(path) {\n        var _this = _super.call(this, \"Value required at path: \" + path) || this;\n        _this.path = path;\n        _this.name = 'MissingError';\n        return _this;\n    }\n    return MissingError;\n}(Error));\nexports.MissingError = MissingError;\nvar TestError = /** @class */ (function (_super) {\n    __extends(TestError, _super);\n    function TestError(actual, expected) {\n        var _this = _super.call(this, \"Test failed: \" + actual + \" != \" + expected) || this;\n        _this.actual = actual;\n        _this.expected = expected;\n        _this.name = 'TestError';\n        return _this;\n    }\n    return TestError;\n}(Error));\nexports.TestError = TestError;\nfunction _add(object, key, value) {\n    if (Array.isArray(object)) {\n        // `key` must be an index\n        if (key == '-') {\n            object.push(value);\n        }\n        else {\n            var index = parseInt(key, 10);\n            object.splice(index, 0, value);\n        }\n    }\n    else {\n        object[key] = value;\n    }\n}\nfunction _remove(object, key) {\n    if (Array.isArray(object)) {\n        // '-' syntax doesn't make sense when removing\n        var index = parseInt(key, 10);\n        object.splice(index, 1);\n    }\n    else {\n        // not sure what the proper behavior is when path = ''\n        delete object[key];\n    }\n}\n/**\n>  o  If the target location specifies an array index, a new value is\n>     inserted into the array at the specified index.\n>  o  If the target location specifies an object member that does not\n>     already exist, a new member is added to the object.\n>  o  If the target location specifies an object member that does exist,\n>     that member's value is replaced.\n*/\nfunction add(object, operation) {\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    // it's not exactly a \"MissingError\" in the same way that `remove` is -- more like a MissingParent, or something\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _add(endpoint.parent, endpoint.key, util_1.clone(operation.value));\n    return null;\n}\nexports.add = add;\n/**\n> The \"remove\" operation removes the value at the target location.\n> The target location MUST exist for the operation to be successful.\n*/\nfunction remove(object, operation) {\n    // endpoint has parent, key, and value properties\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }\n    // not sure what the proper behavior is when path = ''\n    _remove(endpoint.parent, endpoint.key);\n    return null;\n}\nexports.remove = remove;\n/**\n> The \"replace\" operation replaces the value at the target location\n> with a new value.  The operation object MUST contain a \"value\" member\n> whose content specifies the replacement value.\n> The target location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to a \"remove\" operation for\n> a value, followed immediately by an \"add\" operation at the same\n> location with the replacement value.\n\nEven more simply, it's like the add operation with an existence check.\n*/\nfunction replace(object, operation) {\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === null) {\n        return new MissingError(operation.path);\n    }\n    // this existence check treats arrays as a special case\n    if (Array.isArray(endpoint.parent)) {\n        if (parseInt(endpoint.key, 10) >= endpoint.parent.length) {\n            return new MissingError(operation.path);\n        }\n    }\n    else if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }\n    endpoint.parent[endpoint.key] = operation.value;\n    return null;\n}\nexports.replace = replace;\n/**\n> The \"move\" operation removes the value at a specified location and\n> adds it to the target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to move the value from.\n> This operation is functionally identical to a \"remove\" operation on\n> the \"from\" location, followed immediately by an \"add\" operation at\n> the target location with the value that was just removed.\n\n> The \"from\" location MUST NOT be a proper prefix of the \"path\"\n> location; i.e., a location cannot be moved into one of its children.\n\nTODO: throw if the check described in the previous paragraph fails.\n*/\nfunction move(object, operation) {\n    var from_endpoint = pointer_1.Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _remove(from_endpoint.parent, from_endpoint.key);\n    _add(endpoint.parent, endpoint.key, from_endpoint.value);\n    return null;\n}\nexports.move = move;\n/**\n> The \"copy\" operation copies the value at a specified location to the\n> target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to copy the value from.\n> The \"from\" location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to an \"add\" operation at the\n> target location using the value specified in the \"from\" member.\n\nAlternatively, it's like 'move' without the 'remove'.\n*/\nfunction copy(object, operation) {\n    var from_endpoint = pointer_1.Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _add(endpoint.parent, endpoint.key, util_1.clone(from_endpoint.value));\n    return null;\n}\nexports.copy = copy;\n/**\n> The \"test\" operation tests that a value at the target location is\n> equal to a specified value.\n> The operation object MUST contain a \"value\" member that conveys the\n> value to be compared to the target location's value.\n> The target location MUST be equal to the \"value\" value for the\n> operation to be considered successful.\n*/\nfunction test(object, operation) {\n    var endpoint = pointer_1.Pointer.fromJSON(operation.path).evaluate(object);\n    // TODO: this diffAny(...).length usage could/should be lazy\n    if (diff_1.diffAny(endpoint.value, operation.value, new pointer_1.Pointer()).length) {\n        return new TestError(endpoint.value, operation.value);\n    }\n    return null;\n}\nexports.test = test;\nvar InvalidOperationError = /** @class */ (function (_super) {\n    __extends(InvalidOperationError, _super);\n    function InvalidOperationError(operation) {\n        var _this = _super.call(this, \"Invalid operation: \" + operation.op) || this;\n        _this.operation = operation;\n        _this.name = 'InvalidOperationError';\n        return _this;\n    }\n    return InvalidOperationError;\n}(Error));\nexports.InvalidOperationError = InvalidOperationError;\n/**\nSwitch on `operation.op`, applying the corresponding patch function for each\ncase to `object`.\n*/\nfunction apply(object, operation) {\n    // not sure why TypeScript can't infer typesafety of:\n    //   {add, remove, replace, move, copy, test}[operation.op](object, operation)\n    // (seems like a bug)\n    switch (operation.op) {\n        case 'add': return add(object, operation);\n        case 'remove': return remove(object, operation);\n        case 'replace': return replace(object, operation);\n        case 'move': return move(object, operation);\n        case 'copy': return copy(object, operation);\n        case 'test': return test(object, operation);\n    }\n    return new InvalidOperationError(operation);\n}\nexports.apply = apply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createTests = exports.createPatch = exports.applyPatch = void 0;\nvar pointer_1 = require(\"./pointer\");\nvar patch_1 = require(\"./patch\");\nvar diff_1 = require(\"./diff\");\n/**\nApply a 'application/json-patch+json'-type patch to an object.\n\n`patch` *must* be an array of operations.\n\n> Operation objects MUST have exactly one \"op\" member, whose value\n> indicates the operation to perform.  Its value MUST be one of \"add\",\n> \"remove\", \"replace\", \"move\", \"copy\", or \"test\"; other values are\n> errors.\n\nThis method mutates the target object in-place.\n\n@returns list of results, one for each operation: `null` indicated success,\n         otherwise, the result will be an instance of one of the Error classes:\n         MissingError, InvalidOperationError, or TestError.\n*/\nfunction applyPatch(object, patch) {\n    return patch.map(function (operation) { return patch_1.apply(object, operation); });\n}\nexports.applyPatch = applyPatch;\nfunction wrapVoidableDiff(diff) {\n    function wrappedDiff(input, output, ptr) {\n        var custom_patch = diff(input, output, ptr);\n        // ensure an array is always returned\n        return Array.isArray(custom_patch) ? custom_patch : diff_1.diffAny(input, output, ptr, wrappedDiff);\n    }\n    return wrappedDiff;\n}\n/**\nProduce a 'application/json-patch+json'-type patch to get from one object to\nanother.\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\n`diff` is called on each pair of comparable non-primitive nodes in the\n`input`/`output` object trees, producing nested patches. Return `undefined`\nto fall back to default behaviour.\n\nReturns list of operations to perform on `input` to produce `output`.\n*/\nfunction createPatch(input, output, diff) {\n    var ptr = new pointer_1.Pointer();\n    // a new Pointer gets a default path of [''] if not specified\n    return (diff ? wrapVoidableDiff(diff) : diff_1.diffAny)(input, output, ptr);\n}\nexports.createPatch = createPatch;\n/**\nCreate a test operation based on `input`'s current evaluation of the JSON\nPointer `path`; if such a pointer cannot be resolved, returns undefined.\n*/\nfunction createTest(input, path) {\n    var endpoint = pointer_1.Pointer.fromJSON(path).evaluate(input);\n    if (endpoint !== undefined) {\n        return { op: 'test', path: path, value: endpoint.value };\n    }\n}\n/**\nProduce an 'application/json-patch+json'-type list of tests, to verify that\nexisting values in an object are identical to the those captured at some\ncheckpoint (whenever this function is called).\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\nReturns list of test operations.\n*/\nfunction createTests(input, patch) {\n    var tests = new Array();\n    patch.filter(diff_1.isDestructive).forEach(function (operation) {\n        var pathTest = createTest(input, operation.path);\n        if (pathTest)\n            tests.push(pathTest);\n        if ('from' in operation) {\n            var fromTest = createTest(input, operation.from);\n            if (fromTest)\n                tests.push(fromTest);\n        }\n    });\n    return tests;\n}\nexports.createTests = createTests;\n","import { e as error, G as GameMethod, E as EnhanceCtx, T as TurnOrder, a as supportDeprecatedMoveLimit, S as Stage, b as SetActivePlayers, i as info, F as FnWrap, I as InitTurnOrderState, U as UpdateTurnOrderState, c as UpdateActivePlayersOnceEmpty, g as gameEvent, P as PATCH, d as PLUGIN, f as ProcessAction, R as REDO, h as UNDO, j as SYNC, k as UPDATE, l as RESET, M as MAKE_MOVE, m as Enhance, n as INVALID_MOVE, N as NoClient, o as GAME_EVENT, p as STRIP_TRANSIENTS, q as FlushAndValidate, r as stripTransients } from './turn-order-406c4349.js';\nimport { applyPatch } from 'rfc6902';\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Flow\r\n *\r\n * Creates a reducer that updates ctx (analogous to how moves update G).\r\n */\r\nfunction Flow({ moves, phases, endIf, onEnd, turn, events, plugins, }) {\r\n    // Attach defaults.\r\n    if (moves === undefined) {\r\n        moves = {};\r\n    }\r\n    if (events === undefined) {\r\n        events = {};\r\n    }\r\n    if (plugins === undefined) {\r\n        plugins = [];\r\n    }\r\n    if (phases === undefined) {\r\n        phases = {};\r\n    }\r\n    if (!endIf)\r\n        endIf = () => undefined;\r\n    if (!onEnd)\r\n        onEnd = (G) => G;\r\n    if (!turn)\r\n        turn = {};\r\n    const phaseMap = { ...phases };\r\n    if ('' in phaseMap) {\r\n        error('cannot specify phase with empty name');\r\n    }\r\n    phaseMap[''] = {};\r\n    const moveMap = {};\r\n    const moveNames = new Set();\r\n    let startingPhase = null;\r\n    Object.keys(moves).forEach((name) => moveNames.add(name));\r\n    const HookWrapper = (hook, hookType) => {\r\n        const withPlugins = FnWrap(hook, hookType, plugins);\r\n        return (state) => {\r\n            const ctxWithAPI = EnhanceCtx(state);\r\n            return withPlugins(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const TriggerWrapper = (trigger) => {\r\n        return (state) => {\r\n            const ctxWithAPI = EnhanceCtx(state);\r\n            return trigger(state.G, ctxWithAPI);\r\n        };\r\n    };\r\n    const wrapped = {\r\n        onEnd: HookWrapper(onEnd, GameMethod.GAME_ON_END),\r\n        endIf: TriggerWrapper(endIf),\r\n    };\r\n    for (const phase in phaseMap) {\r\n        const phaseConfig = phaseMap[phase];\r\n        if (phaseConfig.start === true) {\r\n            startingPhase = phase;\r\n        }\r\n        if (phaseConfig.moves !== undefined) {\r\n            for (const move of Object.keys(phaseConfig.moves)) {\r\n                moveMap[phase + '.' + move] = phaseConfig.moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        if (phaseConfig.endIf === undefined) {\r\n            phaseConfig.endIf = () => undefined;\r\n        }\r\n        if (phaseConfig.onBegin === undefined) {\r\n            phaseConfig.onBegin = (G) => G;\r\n        }\r\n        if (phaseConfig.onEnd === undefined) {\r\n            phaseConfig.onEnd = (G) => G;\r\n        }\r\n        if (phaseConfig.turn === undefined) {\r\n            phaseConfig.turn = turn;\r\n        }\r\n        if (phaseConfig.turn.order === undefined) {\r\n            phaseConfig.turn.order = TurnOrder.DEFAULT;\r\n        }\r\n        if (phaseConfig.turn.onBegin === undefined) {\r\n            phaseConfig.turn.onBegin = (G) => G;\r\n        }\r\n        if (phaseConfig.turn.onEnd === undefined) {\r\n            phaseConfig.turn.onEnd = (G) => G;\r\n        }\r\n        if (phaseConfig.turn.endIf === undefined) {\r\n            phaseConfig.turn.endIf = () => false;\r\n        }\r\n        if (phaseConfig.turn.onMove === undefined) {\r\n            phaseConfig.turn.onMove = (G) => G;\r\n        }\r\n        if (phaseConfig.turn.stages === undefined) {\r\n            phaseConfig.turn.stages = {};\r\n        }\r\n        // turns previously treated moveLimit as both minMoves and maxMoves, this behaviour is kept intentionally\r\n        supportDeprecatedMoveLimit(phaseConfig.turn, true);\r\n        for (const stage in phaseConfig.turn.stages) {\r\n            const stageConfig = phaseConfig.turn.stages[stage];\r\n            const moves = stageConfig.moves || {};\r\n            for (const move of Object.keys(moves)) {\r\n                const key = phase + '.' + stage + '.' + move;\r\n                moveMap[key] = moves[move];\r\n                moveNames.add(move);\r\n            }\r\n        }\r\n        phaseConfig.wrapped = {\r\n            onBegin: HookWrapper(phaseConfig.onBegin, GameMethod.PHASE_ON_BEGIN),\r\n            onEnd: HookWrapper(phaseConfig.onEnd, GameMethod.PHASE_ON_END),\r\n            endIf: TriggerWrapper(phaseConfig.endIf),\r\n        };\r\n        phaseConfig.turn.wrapped = {\r\n            onMove: HookWrapper(phaseConfig.turn.onMove, GameMethod.TURN_ON_MOVE),\r\n            onBegin: HookWrapper(phaseConfig.turn.onBegin, GameMethod.TURN_ON_BEGIN),\r\n            onEnd: HookWrapper(phaseConfig.turn.onEnd, GameMethod.TURN_ON_END),\r\n            endIf: TriggerWrapper(phaseConfig.turn.endIf),\r\n        };\r\n        if (typeof phaseConfig.next !== 'function') {\r\n            const { next } = phaseConfig;\r\n            phaseConfig.next = () => next || null;\r\n        }\r\n        phaseConfig.wrapped.next = TriggerWrapper(phaseConfig.next);\r\n    }\r\n    function GetPhase(ctx) {\r\n        return ctx.phase ? phaseMap[ctx.phase] : phaseMap[''];\r\n    }\r\n    function OnMove(s) {\r\n        return s;\r\n    }\r\n    function Process(state, events) {\r\n        const phasesEnded = new Set();\r\n        const turnsEnded = new Set();\r\n        for (let i = 0; i < events.length; i++) {\r\n            const { fn, arg, ...rest } = events[i];\r\n            // Detect a loop of EndPhase calls.\r\n            // This could potentially even be an infinite loop\r\n            // if the endIf condition of each phase blindly\r\n            // returns true. The moment we detect a single\r\n            // loop, we just bail out of all phases.\r\n            if (fn === EndPhase) {\r\n                turnsEnded.clear();\r\n                const phase = state.ctx.phase;\r\n                if (phasesEnded.has(phase)) {\r\n                    const ctx = { ...state.ctx, phase: null };\r\n                    return { ...state, ctx };\r\n                }\r\n                phasesEnded.add(phase);\r\n            }\r\n            // Process event.\r\n            const next = [];\r\n            state = fn(state, {\r\n                ...rest,\r\n                arg,\r\n                next,\r\n            });\r\n            if (fn === EndGame) {\r\n                break;\r\n            }\r\n            // Check if we should end the game.\r\n            const shouldEndGame = ShouldEndGame(state);\r\n            if (shouldEndGame) {\r\n                events.push({\r\n                    fn: EndGame,\r\n                    arg: shouldEndGame,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the phase.\r\n            const shouldEndPhase = ShouldEndPhase(state);\r\n            if (shouldEndPhase) {\r\n                events.push({\r\n                    fn: EndPhase,\r\n                    arg: shouldEndPhase,\r\n                    turn: state.ctx.turn,\r\n                    phase: state.ctx.phase,\r\n                    automatic: true,\r\n                });\r\n                continue;\r\n            }\r\n            // Check if we should end the turn.\r\n            if ([OnMove, UpdateStage, UpdateActivePlayers].includes(fn)) {\r\n                const shouldEndTurn = ShouldEndTurn(state);\r\n                if (shouldEndTurn) {\r\n                    events.push({\r\n                        fn: EndTurn,\r\n                        arg: shouldEndTurn,\r\n                        turn: state.ctx.turn,\r\n                        phase: state.ctx.phase,\r\n                        automatic: true,\r\n                    });\r\n                    continue;\r\n                }\r\n            }\r\n            events.push(...next);\r\n        }\r\n        return state;\r\n    }\r\n    ///////////\r\n    // Start //\r\n    ///////////\r\n    function StartGame(state, { next }) {\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function StartPhase(state, { next }) {\r\n        let { G, ctx } = state;\r\n        const phaseConfig = GetPhase(ctx);\r\n        // Run any phase setup code provided by the user.\r\n        G = phaseConfig.wrapped.onBegin(state);\r\n        next.push({ fn: StartTurn });\r\n        return { ...state, G, ctx };\r\n    }\r\n    function StartTurn(state, { currentPlayer }) {\r\n        let { ctx } = state;\r\n        const phaseConfig = GetPhase(ctx);\r\n        // Initialize the turn order state.\r\n        if (currentPlayer) {\r\n            ctx = { ...ctx, currentPlayer };\r\n            if (phaseConfig.turn.activePlayers) {\r\n                ctx = SetActivePlayers(ctx, phaseConfig.turn.activePlayers);\r\n            }\r\n        }\r\n        else {\r\n            // This is only called at the beginning of the phase\r\n            // when there is no currentPlayer yet.\r\n            ctx = InitTurnOrderState(state, phaseConfig.turn);\r\n        }\r\n        const turn = ctx.turn + 1;\r\n        ctx = { ...ctx, turn, numMoves: 0, _prevActivePlayers: [] };\r\n        const G = phaseConfig.turn.wrapped.onBegin({ ...state, ctx });\r\n        return { ...state, G, ctx, _undo: [], _redo: [] };\r\n    }\r\n    ////////////\r\n    // Update //\r\n    ////////////\r\n    function UpdatePhase(state, { arg, next, phase }) {\r\n        const phaseConfig = GetPhase({ phase });\r\n        let { ctx } = state;\r\n        if (arg && arg.next) {\r\n            if (arg.next in phaseMap) {\r\n                ctx = { ...ctx, phase: arg.next };\r\n            }\r\n            else {\r\n                error('invalid phase: ' + arg.next);\r\n                return state;\r\n            }\r\n        }\r\n        else {\r\n            ctx = { ...ctx, phase: phaseConfig.wrapped.next(state) || null };\r\n        }\r\n        state = { ...state, ctx };\r\n        // Start the new phase.\r\n        next.push({ fn: StartPhase });\r\n        return state;\r\n    }\r\n    function UpdateTurn(state, { arg, currentPlayer, next }) {\r\n        let { G, ctx } = state;\r\n        const phaseConfig = GetPhase(ctx);\r\n        // Update turn order state.\r\n        const { endPhase, ctx: newCtx } = UpdateTurnOrderState(state, currentPlayer, phaseConfig.turn, arg);\r\n        ctx = newCtx;\r\n        state = { ...state, G, ctx };\r\n        if (endPhase) {\r\n            next.push({ fn: EndPhase, turn: ctx.turn, phase: ctx.phase });\r\n        }\r\n        else {\r\n            next.push({ fn: StartTurn, currentPlayer: ctx.currentPlayer });\r\n        }\r\n        return state;\r\n    }\r\n    function UpdateStage(state, { arg, playerID }) {\r\n        if (typeof arg === 'string' || arg === Stage.NULL) {\r\n            arg = { stage: arg };\r\n        }\r\n        if (typeof arg !== 'object')\r\n            return state;\r\n        // `arg` should be of type `StageArg`, loose typing as `any` here for historic reasons\r\n        // stages previously did not enforce minMoves, this behaviour is kept intentionally\r\n        supportDeprecatedMoveLimit(arg);\r\n        let { ctx } = state;\r\n        let { activePlayers, _activePlayersMinMoves, _activePlayersMaxMoves, _activePlayersNumMoves, } = ctx;\r\n        // Checking if stage is valid, even Stage.NULL\r\n        if (arg.stage !== undefined) {\r\n            if (activePlayers === null) {\r\n                activePlayers = {};\r\n            }\r\n            activePlayers[playerID] = arg.stage;\r\n            _activePlayersNumMoves[playerID] = 0;\r\n            if (arg.minMoves) {\r\n                if (_activePlayersMinMoves === null) {\r\n                    _activePlayersMinMoves = {};\r\n                }\r\n                _activePlayersMinMoves[playerID] = arg.minMoves;\r\n            }\r\n            if (arg.maxMoves) {\r\n                if (_activePlayersMaxMoves === null) {\r\n                    _activePlayersMaxMoves = {};\r\n                }\r\n                _activePlayersMaxMoves[playerID] = arg.maxMoves;\r\n            }\r\n        }\r\n        ctx = {\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMinMoves,\r\n            _activePlayersMaxMoves,\r\n            _activePlayersNumMoves,\r\n        };\r\n        return { ...state, ctx };\r\n    }\r\n    function UpdateActivePlayers(state, { arg }) {\r\n        return { ...state, ctx: SetActivePlayers(state.ctx, arg) };\r\n    }\r\n    ///////////////\r\n    // ShouldEnd //\r\n    ///////////////\r\n    function ShouldEndGame(state) {\r\n        return wrapped.endIf(state);\r\n    }\r\n    function ShouldEndPhase(state) {\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        return phaseConfig.wrapped.endIf(state);\r\n    }\r\n    function ShouldEndTurn(state) {\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        // End the turn if the required number of moves has been made.\r\n        const currentPlayerMoves = state.ctx.numMoves || 0;\r\n        if (phaseConfig.turn.maxMoves &&\r\n            currentPlayerMoves >= phaseConfig.turn.maxMoves) {\r\n            return true;\r\n        }\r\n        return phaseConfig.turn.wrapped.endIf(state);\r\n    }\r\n    /////////\r\n    // End //\r\n    /////////\r\n    function EndGame(state, { arg, phase }) {\r\n        state = EndPhase(state, { phase });\r\n        if (arg === undefined) {\r\n            arg = true;\r\n        }\r\n        state = { ...state, ctx: { ...state.ctx, gameover: arg } };\r\n        // Run game end hook.\r\n        const G = wrapped.onEnd(state);\r\n        return { ...state, G };\r\n    }\r\n    function EndPhase(state, { arg, next, turn: initialTurn, automatic }) {\r\n        // End the turn first.\r\n        state = EndTurn(state, { turn: initialTurn, force: true, automatic: true });\r\n        const { phase, turn } = state.ctx;\r\n        if (next) {\r\n            next.push({ fn: UpdatePhase, arg, phase });\r\n        }\r\n        // If we aren't in a phase, there is nothing else to do.\r\n        if (phase === null) {\r\n            return state;\r\n        }\r\n        // Run any cleanup code for the phase that is about to end.\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        const G = phaseConfig.wrapped.onEnd(state);\r\n        // Reset the phase.\r\n        const ctx = { ...state.ctx, phase: null };\r\n        // Add log entry.\r\n        const action = gameEvent('endPhase', arg);\r\n        const { _stateID } = state;\r\n        const logEntry = { action, _stateID, turn, phase };\r\n        if (automatic)\r\n            logEntry.automatic = true;\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, G, ctx, deltalog };\r\n    }\r\n    function EndTurn(state, { arg, next, turn: initialTurn, force, automatic, playerID }) {\r\n        // This is not the turn that EndTurn was originally\r\n        // called for. The turn was probably ended some other way.\r\n        if (initialTurn !== state.ctx.turn) {\r\n            return state;\r\n        }\r\n        const { currentPlayer, numMoves, phase, turn } = state.ctx;\r\n        const phaseConfig = GetPhase(state.ctx);\r\n        // Prevent ending the turn if minMoves haven't been reached.\r\n        const currentPlayerMoves = numMoves || 0;\r\n        if (!force &&\r\n            phaseConfig.turn.minMoves &&\r\n            currentPlayerMoves < phaseConfig.turn.minMoves) {\r\n            info(`cannot end turn before making ${phaseConfig.turn.minMoves} moves`);\r\n            return state;\r\n        }\r\n        // Run turn-end triggers.\r\n        const G = phaseConfig.turn.wrapped.onEnd(state);\r\n        if (next) {\r\n            next.push({ fn: UpdateTurn, arg, currentPlayer });\r\n        }\r\n        // Reset activePlayers.\r\n        let ctx = { ...state.ctx, activePlayers: null };\r\n        // Remove player from playerOrder\r\n        if (arg && arg.remove) {\r\n            playerID = playerID || currentPlayer;\r\n            const playOrder = ctx.playOrder.filter((i) => i != playerID);\r\n            const playOrderPos = ctx.playOrderPos > playOrder.length - 1 ? 0 : ctx.playOrderPos;\r\n            ctx = { ...ctx, playOrder, playOrderPos };\r\n            if (playOrder.length === 0) {\r\n                next.push({ fn: EndPhase, turn, phase });\r\n                return state;\r\n            }\r\n        }\r\n        // Create log entry.\r\n        const action = gameEvent('endTurn', arg);\r\n        const { _stateID } = state;\r\n        const logEntry = { action, _stateID, turn, phase };\r\n        if (automatic)\r\n            logEntry.automatic = true;\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, G, ctx, deltalog, _undo: [], _redo: [] };\r\n    }\r\n    function EndStage(state, { arg, next, automatic, playerID }) {\r\n        playerID = playerID || state.ctx.currentPlayer;\r\n        let { ctx, _stateID } = state;\r\n        let { activePlayers, _activePlayersNumMoves, _activePlayersMinMoves, _activePlayersMaxMoves, phase, turn, } = ctx;\r\n        const playerInStage = activePlayers !== null && playerID in activePlayers;\r\n        const phaseConfig = GetPhase(ctx);\r\n        if (!arg && playerInStage) {\r\n            const stage = phaseConfig.turn.stages[activePlayers[playerID]];\r\n            if (stage && stage.next) {\r\n                arg = stage.next;\r\n            }\r\n        }\r\n        // Checking if arg is a valid stage, even Stage.NULL\r\n        if (next) {\r\n            next.push({ fn: UpdateStage, arg, playerID });\r\n        }\r\n        // If player isnt in a stage, there is nothing else to do.\r\n        if (!playerInStage)\r\n            return state;\r\n        // Prevent ending the stage if minMoves haven't been reached.\r\n        const currentPlayerMoves = _activePlayersNumMoves[playerID] || 0;\r\n        if (_activePlayersMinMoves &&\r\n            _activePlayersMinMoves[playerID] &&\r\n            currentPlayerMoves < _activePlayersMinMoves[playerID]) {\r\n            info(`cannot end stage before making ${_activePlayersMinMoves[playerID]} moves`);\r\n            return state;\r\n        }\r\n        // Remove player from activePlayers.\r\n        activePlayers = { ...activePlayers };\r\n        delete activePlayers[playerID];\r\n        if (_activePlayersMinMoves) {\r\n            // Remove player from _activePlayersMinMoves.\r\n            _activePlayersMinMoves = { ..._activePlayersMinMoves };\r\n            delete _activePlayersMinMoves[playerID];\r\n        }\r\n        if (_activePlayersMaxMoves) {\r\n            // Remove player from _activePlayersMaxMoves.\r\n            _activePlayersMaxMoves = { ..._activePlayersMaxMoves };\r\n            delete _activePlayersMaxMoves[playerID];\r\n        }\r\n        ctx = UpdateActivePlayersOnceEmpty({\r\n            ...ctx,\r\n            activePlayers,\r\n            _activePlayersMinMoves,\r\n            _activePlayersMaxMoves,\r\n        });\r\n        // Create log entry.\r\n        const action = gameEvent('endStage', arg);\r\n        const logEntry = { action, _stateID, turn, phase };\r\n        if (automatic)\r\n            logEntry.automatic = true;\r\n        const deltalog = [...(state.deltalog || []), logEntry];\r\n        return { ...state, ctx, deltalog };\r\n    }\r\n    /**\r\n     * Retrieves the relevant move that can be played by playerID.\r\n     *\r\n     * If ctx.activePlayers is set (i.e. one or more players are in some stage),\r\n     * then it attempts to find the move inside the stages config for\r\n     * that turn. If the stage for a player is '', then the player is\r\n     * allowed to make a move (as determined by the phase config), but\r\n     * isn't restricted to a particular set as defined in the stage config.\r\n     *\r\n     * If not, it then looks for the move inside the phase.\r\n     *\r\n     * If it doesn't find the move there, it looks at the global move definition.\r\n     *\r\n     * @param {object} ctx\r\n     * @param {string} name\r\n     * @param {string} playerID\r\n     */\r\n    function GetMove(ctx, name, playerID) {\r\n        const phaseConfig = GetPhase(ctx);\r\n        const stages = phaseConfig.turn.stages;\r\n        const { activePlayers } = ctx;\r\n        if (activePlayers &&\r\n            activePlayers[playerID] !== undefined &&\r\n            activePlayers[playerID] !== Stage.NULL &&\r\n            stages[activePlayers[playerID]] !== undefined &&\r\n            stages[activePlayers[playerID]].moves !== undefined) {\r\n            // Check if moves are defined for the player's stage.\r\n            const stage = stages[activePlayers[playerID]];\r\n            const moves = stage.moves;\r\n            if (name in moves) {\r\n                return moves[name];\r\n            }\r\n        }\r\n        else if (phaseConfig.moves) {\r\n            // Check if moves are defined for the current phase.\r\n            if (name in phaseConfig.moves) {\r\n                return phaseConfig.moves[name];\r\n            }\r\n        }\r\n        else if (name in moves) {\r\n            // Check for the move globally.\r\n            return moves[name];\r\n        }\r\n        return null;\r\n    }\r\n    function ProcessMove(state, action) {\r\n        const { playerID, type } = action;\r\n        const { ctx } = state;\r\n        const { currentPlayer, activePlayers, _activePlayersMaxMoves } = ctx;\r\n        const move = GetMove(ctx, type, playerID);\r\n        const shouldCount = !move || typeof move === 'function' || move.noLimit !== true;\r\n        let { numMoves, _activePlayersNumMoves } = ctx;\r\n        if (shouldCount) {\r\n            if (playerID === currentPlayer)\r\n                numMoves++;\r\n            if (activePlayers)\r\n                _activePlayersNumMoves[playerID]++;\r\n        }\r\n        state = {\r\n            ...state,\r\n            ctx: {\r\n                ...ctx,\r\n                numMoves,\r\n                _activePlayersNumMoves,\r\n            },\r\n        };\r\n        if (_activePlayersMaxMoves &&\r\n            _activePlayersNumMoves[playerID] >= _activePlayersMaxMoves[playerID]) {\r\n            state = EndStage(state, { playerID, automatic: true });\r\n        }\r\n        const phaseConfig = GetPhase(ctx);\r\n        const G = phaseConfig.turn.wrapped.onMove(state);\r\n        state = { ...state, G };\r\n        const events = [{ fn: OnMove }];\r\n        return Process(state, events);\r\n    }\r\n    function SetStageEvent(state, playerID, arg) {\r\n        return Process(state, [{ fn: EndStage, arg, playerID }]);\r\n    }\r\n    function EndStageEvent(state, playerID) {\r\n        return Process(state, [{ fn: EndStage, playerID }]);\r\n    }\r\n    function SetActivePlayersEvent(state, _playerID, arg) {\r\n        return Process(state, [{ fn: UpdateActivePlayers, arg }]);\r\n    }\r\n    function SetPhaseEvent(state, _playerID, newPhase) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndPhase,\r\n                phase: state.ctx.phase,\r\n                turn: state.ctx.turn,\r\n                arg: { next: newPhase },\r\n            },\r\n        ]);\r\n    }\r\n    function EndPhaseEvent(state) {\r\n        return Process(state, [\r\n            { fn: EndPhase, phase: state.ctx.phase, turn: state.ctx.turn },\r\n        ]);\r\n    }\r\n    function EndTurnEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndTurn, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    function PassEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            {\r\n                fn: EndTurn,\r\n                turn: state.ctx.turn,\r\n                phase: state.ctx.phase,\r\n                force: true,\r\n                arg,\r\n            },\r\n        ]);\r\n    }\r\n    function EndGameEvent(state, _playerID, arg) {\r\n        return Process(state, [\r\n            { fn: EndGame, turn: state.ctx.turn, phase: state.ctx.phase, arg },\r\n        ]);\r\n    }\r\n    const eventHandlers = {\r\n        endStage: EndStageEvent,\r\n        setStage: SetStageEvent,\r\n        endTurn: EndTurnEvent,\r\n        pass: PassEvent,\r\n        endPhase: EndPhaseEvent,\r\n        setPhase: SetPhaseEvent,\r\n        endGame: EndGameEvent,\r\n        setActivePlayers: SetActivePlayersEvent,\r\n    };\r\n    const enabledEventNames = [];\r\n    if (events.endTurn !== false) {\r\n        enabledEventNames.push('endTurn');\r\n    }\r\n    if (events.pass !== false) {\r\n        enabledEventNames.push('pass');\r\n    }\r\n    if (events.endPhase !== false) {\r\n        enabledEventNames.push('endPhase');\r\n    }\r\n    if (events.setPhase !== false) {\r\n        enabledEventNames.push('setPhase');\r\n    }\r\n    if (events.endGame !== false) {\r\n        enabledEventNames.push('endGame');\r\n    }\r\n    if (events.setActivePlayers !== false) {\r\n        enabledEventNames.push('setActivePlayers');\r\n    }\r\n    if (events.endStage !== false) {\r\n        enabledEventNames.push('endStage');\r\n    }\r\n    if (events.setStage !== false) {\r\n        enabledEventNames.push('setStage');\r\n    }\r\n    function ProcessEvent(state, action) {\r\n        const { type, playerID, args } = action.payload;\r\n        if (typeof eventHandlers[type] !== 'function')\r\n            return state;\r\n        return eventHandlers[type](state, playerID, ...(Array.isArray(args) ? args : [args]));\r\n    }\r\n    function IsPlayerActive(_G, ctx, playerID) {\r\n        if (ctx.activePlayers) {\r\n            return playerID in ctx.activePlayers;\r\n        }\r\n        return ctx.currentPlayer === playerID;\r\n    }\r\n    return {\r\n        ctx: (numPlayers) => ({\r\n            numPlayers,\r\n            turn: 0,\r\n            currentPlayer: '0',\r\n            playOrder: [...Array.from({ length: numPlayers })].map((_, i) => i + ''),\r\n            playOrderPos: 0,\r\n            phase: startingPhase,\r\n            activePlayers: null,\r\n        }),\r\n        init: (state) => {\r\n            return Process(state, [{ fn: StartGame }]);\r\n        },\r\n        isPlayerActive: IsPlayerActive,\r\n        eventHandlers,\r\n        eventNames: Object.keys(eventHandlers),\r\n        enabledEventNames,\r\n        moveMap,\r\n        moveNames: [...moveNames.values()],\r\n        processMove: ProcessMove,\r\n        processEvent: ProcessEvent,\r\n        getMove: GetMove,\r\n    };\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nfunction IsProcessed(game) {\r\n    return game.processMove !== undefined;\r\n}\r\n/**\r\n * Helper to generate the game move reducer. The returned\r\n * reducer has the following signature:\r\n *\r\n * (G, action, ctx) => {}\r\n *\r\n * You can roll your own if you like, or use any Redux\r\n * addon to generate such a reducer.\r\n *\r\n * The convention used in this framework is to\r\n * have action.type contain the name of the move, and\r\n * action.args contain any additional arguments as an\r\n * Array.\r\n */\r\nfunction ProcessGameConfig(game) {\r\n    // The Game() function has already been called on this\r\n    // config object, so just pass it through.\r\n    if (IsProcessed(game)) {\r\n        return game;\r\n    }\r\n    if (game.name === undefined)\r\n        game.name = 'default';\r\n    if (game.deltaState === undefined)\r\n        game.deltaState = false;\r\n    if (game.disableUndo === undefined)\r\n        game.disableUndo = false;\r\n    if (game.setup === undefined)\r\n        game.setup = () => ({});\r\n    if (game.moves === undefined)\r\n        game.moves = {};\r\n    if (game.playerView === undefined)\r\n        game.playerView = (G) => G;\r\n    if (game.plugins === undefined)\r\n        game.plugins = [];\r\n    game.plugins.forEach((plugin) => {\r\n        if (plugin.name === undefined) {\r\n            throw new Error('Plugin missing name attribute');\r\n        }\r\n        if (plugin.name.includes(' ')) {\r\n            throw new Error(plugin.name + ': Plugin name must not include spaces');\r\n        }\r\n    });\r\n    if (game.name.includes(' ')) {\r\n        throw new Error(game.name + ': Game name must not include spaces');\r\n    }\r\n    const flow = Flow(game);\r\n    return {\r\n        ...game,\r\n        flow,\r\n        moveNames: flow.moveNames,\r\n        pluginNames: game.plugins.map((p) => p.name),\r\n        processMove: (state, action) => {\r\n            let moveFn = flow.getMove(state.ctx, action.type, action.playerID);\r\n            if (IsLongFormMove(moveFn)) {\r\n                moveFn = moveFn.move;\r\n            }\r\n            if (moveFn instanceof Function) {\r\n                const fn = FnWrap(moveFn, GameMethod.MOVE, game.plugins);\r\n                const ctxWithAPI = {\r\n                    ...EnhanceCtx(state),\r\n                    playerID: action.playerID,\r\n                };\r\n                let args = [];\r\n                if (action.args !== undefined) {\r\n                    args = Array.isArray(action.args) ? action.args : [action.args];\r\n                }\r\n                return fn(state.G, ctxWithAPI, ...args);\r\n            }\r\n            error(`invalid move object: ${action.type}`);\r\n            return state.G;\r\n        },\r\n    };\r\n}\r\nfunction IsLongFormMove(move) {\r\n    return move instanceof Object && move.move !== undefined;\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nvar UpdateErrorType;\r\n(function (UpdateErrorType) {\r\n    // The actions credentials were missing or invalid\r\n    UpdateErrorType[\"UnauthorizedAction\"] = \"update/unauthorized_action\";\r\n    // The actions matchID was not found\r\n    UpdateErrorType[\"MatchNotFound\"] = \"update/match_not_found\";\r\n    // Could not apply Patch operation (rfc6902).\r\n    UpdateErrorType[\"PatchFailed\"] = \"update/patch_failed\";\r\n})(UpdateErrorType || (UpdateErrorType = {}));\r\nvar ActionErrorType;\r\n(function (ActionErrorType) {\r\n    // The action contained a stale state ID\r\n    ActionErrorType[\"StaleStateId\"] = \"action/stale_state_id\";\r\n    // The requested move is unknown or not currently available\r\n    ActionErrorType[\"UnavailableMove\"] = \"action/unavailable_move\";\r\n    // The move declared it was invalid (INVALID_MOVE constant)\r\n    ActionErrorType[\"InvalidMove\"] = \"action/invalid_move\";\r\n    // The player making the action is not currently active\r\n    ActionErrorType[\"InactivePlayer\"] = \"action/inactive_player\";\r\n    // The game has finished\r\n    ActionErrorType[\"GameOver\"] = \"action/gameover\";\r\n    // The requested action is disabled (e.g. undo/redo, events)\r\n    ActionErrorType[\"ActionDisabled\"] = \"action/action_disabled\";\r\n    // The requested action is not currently possible\r\n    ActionErrorType[\"ActionInvalid\"] = \"action/action_invalid\";\r\n    // The requested action was declared invalid by a plugin\r\n    ActionErrorType[\"PluginActionInvalid\"] = \"action/plugin_invalid\";\r\n})(ActionErrorType || (ActionErrorType = {}));\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Check if the payload for the passed action contains a playerID.\r\n */\r\nconst actionHasPlayerID = (action) => action.payload.playerID !== null && action.payload.playerID !== undefined;\r\n/**\r\n * Returns true if a move can be undone.\r\n */\r\nconst CanUndoMove = (G, ctx, move) => {\r\n    function HasUndoable(move) {\r\n        return move.undoable !== undefined;\r\n    }\r\n    function IsFunction(undoable) {\r\n        return undoable instanceof Function;\r\n    }\r\n    if (!HasUndoable(move)) {\r\n        return true;\r\n    }\r\n    if (IsFunction(move.undoable)) {\r\n        return move.undoable(G, ctx);\r\n    }\r\n    return move.undoable;\r\n};\r\n/**\r\n * Update the undo and redo stacks for a move or event.\r\n */\r\nfunction updateUndoRedoState(state, opts) {\r\n    if (opts.game.disableUndo)\r\n        return state;\r\n    const undoEntry = {\r\n        G: state.G,\r\n        ctx: state.ctx,\r\n        plugins: state.plugins,\r\n        playerID: opts.action.payload.playerID || state.ctx.currentPlayer,\r\n    };\r\n    if (opts.action.type === 'MAKE_MOVE') {\r\n        undoEntry.moveType = opts.action.payload.type;\r\n    }\r\n    return {\r\n        ...state,\r\n        _undo: [...state._undo, undoEntry],\r\n        // Always reset redo stack when making a move or event\r\n        _redo: [],\r\n    };\r\n}\r\n/**\r\n * Process state, adding the initial deltalog for this action.\r\n */\r\nfunction initializeDeltalog(state, action, move) {\r\n    // Create a log entry for this action.\r\n    const logEntry = {\r\n        action,\r\n        _stateID: state._stateID,\r\n        turn: state.ctx.turn,\r\n        phase: state.ctx.phase,\r\n    };\r\n    const pluginLogMetadata = state.plugins.log.data.metadata;\r\n    if (pluginLogMetadata !== undefined) {\r\n        logEntry.metadata = pluginLogMetadata;\r\n    }\r\n    if (typeof move === 'object' && move.redact === true) {\r\n        logEntry.redact = true;\r\n    }\r\n    return {\r\n        ...state,\r\n        deltalog: [logEntry],\r\n    };\r\n}\r\n/**\r\n * Update plugin state after move/event & check if plugins consider the action to be valid.\r\n * @param state Current version of state in the reducer.\r\n * @param oldState State to revert to in case of error.\r\n * @param pluginOpts Plugin configuration options.\r\n * @returns Tuple of the new state updated after flushing plugins and the old\r\n * state augmented with an error if a plugin declared the action invalid.\r\n */\r\nfunction flushAndValidatePlugins(state, oldState, pluginOpts) {\r\n    const [newState, isInvalid] = FlushAndValidate(state, pluginOpts);\r\n    if (!isInvalid)\r\n        return [newState];\r\n    return [\r\n        newState,\r\n        WithError(oldState, ActionErrorType.PluginActionInvalid, isInvalid),\r\n    ];\r\n}\r\n/**\r\n * ExtractTransientsFromState\r\n *\r\n * Split out transients from the a TransientState\r\n */\r\nfunction ExtractTransients(transientState) {\r\n    if (!transientState) {\r\n        // We preserve null for the state for legacy callers, but the transient\r\n        // field should be undefined if not present to be consistent with the\r\n        // code path below.\r\n        return [null, undefined];\r\n    }\r\n    const { transients, ...state } = transientState;\r\n    return [state, transients];\r\n}\r\n/**\r\n * WithError\r\n *\r\n * Augment a State instance with transient error information.\r\n */\r\nfunction WithError(state, errorType, payload) {\r\n    const error = {\r\n        type: errorType,\r\n        payload,\r\n    };\r\n    return {\r\n        ...state,\r\n        transients: {\r\n            error,\r\n        },\r\n    };\r\n}\r\n/**\r\n * Middleware for processing TransientState associated with the reducer\r\n * returned by CreateGameReducer.\r\n * This should pretty much be used everywhere you want realistic state\r\n * transitions and error handling.\r\n */\r\nconst TransientHandlingMiddleware = (store) => (next) => (action) => {\r\n    const result = next(action);\r\n    switch (action.type) {\r\n        case STRIP_TRANSIENTS: {\r\n            return result;\r\n        }\r\n        default: {\r\n            const [, transients] = ExtractTransients(store.getState());\r\n            if (typeof transients !== 'undefined') {\r\n                store.dispatch(stripTransients());\r\n                // Dev Note: If parent middleware needs to correlate the spawned\r\n                // StripTransients action to the triggering action, instrument here.\r\n                //\r\n                // This is a bit tricky; for more details, see:\r\n                //   https://github.com/boardgameio/boardgame.io/pull/940#discussion_r636200648\r\n                return {\r\n                    ...result,\r\n                    transients,\r\n                };\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n};\r\n/**\r\n * CreateGameReducer\r\n *\r\n * Creates the main game state reducer.\r\n */\r\nfunction CreateGameReducer({ game, isClient, }) {\r\n    game = ProcessGameConfig(game);\r\n    /**\r\n     * GameReducer\r\n     *\r\n     * Redux reducer that maintains the overall game state.\r\n     * @param {object} state - The state before the action.\r\n     * @param {object} action - A Redux action.\r\n     */\r\n    return (stateWithTransients = null, action) => {\r\n        let [state /*, transients */] = ExtractTransients(stateWithTransients);\r\n        switch (action.type) {\r\n            case STRIP_TRANSIENTS: {\r\n                // This action indicates that transient metadata in the state has been\r\n                // consumed and should now be stripped from the state..\r\n                return state;\r\n            }\r\n            case GAME_EVENT: {\r\n                state = { ...state, deltalog: [] };\r\n                // Process game events only on the server.\r\n                // These events like `endTurn` typically\r\n                // contain code that may rely on secret state\r\n                // and cannot be computed on the client.\r\n                if (isClient) {\r\n                    return state;\r\n                }\r\n                // Disallow events once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    error(`cannot call event after game end`);\r\n                    return WithError(state, ActionErrorType.GameOver);\r\n                }\r\n                // Ignore the event if the player isn't active.\r\n                if (actionHasPlayerID(action) &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    error(`disallowed event: ${action.payload.type}`);\r\n                    return WithError(state, ActionErrorType.InactivePlayer);\r\n                }\r\n                // Execute plugins.\r\n                state = Enhance(state, {\r\n                    game,\r\n                    isClient: false,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process event.\r\n                let newState = game.flow.processEvent(state, action);\r\n                // Execute plugins.\r\n                let stateWithError;\r\n                [newState, stateWithError] = flushAndValidatePlugins(newState, state, {\r\n                    game,\r\n                    isClient: false,\r\n                });\r\n                if (stateWithError)\r\n                    return stateWithError;\r\n                // Update undo / redo state.\r\n                newState = updateUndoRedoState(newState, { game, action });\r\n                return { ...newState, _stateID: state._stateID + 1 };\r\n            }\r\n            case MAKE_MOVE: {\r\n                const oldState = (state = { ...state, deltalog: [] });\r\n                // Check whether the move is allowed at this time.\r\n                const move = game.flow.getMove(state.ctx, action.payload.type, action.payload.playerID || state.ctx.currentPlayer);\r\n                if (move === null) {\r\n                    error(`disallowed move: ${action.payload.type}`);\r\n                    return WithError(state, ActionErrorType.UnavailableMove);\r\n                }\r\n                // Don't run move on client if move says so.\r\n                if (isClient && move.client === false) {\r\n                    return state;\r\n                }\r\n                // Disallow moves once the game is over.\r\n                if (state.ctx.gameover !== undefined) {\r\n                    error(`cannot make move after game end`);\r\n                    return WithError(state, ActionErrorType.GameOver);\r\n                }\r\n                // Ignore the move if the player isn't active.\r\n                if (actionHasPlayerID(action) &&\r\n                    !game.flow.isPlayerActive(state.G, state.ctx, action.payload.playerID)) {\r\n                    error(`disallowed move: ${action.payload.type}`);\r\n                    return WithError(state, ActionErrorType.InactivePlayer);\r\n                }\r\n                // Execute plugins.\r\n                state = Enhance(state, {\r\n                    game,\r\n                    isClient,\r\n                    playerID: action.payload.playerID,\r\n                });\r\n                // Process the move.\r\n                const G = game.processMove(state, action.payload);\r\n                // The game declared the move as invalid.\r\n                if (G === INVALID_MOVE) {\r\n                    error(`invalid move: ${action.payload.type} args: ${action.payload.args}`);\r\n                    // TODO(#723): Marshal a nice error payload with the processed move.\r\n                    return WithError(state, ActionErrorType.InvalidMove);\r\n                }\r\n                const newState = { ...state, G };\r\n                // Some plugin indicated that it is not suitable to be\r\n                // materialized on the client (and must wait for the server\r\n                // response instead).\r\n                if (isClient && NoClient(newState, { game })) {\r\n                    return state;\r\n                }\r\n                state = newState;\r\n                // If we're on the client, just process the move\r\n                // and no triggers in multiplayer mode.\r\n                // These will be processed on the server, which\r\n                // will send back a state update.\r\n                if (isClient) {\r\n                    let stateWithError;\r\n                    [state, stateWithError] = flushAndValidatePlugins(state, oldState, {\r\n                        game,\r\n                        isClient: true,\r\n                    });\r\n                    if (stateWithError)\r\n                        return stateWithError;\r\n                    return {\r\n                        ...state,\r\n                        _stateID: state._stateID + 1,\r\n                    };\r\n                }\r\n                // On the server, construct the deltalog.\r\n                state = initializeDeltalog(state, action, move);\r\n                // Allow the flow reducer to process any triggers that happen after moves.\r\n                state = game.flow.processMove(state, action.payload);\r\n                let stateWithError;\r\n                [state, stateWithError] = flushAndValidatePlugins(state, oldState, {\r\n                    game,\r\n                });\r\n                if (stateWithError)\r\n                    return stateWithError;\r\n                // Update undo / redo state.\r\n                state = updateUndoRedoState(state, { game, action });\r\n                return {\r\n                    ...state,\r\n                    _stateID: state._stateID + 1,\r\n                };\r\n            }\r\n            case RESET:\r\n            case UPDATE:\r\n            case SYNC: {\r\n                return action.state;\r\n            }\r\n            case UNDO: {\r\n                state = { ...state, deltalog: [] };\r\n                if (game.disableUndo) {\r\n                    error('Undo is not enabled');\r\n                    return WithError(state, ActionErrorType.ActionDisabled);\r\n                }\r\n                const { G, ctx, _undo, _redo, _stateID } = state;\r\n                if (_undo.length < 2) {\r\n                    error(`No moves to undo`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                const last = _undo[_undo.length - 1];\r\n                const restore = _undo[_undo.length - 2];\r\n                // Only allow players to undo their own moves.\r\n                if (actionHasPlayerID(action) &&\r\n                    action.payload.playerID !== last.playerID) {\r\n                    error(`Cannot undo other players' moves`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                // If undoing a move, check it is undoable.\r\n                if (last.moveType) {\r\n                    const lastMove = game.flow.getMove(restore.ctx, last.moveType, last.playerID);\r\n                    if (!CanUndoMove(G, ctx, lastMove)) {\r\n                        error(`Move cannot be undone`);\r\n                        return WithError(state, ActionErrorType.ActionInvalid);\r\n                    }\r\n                }\r\n                state = initializeDeltalog(state, action);\r\n                return {\r\n                    ...state,\r\n                    G: restore.G,\r\n                    ctx: restore.ctx,\r\n                    plugins: restore.plugins,\r\n                    _stateID: _stateID + 1,\r\n                    _undo: _undo.slice(0, -1),\r\n                    _redo: [last, ..._redo],\r\n                };\r\n            }\r\n            case REDO: {\r\n                state = { ...state, deltalog: [] };\r\n                if (game.disableUndo) {\r\n                    error('Redo is not enabled');\r\n                    return WithError(state, ActionErrorType.ActionDisabled);\r\n                }\r\n                const { _undo, _redo, _stateID } = state;\r\n                if (_redo.length === 0) {\r\n                    error(`No moves to redo`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                const first = _redo[0];\r\n                // Only allow players to redo their own undos.\r\n                if (actionHasPlayerID(action) &&\r\n                    action.payload.playerID !== first.playerID) {\r\n                    error(`Cannot redo other players' moves`);\r\n                    return WithError(state, ActionErrorType.ActionInvalid);\r\n                }\r\n                state = initializeDeltalog(state, action);\r\n                return {\r\n                    ...state,\r\n                    G: first.G,\r\n                    ctx: first.ctx,\r\n                    plugins: first.plugins,\r\n                    _stateID: _stateID + 1,\r\n                    _undo: [..._undo, first],\r\n                    _redo: _redo.slice(1),\r\n                };\r\n            }\r\n            case PLUGIN: {\r\n                // TODO(#723): Expose error semantics to plugin processing.\r\n                return ProcessAction(state, action, { game });\r\n            }\r\n            case PATCH: {\r\n                const oldState = state;\r\n                const newState = JSON.parse(JSON.stringify(oldState));\r\n                const patchError = applyPatch(newState, action.patch);\r\n                const hasError = patchError.some((entry) => entry !== null);\r\n                if (hasError) {\r\n                    error(`Patch ${JSON.stringify(action.patch)} apply failed`);\r\n                    return WithError(oldState, UpdateErrorType.PatchFailed, patchError);\r\n                }\r\n                else {\r\n                    return newState;\r\n                }\r\n            }\r\n            default: {\r\n                return state;\r\n            }\r\n        }\r\n    };\r\n}\n\nexport { CreateGameReducer as C, IsLongFormMove as I, ProcessGameConfig as P, TransientHandlingMiddleware as T };\n","/*! (c) 2020 Andrea Giammarchi */\n\nconst {parse: $parse, stringify: $stringify} = JSON;\nconst {keys} = Object;\n\nconst Primitive = String;   // it could be Number\nconst primitive = 'string'; // it could be 'number'\n\nconst ignore = {};\nconst object = 'object';\n\nconst noop = (_, value) => value;\n\nconst primitives = value => (\n  value instanceof Primitive ? Primitive(value) : value\n);\n\nconst Primitives = (_, value) => (\n  typeof value === primitive ? new Primitive(value) : value\n);\n\nconst revive = (input, parsed, output, $) => {\n  const lazy = [];\n  for (let ke = keys(output), {length} = ke, y = 0; y < length; y++) {\n    const k = ke[y];\n    const value = output[k];\n    if (value instanceof Primitive) {\n      const tmp = input[value];\n      if (typeof tmp === object && !parsed.has(tmp)) {\n        parsed.add(tmp);\n        output[k] = ignore;\n        lazy.push({k, a: [input, parsed, tmp, $]});\n      }\n      else\n        output[k] = $.call(output, k, tmp);\n    }\n    else if (output[k] !== ignore)\n      output[k] = $.call(output, k, value);\n  }\n  for (let {length} = lazy, i = 0; i < length; i++) {\n    const {k, a} = lazy[i];\n    output[k] = $.call(output, k, revive.apply(null, a));\n  }\n  return output;\n};\n\nconst set = (known, input, value) => {\n  const index = Primitive(input.push(value) - 1);\n  known.set(value, index);\n  return index;\n};\n\nexport const parse = (text, reviver) => {\n  const input = $parse(text, Primitives).map(primitives);\n  const value = input[0];\n  const $ = reviver || noop;\n  const tmp = typeof value === object && value ?\n              revive(input, new Set, value, $) :\n              value;\n  return $.call({'': tmp}, '', tmp);\n};\n\nexport const stringify = (value, replacer, space) => {\n  const $ = replacer && typeof replacer === object ?\n            (k, v) => (k === '' || -1 < replacer.indexOf(k) ? v : void 0) :\n            (replacer || noop);\n  const known = new Map;\n  const input = [];\n  const output = [];\n  let i = +set(known, input, $.call({'': value}, '', value));\n  let firstRun = !i;\n  while (i < input.length) {\n    firstRun = true;\n    output[i] = $stringify(input[i++], replace, space);\n  }\n  return '[' + output.join(',') + ']';\n  function replace(key, value) {\n    if (firstRun) {\n      firstRun = !firstRun;\n      return value;\n    }\n    const after = $.call(this, key, value);\n    switch (typeof after) {\n      case object:\n        if (after === null) return after;\n      case primitive:\n        return known.get(after) || set(known, input, after);\n    }\n    return after;\n  }\n};\n\nexport const toJSON = any => $parse(stringify(any));\nexport const fromJSON = any => parse($stringify(any));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","import { B as makeMove, g as gameEvent, C as alea } from './turn-order-406c4349.js';\nimport { C as CreateGameReducer } from './reducer-efc3ec3e.js';\nimport 'setimmediate';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Base class that bots can extend.\r\n */\r\nclass Bot {\r\n    constructor({ enumerate, seed, }) {\r\n        this.enumerateFn = enumerate;\r\n        this.seed = seed;\r\n        this.iterationCounter = 0;\r\n        this._opts = {};\r\n    }\r\n    addOpt({ key, range, initial, }) {\r\n        this._opts[key] = {\r\n            range,\r\n            value: initial,\r\n        };\r\n    }\r\n    getOpt(key) {\r\n        return this._opts[key].value;\r\n    }\r\n    setOpt(key, value) {\r\n        if (key in this._opts) {\r\n            this._opts[key].value = value;\r\n        }\r\n    }\r\n    opts() {\r\n        return this._opts;\r\n    }\r\n    enumerate(G, ctx, playerID) {\r\n        const actions = this.enumerateFn(G, ctx, playerID);\r\n        return actions.map((a) => {\r\n            if ('payload' in a) {\r\n                return a;\r\n            }\r\n            if ('move' in a) {\r\n                return makeMove(a.move, a.args, playerID);\r\n            }\r\n            if ('event' in a) {\r\n                return gameEvent(a.event, a.args, playerID);\r\n            }\r\n        });\r\n    }\r\n    random(arg) {\r\n        let number;\r\n        if (this.seed !== undefined) {\r\n            const seed = this.prngstate ? '' : this.seed;\r\n            const rand = alea(seed, this.prngstate);\r\n            number = rand();\r\n            this.prngstate = rand.state();\r\n        }\r\n        else {\r\n            number = Math.random();\r\n        }\r\n        if (arg) {\r\n            if (Array.isArray(arg)) {\r\n                const id = Math.floor(number * arg.length);\r\n                return arg[id];\r\n            }\r\n            else {\r\n                return Math.floor(number * arg);\r\n            }\r\n        }\r\n        return number;\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * The number of iterations to run before yielding to\r\n * the JS event loop (in async mode).\r\n */\r\nconst CHUNK_SIZE = 25;\r\n/**\r\n * Bot that uses Monte-Carlo Tree Search to find promising moves.\r\n */\r\nclass MCTSBot extends Bot {\r\n    constructor({ enumerate, seed, objectives, game, iterations, playoutDepth, iterationCallback, }) {\r\n        super({ enumerate, seed });\r\n        if (objectives === undefined) {\r\n            objectives = () => ({});\r\n        }\r\n        this.objectives = objectives;\r\n        this.iterationCallback = iterationCallback || (() => { });\r\n        this.reducer = CreateGameReducer({ game });\r\n        this.iterations = iterations;\r\n        this.playoutDepth = playoutDepth;\r\n        this.addOpt({\r\n            key: 'async',\r\n            initial: false,\r\n        });\r\n        this.addOpt({\r\n            key: 'iterations',\r\n            initial: typeof iterations === 'number' ? iterations : 1000,\r\n            range: { min: 1, max: 2000 },\r\n        });\r\n        this.addOpt({\r\n            key: 'playoutDepth',\r\n            initial: typeof playoutDepth === 'number' ? playoutDepth : 50,\r\n            range: { min: 1, max: 100 },\r\n        });\r\n    }\r\n    createNode({ state, parentAction, parent, playerID, }) {\r\n        const { G, ctx } = state;\r\n        let actions = [];\r\n        let objectives = [];\r\n        if (playerID !== undefined) {\r\n            actions = this.enumerate(G, ctx, playerID);\r\n            objectives = this.objectives(G, ctx, playerID);\r\n        }\r\n        else if (ctx.activePlayers) {\r\n            for (const playerID in ctx.activePlayers) {\r\n                actions.push(...this.enumerate(G, ctx, playerID));\r\n                objectives.push(this.objectives(G, ctx, playerID));\r\n            }\r\n        }\r\n        else {\r\n            actions = this.enumerate(G, ctx, ctx.currentPlayer);\r\n            objectives = this.objectives(G, ctx, ctx.currentPlayer);\r\n        }\r\n        return {\r\n            state,\r\n            parent,\r\n            parentAction,\r\n            actions,\r\n            objectives,\r\n            children: [],\r\n            visits: 0,\r\n            value: 0,\r\n        };\r\n    }\r\n    select(node) {\r\n        // This node has unvisited children.\r\n        if (node.actions.length > 0) {\r\n            return node;\r\n        }\r\n        // This is a terminal node.\r\n        if (node.children.length === 0) {\r\n            return node;\r\n        }\r\n        let selectedChild = null;\r\n        let best = 0;\r\n        for (const child of node.children) {\r\n            const childVisits = child.visits + Number.EPSILON;\r\n            const uct = child.value / childVisits +\r\n                Math.sqrt((2 * Math.log(node.visits)) / childVisits);\r\n            if (selectedChild == null || uct > best) {\r\n                best = uct;\r\n                selectedChild = child;\r\n            }\r\n        }\r\n        return this.select(selectedChild);\r\n    }\r\n    expand(node) {\r\n        const actions = node.actions;\r\n        if (actions.length === 0 || node.state.ctx.gameover !== undefined) {\r\n            return node;\r\n        }\r\n        const id = this.random(actions.length);\r\n        const action = actions[id];\r\n        node.actions.splice(id, 1);\r\n        const childState = this.reducer(node.state, action);\r\n        const childNode = this.createNode({\r\n            state: childState,\r\n            parentAction: action,\r\n            parent: node,\r\n        });\r\n        node.children.push(childNode);\r\n        return childNode;\r\n    }\r\n    playout({ state }) {\r\n        let playoutDepth = this.getOpt('playoutDepth');\r\n        if (typeof this.playoutDepth === 'function') {\r\n            playoutDepth = this.playoutDepth(state.G, state.ctx);\r\n        }\r\n        for (let i = 0; i < playoutDepth && state.ctx.gameover === undefined; i++) {\r\n            const { G, ctx } = state;\r\n            let playerID = ctx.currentPlayer;\r\n            if (ctx.activePlayers) {\r\n                playerID = Object.keys(ctx.activePlayers)[0];\r\n            }\r\n            const moves = this.enumerate(G, ctx, playerID);\r\n            // Check if any objectives are met.\r\n            const objectives = this.objectives(G, ctx, playerID);\r\n            const score = Object.keys(objectives).reduce((score, key) => {\r\n                const objective = objectives[key];\r\n                if (objective.checker(G, ctx)) {\r\n                    return score + objective.weight;\r\n                }\r\n                return score;\r\n            }, 0);\r\n            // If so, stop and return the score.\r\n            if (score > 0) {\r\n                return { score };\r\n            }\r\n            if (!moves || moves.length === 0) {\r\n                return undefined;\r\n            }\r\n            const id = this.random(moves.length);\r\n            const childState = this.reducer(state, moves[id]);\r\n            state = childState;\r\n        }\r\n        return state.ctx.gameover;\r\n    }\r\n    backpropagate(node, result = {}) {\r\n        node.visits++;\r\n        if (result.score !== undefined) {\r\n            node.value += result.score;\r\n        }\r\n        if (result.draw === true) {\r\n            node.value += 0.5;\r\n        }\r\n        if (node.parentAction &&\r\n            result.winner === node.parentAction.payload.playerID) {\r\n            node.value++;\r\n        }\r\n        if (node.parent) {\r\n            this.backpropagate(node.parent, result);\r\n        }\r\n    }\r\n    play(state, playerID) {\r\n        const root = this.createNode({ state, playerID });\r\n        let numIterations = this.getOpt('iterations');\r\n        if (typeof this.iterations === 'function') {\r\n            numIterations = this.iterations(state.G, state.ctx);\r\n        }\r\n        const getResult = () => {\r\n            let selectedChild = null;\r\n            for (const child of root.children) {\r\n                if (selectedChild == null || child.visits > selectedChild.visits) {\r\n                    selectedChild = child;\r\n                }\r\n            }\r\n            const action = selectedChild && selectedChild.parentAction;\r\n            const metadata = root;\r\n            return { action, metadata };\r\n        };\r\n        return new Promise((resolve) => {\r\n            const iteration = () => {\r\n                for (let i = 0; i < CHUNK_SIZE && this.iterationCounter < numIterations; i++) {\r\n                    const leaf = this.select(root);\r\n                    const child = this.expand(leaf);\r\n                    const result = this.playout(child);\r\n                    this.backpropagate(child, result);\r\n                    this.iterationCounter++;\r\n                }\r\n                this.iterationCallback({\r\n                    iterationCounter: this.iterationCounter,\r\n                    numIterations,\r\n                    metadata: root,\r\n                });\r\n            };\r\n            this.iterationCounter = 0;\r\n            if (this.getOpt('async')) {\r\n                const asyncIteration = () => {\r\n                    if (this.iterationCounter < numIterations) {\r\n                        iteration();\r\n                        setImmediate(asyncIteration);\r\n                    }\r\n                    else {\r\n                        resolve(getResult());\r\n                    }\r\n                };\r\n                asyncIteration();\r\n            }\r\n            else {\r\n                while (this.iterationCounter < numIterations) {\r\n                    iteration();\r\n                }\r\n                resolve(getResult());\r\n            }\r\n        });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Bot that picks a move at random.\r\n */\r\nclass RandomBot extends Bot {\r\n    play({ G, ctx }, playerID) {\r\n        const moves = this.enumerate(G, ctx, playerID);\r\n        return Promise.resolve({ action: this.random(moves) });\r\n    }\r\n}\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Make a single move on the client with a bot.\r\n *\r\n * @param {...object} client - The game client.\r\n * @param {...object} bot - The bot.\r\n */\r\nasync function Step(client, bot) {\r\n    const state = client.store.getState();\r\n    let playerID = state.ctx.currentPlayer;\r\n    if (state.ctx.activePlayers) {\r\n        playerID = Object.keys(state.ctx.activePlayers)[0];\r\n    }\r\n    const { action, metadata } = await bot.play(state, playerID);\r\n    if (action) {\r\n        const a = {\r\n            ...action,\r\n            payload: {\r\n                ...action.payload,\r\n                metadata,\r\n            },\r\n        };\r\n        client.store.dispatch(a);\r\n        return a;\r\n    }\r\n}\r\n/**\r\n * Simulates the game till the end or a max depth.\r\n *\r\n * @param {...object} game - The game object.\r\n * @param {...object} bots - An array of bots.\r\n * @param {...object} state - The game state to start from.\r\n */\r\nasync function Simulate({ game, bots, state, depth, }) {\r\n    if (depth === undefined)\r\n        depth = 10000;\r\n    const reducer = CreateGameReducer({ game });\r\n    let metadata = null;\r\n    let iter = 0;\r\n    while (state.ctx.gameover === undefined && iter < depth) {\r\n        let playerID = state.ctx.currentPlayer;\r\n        if (state.ctx.activePlayers) {\r\n            playerID = Object.keys(state.ctx.activePlayers)[0];\r\n        }\r\n        const bot = bots instanceof Bot ? bots : bots[playerID];\r\n        const t = await bot.play(state, playerID);\r\n        if (!t.action) {\r\n            break;\r\n        }\r\n        metadata = t.metadata;\r\n        state = reducer(state, t.action);\r\n        iter++;\r\n    }\r\n    return { state, metadata };\r\n}\n\nexport { Bot as B, MCTSBot as M, RandomBot as R, Step as S, Simulate as a };\n","import { e as error, s as sync } from './turn-order-406c4349.js';\nimport { C as CreateGameReducer } from './reducer-efc3ec3e.js';\nimport { stringify, parse } from 'flatted';\nimport { M as MCTSBot, R as RandomBot, S as Step } from './ai-7a5eea10.js';\n\nfunction noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root.host) {\n        return root;\n    }\n    return document;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nconst subscriber_queue = [];\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\n\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\n/* node_modules/svelte-icons/components/IconBase.svelte generated by Svelte v3.41.0 */\n\nfunction add_css(target) {\n\tappend_styles(target, \"svelte-c8tyih\", \"svg.svelte-c8tyih{stroke:currentColor;fill:currentColor;stroke-width:0;width:100%;height:auto;max-height:100%}\");\n}\n\n// (18:2) {#if title}\nfunction create_if_block(ctx) {\n\tlet title_1;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\ttitle_1 = svg_element(\"title\");\n\t\t\tt = text(/*title*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, title_1, anchor);\n\t\t\tappend(title_1, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*title*/ 1) set_data(t, /*title*/ ctx[0]);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(title_1);\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet svg;\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*title*/ ctx[0] && create_if_block(ctx);\n\tconst default_slot_template = /*#slots*/ ctx[3].default;\n\tconst default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[2], null);\n\n\treturn {\n\t\tc() {\n\t\t\tsvg = svg_element(\"svg\");\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t\tif (default_slot) default_slot.c();\n\t\t\tattr(svg, \"xmlns\", \"http://www.w3.org/2000/svg\");\n\t\t\tattr(svg, \"viewBox\", /*viewBox*/ ctx[1]);\n\t\t\tattr(svg, \"class\", \"svelte-c8tyih\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, svg, anchor);\n\t\t\tif (if_block) if_block.m(svg, null);\n\t\t\tappend(svg, if_block_anchor);\n\n\t\t\tif (default_slot) {\n\t\t\t\tdefault_slot.m(svg, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*title*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(svg, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (default_slot) {\n\t\t\t\tif (default_slot.p && (!current || dirty & /*$$scope*/ 4)) {\n\t\t\t\t\tupdate_slot_base(\n\t\t\t\t\t\tdefault_slot,\n\t\t\t\t\t\tdefault_slot_template,\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\t/*$$scope*/ ctx[2],\n\t\t\t\t\t\t!current\n\t\t\t\t\t\t? get_all_dirty_from_scope(/*$$scope*/ ctx[2])\n\t\t\t\t\t\t: get_slot_changes(default_slot_template, /*$$scope*/ ctx[2], dirty, null),\n\t\t\t\t\t\tnull\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*viewBox*/ 2) {\n\t\t\t\tattr(svg, \"viewBox\", /*viewBox*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(default_slot, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(default_slot, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(svg);\n\t\t\tif (if_block) if_block.d();\n\t\t\tif (default_slot) default_slot.d(detaching);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { $$slots: slots = {}, $$scope } = $$props;\n\tlet { title = null } = $$props;\n\tlet { viewBox } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('title' in $$props) $$invalidate(0, title = $$props.title);\n\t\tif ('viewBox' in $$props) $$invalidate(1, viewBox = $$props.viewBox);\n\t\tif ('$$scope' in $$props) $$invalidate(2, $$scope = $$props.$$scope);\n\t};\n\n\treturn [title, viewBox, $$scope, slots];\n}\n\nclass IconBase extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance, create_fragment, safe_not_equal, { title: 0, viewBox: 1 }, add_css);\n\t}\n}\n\n/* node_modules/svelte-icons/fa/FaChevronRight.svelte generated by Svelte v3.41.0 */\n\nfunction create_default_slot(ctx) {\n\tlet path;\n\n\treturn {\n\t\tc() {\n\t\t\tpath = svg_element(\"path\");\n\t\t\tattr(path, \"d\", \"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, path, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(path);\n\t\t}\n\t};\n}\n\nfunction create_fragment$1(ctx) {\n\tlet iconbase;\n\tlet current;\n\tconst iconbase_spread_levels = [{ viewBox: \"0 0 320 512\" }, /*$$props*/ ctx[0]];\n\n\tlet iconbase_props = {\n\t\t$$slots: { default: [create_default_slot] },\n\t\t$$scope: { ctx }\n\t};\n\n\tfor (let i = 0; i < iconbase_spread_levels.length; i += 1) {\n\t\ticonbase_props = assign(iconbase_props, iconbase_spread_levels[i]);\n\t}\n\n\ticonbase = new IconBase({ props: iconbase_props });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(iconbase.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(iconbase, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst iconbase_changes = (dirty & /*$$props*/ 1)\n\t\t\t? get_spread_update(iconbase_spread_levels, [iconbase_spread_levels[0], get_spread_object(/*$$props*/ ctx[0])])\n\t\t\t: {};\n\n\t\t\tif (dirty & /*$$scope*/ 2) {\n\t\t\t\ticonbase_changes.$$scope = { dirty, ctx };\n\t\t\t}\n\n\t\t\ticonbase.$set(iconbase_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(iconbase.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(iconbase.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(iconbase, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$1($$self, $$props, $$invalidate) {\n\t$$self.$$set = $$new_props => {\n\t\t$$invalidate(0, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));\n\t};\n\n\t$$props = exclude_internal_props($$props);\n\treturn [$$props];\n}\n\nclass FaChevronRight extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$1, create_fragment$1, safe_not_equal, {});\n\t}\n}\n\n/* src/client/debug/Menu.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$1(target) {\n\tappend_styles(target, \"svelte-1xg9v5h\", \".menu.svelte-1xg9v5h{display:flex;margin-top:43px;flex-direction:row-reverse;border:1px solid #ccc;border-radius:5px 5px 0 0;height:25px;line-height:25px;margin-right:-500px;transform-origin:bottom right;transform:rotate(-90deg) translate(0, -500px)}.menu-item.svelte-1xg9v5h{line-height:25px;cursor:pointer;border:0;background:#fefefe;color:#555;padding-left:15px;padding-right:15px;text-align:center}.menu-item.svelte-1xg9v5h:first-child{border-radius:0 5px 0 0}.menu-item.svelte-1xg9v5h:last-child{border-radius:5px 0 0 0}.menu-item.active.svelte-1xg9v5h{cursor:default;font-weight:bold;background:#ddd;color:#555}.menu-item.svelte-1xg9v5h:hover,.menu-item.svelte-1xg9v5h:focus{background:#eee;color:#555}\");\n}\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[4] = list[i][0];\n\tchild_ctx[5] = list[i][1].label;\n\treturn child_ctx;\n}\n\n// (57:2) {#each Object.entries(panes) as [key, {label}\nfunction create_each_block(ctx) {\n\tlet button;\n\tlet t0_value = /*label*/ ctx[5] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[3](/*key*/ ctx[4]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(button, \"class\", \"menu-item svelte-1xg9v5h\");\n\t\t\ttoggle_class(button, \"active\", /*pane*/ ctx[0] == /*key*/ ctx[4]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, t0);\n\t\t\tappend(button, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*panes*/ 2 && t0_value !== (t0_value = /*label*/ ctx[5] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*pane, Object, panes*/ 3) {\n\t\t\t\ttoggle_class(button, \"active\", /*pane*/ ctx[0] == /*key*/ ctx[4]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$2(ctx) {\n\tlet nav;\n\tlet each_value = Object.entries(/*panes*/ ctx[1]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tnav = element(\"nav\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(nav, \"class\", \"menu svelte-1xg9v5h\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, nav, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(nav, null);\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*pane, Object, panes, dispatch*/ 7) {\n\t\t\t\teach_value = Object.entries(/*panes*/ ctx[1]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(nav, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(nav);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$2($$self, $$props, $$invalidate) {\n\tlet { pane } = $$props;\n\tlet { panes } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tconst click_handler = key => dispatch('change', key);\n\n\t$$self.$$set = $$props => {\n\t\tif ('pane' in $$props) $$invalidate(0, pane = $$props.pane);\n\t\tif ('panes' in $$props) $$invalidate(1, panes = $$props.panes);\n\t};\n\n\treturn [pane, panes, dispatch, click_handler];\n}\n\nclass Menu extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$2, create_fragment$2, safe_not_equal, { pane: 0, panes: 1 }, add_css$1);\n\t}\n}\n\nvar contextKey = {};\n\n/* node_modules/svelte-json-tree-auto/src/JSONArrow.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$2(target) {\n\tappend_styles(target, \"svelte-1vyml86\", \".container.svelte-1vyml86{display:inline-block;cursor:pointer;transform:translate(calc(0px - var(--li-identation)), -50%);position:absolute;top:50%;padding-right:100%}.arrow.svelte-1vyml86{transform-origin:25% 50%;position:relative;line-height:1.1em;font-size:0.75em;margin-left:0;transition:150ms;color:var(--arrow-sign);user-select:none;font-family:'Courier New', Courier, monospace}.expanded.svelte-1vyml86{transform:rotateZ(90deg) translateX(-3px)}\");\n}\n\nfunction create_fragment$3(ctx) {\n\tlet div1;\n\tlet div0;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv0.textContent = `${'\\u25B6'}`;\n\t\t\tattr(div0, \"class\", \"arrow svelte-1vyml86\");\n\t\t\ttoggle_class(div0, \"expanded\", /*expanded*/ ctx[0]);\n\t\t\tattr(div1, \"class\", \"container svelte-1vyml86\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(div1, \"click\", /*click_handler*/ ctx[1]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(div0, \"expanded\", /*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$3($$self, $$props, $$invalidate) {\n\tlet { expanded } = $$props;\n\n\tfunction click_handler(event) {\n\t\tbubble.call(this, $$self, event);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('expanded' in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t};\n\n\treturn [expanded, click_handler];\n}\n\nclass JSONArrow extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$3, create_fragment$3, safe_not_equal, { expanded: 0 }, add_css$2);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONKey.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$3(target) {\n\tappend_styles(target, \"svelte-1vlbacg\", \"label.svelte-1vlbacg{display:inline-block;color:var(--label-color);padding:0}.spaced.svelte-1vlbacg{padding-right:var(--li-colon-space)}\");\n}\n\n// (16:0) {#if showKey && key}\nfunction create_if_block$1(ctx) {\n\tlet label;\n\tlet span;\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tlabel = element(\"label\");\n\t\t\tspan = element(\"span\");\n\t\t\tt0 = text(/*key*/ ctx[0]);\n\t\t\tt1 = text(/*colon*/ ctx[2]);\n\t\t\tattr(label, \"class\", \"svelte-1vlbacg\");\n\t\t\ttoggle_class(label, \"spaced\", /*isParentExpanded*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, label, anchor);\n\t\t\tappend(label, span);\n\t\t\tappend(span, t0);\n\t\t\tappend(span, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(label, \"click\", /*click_handler*/ ctx[5]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*key*/ 1) set_data(t0, /*key*/ ctx[0]);\n\t\t\tif (dirty & /*colon*/ 4) set_data(t1, /*colon*/ ctx[2]);\n\n\t\t\tif (dirty & /*isParentExpanded*/ 2) {\n\t\t\t\ttoggle_class(label, \"spaced\", /*isParentExpanded*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(label);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$4(ctx) {\n\tlet if_block_anchor;\n\tlet if_block = /*showKey*/ ctx[3] && /*key*/ ctx[0] && create_if_block$1(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*showKey*/ ctx[3] && /*key*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$1(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nfunction instance$4($$self, $$props, $$invalidate) {\n\tlet showKey;\n\tlet { key, isParentExpanded, isParentArray = false, colon = ':' } = $$props;\n\n\tfunction click_handler(event) {\n\t\tbubble.call(this, $$self, event);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif ('colon' in $$props) $$invalidate(2, colon = $$props.colon);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*isParentExpanded, isParentArray, key*/ 19) {\n\t\t\t $$invalidate(3, showKey = isParentExpanded || !isParentArray || key != +key);\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, colon, showKey, isParentArray, click_handler];\n}\n\nclass JSONKey extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$4,\n\t\t\tcreate_fragment$4,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 0,\n\t\t\t\tisParentExpanded: 1,\n\t\t\t\tisParentArray: 4,\n\t\t\t\tcolon: 2\n\t\t\t},\n\t\t\tadd_css$3\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONNested.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$4(target) {\n\tappend_styles(target, \"svelte-rwxv37\", \"label.svelte-rwxv37{display:inline-block}.indent.svelte-rwxv37{padding-left:var(--li-identation)}.collapse.svelte-rwxv37{--li-display:inline;display:inline;font-style:italic}.comma.svelte-rwxv37{margin-left:-0.5em;margin-right:0.5em}label.svelte-rwxv37{position:relative}\");\n}\n\nfunction get_each_context$1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[12] = list[i];\n\tchild_ctx[20] = i;\n\treturn child_ctx;\n}\n\n// (57:4) {#if expandable && isParentExpanded}\nfunction create_if_block_3(ctx) {\n\tlet jsonarrow;\n\tlet current;\n\tjsonarrow = new JSONArrow({ props: { expanded: /*expanded*/ ctx[0] } });\n\tjsonarrow.$on(\"click\", /*toggleExpand*/ ctx[15]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonarrow.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonarrow, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonarrow_changes = {};\n\t\t\tif (dirty & /*expanded*/ 1) jsonarrow_changes.expanded = /*expanded*/ ctx[0];\n\t\t\tjsonarrow.$set(jsonarrow_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonarrow, detaching);\n\t\t}\n\t};\n}\n\n// (75:4) {:else}\nfunction create_else_block(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \"\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\n// (63:4) {#if isParentExpanded}\nfunction create_if_block$2(ctx) {\n\tlet ul;\n\tlet t;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value = /*slicedKeys*/ ctx[13];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block = /*slicedKeys*/ ctx[13].length < /*previewKeys*/ ctx[7].length && create_if_block_1();\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(ul, \"class\", \"svelte-rwxv37\");\n\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(ul, null);\n\t\t\t}\n\n\t\t\tappend(ul, t);\n\t\t\tif (if_block) if_block.m(ul, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(ul, \"click\", /*expand*/ ctx[16]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*expanded, previewKeys, getKey, slicedKeys, isArray, getValue, getPreviewValue*/ 10129) {\n\t\t\t\teach_value = /*slicedKeys*/ ctx[13];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$1(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$1(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(ul, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*slicedKeys*/ ctx[13].length < /*previewKeys*/ ctx[7].length) {\n\t\t\t\tif (if_block) ; else {\n\t\t\t\t\tif_block = create_if_block_1();\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(ul, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (if_block) if_block.d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (67:10) {#if !expanded && index < previewKeys.length - 1}\nfunction create_if_block_2(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \",\";\n\t\t\tattr(span, \"class\", \"comma svelte-rwxv37\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\n// (65:8) {#each slicedKeys as key, index}\nfunction create_each_block$1(ctx) {\n\tlet jsonnode;\n\tlet t;\n\tlet if_block_anchor;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: /*getKey*/ ctx[8](/*key*/ ctx[12]),\n\t\t\t\tisParentExpanded: /*expanded*/ ctx[0],\n\t\t\t\tisParentArray: /*isArray*/ ctx[4],\n\t\t\t\tvalue: /*expanded*/ ctx[0]\n\t\t\t\t? /*getValue*/ ctx[9](/*key*/ ctx[12])\n\t\t\t\t: /*getPreviewValue*/ ctx[10](/*key*/ ctx[12])\n\t\t\t}\n\t\t});\n\n\tlet if_block = !/*expanded*/ ctx[0] && /*index*/ ctx[20] < /*previewKeys*/ ctx[7].length - 1 && create_if_block_2();\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnode, target, anchor);\n\t\t\tinsert(target, t, anchor);\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*getKey, slicedKeys*/ 8448) jsonnode_changes.key = /*getKey*/ ctx[8](/*key*/ ctx[12]);\n\t\t\tif (dirty & /*expanded*/ 1) jsonnode_changes.isParentExpanded = /*expanded*/ ctx[0];\n\t\t\tif (dirty & /*isArray*/ 16) jsonnode_changes.isParentArray = /*isArray*/ ctx[4];\n\n\t\t\tif (dirty & /*expanded, getValue, slicedKeys, getPreviewValue*/ 9729) jsonnode_changes.value = /*expanded*/ ctx[0]\n\t\t\t? /*getValue*/ ctx[9](/*key*/ ctx[12])\n\t\t\t: /*getPreviewValue*/ ctx[10](/*key*/ ctx[12]);\n\n\t\t\tjsonnode.$set(jsonnode_changes);\n\n\t\t\tif (!/*expanded*/ ctx[0] && /*index*/ ctx[20] < /*previewKeys*/ ctx[7].length - 1) {\n\t\t\t\tif (if_block) ; else {\n\t\t\t\t\tif_block = create_if_block_2();\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnode, detaching);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\n// (71:8) {#if slicedKeys.length < previewKeys.length }\nfunction create_if_block_1(ctx) {\n\tlet span;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tspan.textContent = \"\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\nfunction create_fragment$5(ctx) {\n\tlet li;\n\tlet label_1;\n\tlet t0;\n\tlet jsonkey;\n\tlet t1;\n\tlet span1;\n\tlet span0;\n\tlet t2;\n\tlet t3;\n\tlet t4;\n\tlet current_block_type_index;\n\tlet if_block1;\n\tlet t5;\n\tlet span2;\n\tlet t6;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block0 = /*expandable*/ ctx[11] && /*isParentExpanded*/ ctx[2] && create_if_block_3(ctx);\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[12],\n\t\t\t\tcolon: /*context*/ ctx[14].colon,\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tjsonkey.$on(\"click\", /*toggleExpand*/ ctx[15]);\n\tconst if_block_creators = [create_if_block$2, create_else_block];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*isParentExpanded*/ ctx[2]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tlabel_1 = element(\"label\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt0 = space();\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan1 = element(\"span\");\n\t\t\tspan0 = element(\"span\");\n\t\t\tt2 = text(/*label*/ ctx[1]);\n\t\t\tt3 = text(/*bracketOpen*/ ctx[5]);\n\t\t\tt4 = space();\n\t\t\tif_block1.c();\n\t\t\tt5 = space();\n\t\t\tspan2 = element(\"span\");\n\t\t\tt6 = text(/*bracketClose*/ ctx[6]);\n\t\t\tattr(label_1, \"class\", \"svelte-rwxv37\");\n\t\t\tattr(li, \"class\", \"svelte-rwxv37\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[2]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tappend(li, label_1);\n\t\t\tif (if_block0) if_block0.m(label_1, null);\n\t\t\tappend(label_1, t0);\n\t\t\tmount_component(jsonkey, label_1, null);\n\t\t\tappend(label_1, t1);\n\t\t\tappend(label_1, span1);\n\t\t\tappend(span1, span0);\n\t\t\tappend(span0, t2);\n\t\t\tappend(span1, t3);\n\t\t\tappend(li, t4);\n\t\t\tif_blocks[current_block_type_index].m(li, null);\n\t\t\tappend(li, t5);\n\t\t\tappend(li, span2);\n\t\t\tappend(span2, t6);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(span1, \"click\", /*toggleExpand*/ ctx[15]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*expandable*/ ctx[11] && /*isParentExpanded*/ ctx[2]) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*expandable, isParentExpanded*/ 2052) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_3(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(label_1, t0);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 4096) jsonkey_changes.key = /*key*/ ctx[12];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\t\t\tif (!current || dirty & /*label*/ 2) set_data(t2, /*label*/ ctx[1]);\n\t\t\tif (!current || dirty & /*bracketOpen*/ 32) set_data(t3, /*bracketOpen*/ ctx[5]);\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block1 = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\tif_block1.m(li, t5);\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*bracketClose*/ 64) set_data(t6, /*bracketClose*/ ctx[6]);\n\n\t\t\tif (dirty & /*isParentExpanded*/ 4) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tdestroy_component(jsonkey);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$5($$self, $$props, $$invalidate) {\n\tlet slicedKeys;\n\tlet { key, keys, colon = ':', label = '', isParentExpanded, isParentArray, isArray = false, bracketOpen, bracketClose } = $$props;\n\tlet { previewKeys = keys } = $$props;\n\tlet { getKey = key => key } = $$props;\n\tlet { getValue = key => key } = $$props;\n\tlet { getPreviewValue = getValue } = $$props;\n\tlet { expanded = false, expandable = true } = $$props;\n\tconst context = getContext(contextKey);\n\tsetContext(contextKey, { ...context, colon });\n\n\tfunction toggleExpand() {\n\t\t$$invalidate(0, expanded = !expanded);\n\t}\n\n\tfunction expand() {\n\t\t$$invalidate(0, expanded = true);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(12, key = $$props.key);\n\t\tif ('keys' in $$props) $$invalidate(17, keys = $$props.keys);\n\t\tif ('colon' in $$props) $$invalidate(18, colon = $$props.colon);\n\t\tif ('label' in $$props) $$invalidate(1, label = $$props.label);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif ('isArray' in $$props) $$invalidate(4, isArray = $$props.isArray);\n\t\tif ('bracketOpen' in $$props) $$invalidate(5, bracketOpen = $$props.bracketOpen);\n\t\tif ('bracketClose' in $$props) $$invalidate(6, bracketClose = $$props.bracketClose);\n\t\tif ('previewKeys' in $$props) $$invalidate(7, previewKeys = $$props.previewKeys);\n\t\tif ('getKey' in $$props) $$invalidate(8, getKey = $$props.getKey);\n\t\tif ('getValue' in $$props) $$invalidate(9, getValue = $$props.getValue);\n\t\tif ('getPreviewValue' in $$props) $$invalidate(10, getPreviewValue = $$props.getPreviewValue);\n\t\tif ('expanded' in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t\tif ('expandable' in $$props) $$invalidate(11, expandable = $$props.expandable);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*isParentExpanded*/ 4) {\n\t\t\t if (!isParentExpanded) {\n\t\t\t\t$$invalidate(0, expanded = false);\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*expanded, keys, previewKeys*/ 131201) {\n\t\t\t $$invalidate(13, slicedKeys = expanded ? keys : previewKeys.slice(0, 5));\n\t\t}\n\t};\n\n\treturn [\n\t\texpanded,\n\t\tlabel,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tisArray,\n\t\tbracketOpen,\n\t\tbracketClose,\n\t\tpreviewKeys,\n\t\tgetKey,\n\t\tgetValue,\n\t\tgetPreviewValue,\n\t\texpandable,\n\t\tkey,\n\t\tslicedKeys,\n\t\tcontext,\n\t\ttoggleExpand,\n\t\texpand,\n\t\tkeys,\n\t\tcolon\n\t];\n}\n\nclass JSONNested extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$5,\n\t\t\tcreate_fragment$5,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 12,\n\t\t\t\tkeys: 17,\n\t\t\t\tcolon: 18,\n\t\t\t\tlabel: 1,\n\t\t\t\tisParentExpanded: 2,\n\t\t\t\tisParentArray: 3,\n\t\t\t\tisArray: 4,\n\t\t\t\tbracketOpen: 5,\n\t\t\t\tbracketClose: 6,\n\t\t\t\tpreviewKeys: 7,\n\t\t\t\tgetKey: 8,\n\t\t\t\tgetValue: 9,\n\t\t\t\tgetPreviewValue: 10,\n\t\t\t\texpanded: 0,\n\t\t\t\texpandable: 11\n\t\t\t},\n\t\t\tadd_css$4\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONObjectNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$6(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tpreviewKeys: /*keys*/ ctx[5],\n\t\t\t\tgetValue: /*getValue*/ ctx[6],\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \" \"),\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.keys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.previewKeys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*nodeType*/ 8) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \" \");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$6($$self, $$props, $$invalidate) {\n\tlet keys;\n\tlet { key, value, isParentExpanded, isParentArray, nodeType } = $$props;\n\tlet { expanded = true } = $$props;\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(7, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t\tif ('expanded' in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 128) {\n\t\t\t $$invalidate(5, keys = Object.getOwnPropertyNames(value));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tnodeType,\n\t\texpanded,\n\t\tkeys,\n\t\tgetValue,\n\t\tvalue\n\t];\n}\n\nclass JSONObjectNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$6, create_fragment$6, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 7,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONArrayNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$7(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tisArray: true,\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tpreviewKeys: /*previewKeys*/ ctx[6],\n\t\t\t\tgetValue: /*getValue*/ ctx[7],\n\t\t\t\tlabel: \"Array(\" + /*value*/ ctx[1].length + \")\",\n\t\t\t\tbracketOpen: \"[\",\n\t\t\t\tbracketClose: \"]\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tif (dirty & /*keys*/ 32) jsonnested_changes.keys = /*keys*/ ctx[5];\n\t\t\tif (dirty & /*previewKeys*/ 64) jsonnested_changes.previewKeys = /*previewKeys*/ ctx[6];\n\t\t\tif (dirty & /*value*/ 2) jsonnested_changes.label = \"Array(\" + /*value*/ ctx[1].length + \")\";\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$7($$self, $$props, $$invalidate) {\n\tlet keys;\n\tlet previewKeys;\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\tlet { expanded = JSON.stringify(value).length < 1024 } = $$props;\n\tconst filteredKey = new Set(['length']);\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif ('expanded' in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 2) {\n\t\t\t $$invalidate(5, keys = Object.getOwnPropertyNames(value));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*keys*/ 32) {\n\t\t\t $$invalidate(6, previewKeys = keys.filter(key => !filteredKey.has(key)));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\texpanded,\n\t\tkeys,\n\t\tpreviewKeys,\n\t\tgetValue\n\t];\n}\n\nclass JSONArrayNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$7, create_fragment$7, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONIterableArrayNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$8(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[4],\n\t\t\t\tgetKey,\n\t\t\t\tgetValue,\n\t\t\t\tisArray: true,\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\"),\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 16) jsonnested_changes.keys = /*keys*/ ctx[4];\n\t\t\tif (dirty & /*nodeType, keys*/ 24) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction getKey(key) {\n\treturn String(key[0]);\n}\n\nfunction getValue(key) {\n\treturn key[1];\n}\n\nfunction instance$8($$self, $$props, $$invalidate) {\n\tlet { key, value, isParentExpanded, isParentArray, nodeType } = $$props;\n\tlet keys = [];\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(5, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 32) {\n\t\t\t {\n\t\t\t\tlet result = [];\n\t\t\t\tlet i = 0;\n\n\t\t\t\tfor (const entry of value) {\n\t\t\t\t\tresult.push([i++, entry]);\n\t\t\t\t}\n\n\t\t\t\t$$invalidate(4, keys = result);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, isParentArray, nodeType, keys, value];\n}\n\nclass JSONIterableArrayNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$8, create_fragment$8, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 5,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3\n\t\t});\n\t}\n}\n\nclass MapEntry {\r\n  constructor(key, value) {\r\n    this.key = key;\r\n    this.value = value;\r\n  }\r\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONIterableMapNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$9(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[1],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[2],\n\t\t\t\tkeys: /*keys*/ ctx[4],\n\t\t\t\tgetKey: getKey$1,\n\t\t\t\tgetValue: getValue$1,\n\t\t\t\tlabel: \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\"),\n\t\t\t\tcolon: \"\",\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnested_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 2) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[1];\n\t\t\tif (dirty & /*isParentArray*/ 4) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[2];\n\t\t\tif (dirty & /*keys*/ 16) jsonnested_changes.keys = /*keys*/ ctx[4];\n\t\t\tif (dirty & /*nodeType, keys*/ 24) jsonnested_changes.label = \"\" + (/*nodeType*/ ctx[3] + \"(\" + /*keys*/ ctx[4].length + \")\");\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction getKey$1(entry) {\n\treturn entry[0];\n}\n\nfunction getValue$1(entry) {\n\treturn entry[1];\n}\n\nfunction instance$9($$self, $$props, $$invalidate) {\n\tlet { key, value, isParentExpanded, isParentArray, nodeType } = $$props;\n\tlet keys = [];\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(5, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(1, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(2, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(3, nodeType = $$props.nodeType);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 32) {\n\t\t\t {\n\t\t\t\tlet result = [];\n\t\t\t\tlet i = 0;\n\n\t\t\t\tfor (const entry of value) {\n\t\t\t\t\tresult.push([i++, new MapEntry(entry[0], entry[1])]);\n\t\t\t\t}\n\n\t\t\t\t$$invalidate(4, keys = result);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [key, isParentExpanded, isParentArray, nodeType, keys, value];\n}\n\nclass JSONIterableMapNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$9, create_fragment$9, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 5,\n\t\t\tisParentExpanded: 1,\n\t\t\tisParentArray: 2,\n\t\t\tnodeType: 3\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONMapEntryNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$a(ctx) {\n\tlet jsonnested;\n\tlet current;\n\n\tjsonnested = new JSONNested({\n\t\t\tprops: {\n\t\t\t\texpanded: /*expanded*/ ctx[4],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tkey: /*isParentExpanded*/ ctx[2]\n\t\t\t\t? String(/*key*/ ctx[0])\n\t\t\t\t: /*value*/ ctx[1].key,\n\t\t\t\tkeys: /*keys*/ ctx[5],\n\t\t\t\tgetValue: /*getValue*/ ctx[6],\n\t\t\t\tlabel: /*isParentExpanded*/ ctx[2] ? 'Entry ' : '=> ',\n\t\t\t\tbracketOpen: '{',\n\t\t\t\tbracketClose: '}'\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnested.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnested, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnested_changes = {};\n\t\t\tif (dirty & /*expanded*/ 16) jsonnested_changes.expanded = /*expanded*/ ctx[4];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) jsonnested_changes.isParentArray = /*isParentArray*/ ctx[3];\n\n\t\t\tif (dirty & /*isParentExpanded, key, value*/ 7) jsonnested_changes.key = /*isParentExpanded*/ ctx[2]\n\t\t\t? String(/*key*/ ctx[0])\n\t\t\t: /*value*/ ctx[1].key;\n\n\t\t\tif (dirty & /*isParentExpanded*/ 4) jsonnested_changes.label = /*isParentExpanded*/ ctx[2] ? 'Entry ' : '=> ';\n\t\t\tjsonnested.$set(jsonnested_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnested.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnested.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnested, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$a($$self, $$props, $$invalidate) {\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\tlet { expanded = false } = $$props;\n\tconst keys = ['key', 'value'];\n\n\tfunction getValue(key) {\n\t\treturn value[key];\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t\tif ('expanded' in $$props) $$invalidate(4, expanded = $$props.expanded);\n\t};\n\n\treturn [key, value, isParentExpanded, isParentArray, expanded, keys, getValue];\n}\n\nclass JSONMapEntryNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$a, create_fragment$a, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3,\n\t\t\texpanded: 4\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONValueNode.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$5(target) {\n\tappend_styles(target, \"svelte-3bjyvl\", \"li.svelte-3bjyvl{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-3bjyvl{padding-left:var(--li-identation)}.String.svelte-3bjyvl{color:var(--string-color)}.Date.svelte-3bjyvl{color:var(--date-color)}.Number.svelte-3bjyvl{color:var(--number-color)}.Boolean.svelte-3bjyvl{color:var(--boolean-color)}.Null.svelte-3bjyvl{color:var(--null-color)}.Undefined.svelte-3bjyvl{color:var(--undefined-color)}.Function.svelte-3bjyvl{color:var(--function-color);font-style:italic}.Symbol.svelte-3bjyvl{color:var(--symbol-color)}\");\n}\n\nfunction create_fragment$b(ctx) {\n\tlet li;\n\tlet jsonkey;\n\tlet t0;\n\tlet span;\n\n\tlet t1_value = (/*valueGetter*/ ctx[2]\n\t? /*valueGetter*/ ctx[2](/*value*/ ctx[1])\n\t: /*value*/ ctx[1]) + \"\";\n\n\tlet t1;\n\tlet span_class_value;\n\tlet current;\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tcolon: /*colon*/ ctx[6],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tattr(span, \"class\", span_class_value = \"\" + (null_to_empty(/*nodeType*/ ctx[5]) + \" svelte-3bjyvl\"));\n\t\t\tattr(li, \"class\", \"svelte-3bjyvl\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t0);\n\t\t\tappend(li, span);\n\t\t\tappend(span, t1);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonkey_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tif (dirty & /*isParentArray*/ 16) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[4];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\n\t\t\tif ((!current || dirty & /*valueGetter, value*/ 6) && t1_value !== (t1_value = (/*valueGetter*/ ctx[2]\n\t\t\t? /*valueGetter*/ ctx[2](/*value*/ ctx[1])\n\t\t\t: /*value*/ ctx[1]) + \"\")) set_data(t1, t1_value);\n\n\t\t\tif (!current || dirty & /*nodeType*/ 32 && span_class_value !== (span_class_value = \"\" + (null_to_empty(/*nodeType*/ ctx[5]) + \" svelte-3bjyvl\"))) {\n\t\t\t\tattr(span, \"class\", span_class_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(jsonkey);\n\t\t}\n\t};\n}\n\nfunction instance$b($$self, $$props, $$invalidate) {\n\tlet { key, value, valueGetter = null, isParentExpanded, isParentArray, nodeType } = $$props;\n\tconst { colon } = getContext(contextKey);\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('valueGetter' in $$props) $$invalidate(2, valueGetter = $$props.valueGetter);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(3, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif ('nodeType' in $$props) $$invalidate(5, nodeType = $$props.nodeType);\n\t};\n\n\treturn [key, value, valueGetter, isParentExpanded, isParentArray, nodeType, colon];\n}\n\nclass JSONValueNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$b,\n\t\t\tcreate_fragment$b,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 0,\n\t\t\t\tvalue: 1,\n\t\t\t\tvalueGetter: 2,\n\t\t\t\tisParentExpanded: 3,\n\t\t\t\tisParentArray: 4,\n\t\t\t\tnodeType: 5\n\t\t\t},\n\t\t\tadd_css$5\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/ErrorNode.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$6(target) {\n\tappend_styles(target, \"svelte-1ca3gb2\", \"li.svelte-1ca3gb2{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-1ca3gb2{padding-left:var(--li-identation)}.collapse.svelte-1ca3gb2{--li-display:inline;display:inline;font-style:italic}\");\n}\n\nfunction get_each_context$2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[8] = list[i];\n\tchild_ctx[10] = i;\n\treturn child_ctx;\n}\n\n// (40:2) {#if isParentExpanded}\nfunction create_if_block_2$1(ctx) {\n\tlet jsonarrow;\n\tlet current;\n\tjsonarrow = new JSONArrow({ props: { expanded: /*expanded*/ ctx[0] } });\n\tjsonarrow.$on(\"click\", /*toggleExpand*/ ctx[7]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonarrow.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonarrow, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonarrow_changes = {};\n\t\t\tif (dirty & /*expanded*/ 1) jsonarrow_changes.expanded = /*expanded*/ ctx[0];\n\t\t\tjsonarrow.$set(jsonarrow_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonarrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonarrow, detaching);\n\t\t}\n\t};\n}\n\n// (45:2) {#if isParentExpanded}\nfunction create_if_block$3(ctx) {\n\tlet ul;\n\tlet current;\n\tlet if_block = /*expanded*/ ctx[0] && create_if_block_1$1(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(ul, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tif (if_block) if_block.m(ul, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*expanded*/ ctx[0]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$1(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(ul, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*expanded*/ 1) {\n\t\t\t\ttoggle_class(ul, \"collapse\", !/*expanded*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\n// (47:6) {#if expanded}\nfunction create_if_block_1$1(ctx) {\n\tlet jsonnode;\n\tlet t0;\n\tlet li;\n\tlet jsonkey;\n\tlet t1;\n\tlet span;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: \"message\",\n\t\t\t\tvalue: /*value*/ ctx[2].message\n\t\t\t}\n\t\t});\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: \"stack\",\n\t\t\t\tcolon: \":\",\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tlet each_value = /*stack*/ ctx[5];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(li, \"class\", \"svelte-1ca3gb2\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(jsonnode, target, anchor);\n\t\t\tinsert(target, t0, anchor);\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t1);\n\t\t\tappend(li, span);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(span, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*value*/ 4) jsonnode_changes.value = /*value*/ ctx[2].message;\n\t\t\tjsonnode.$set(jsonnode_changes);\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\n\t\t\tif (dirty & /*stack*/ 32) {\n\t\t\t\teach_value = /*stack*/ ctx[5];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$2(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$2(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(span, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(jsonnode, detaching);\n\t\t\tif (detaching) detach(t0);\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(jsonkey);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\n// (52:12) {#each stack as line, index}\nfunction create_each_block$2(ctx) {\n\tlet span;\n\tlet t_value = /*line*/ ctx[8] + \"\";\n\tlet t;\n\tlet br;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt = text(t_value);\n\t\t\tbr = element(\"br\");\n\t\t\tattr(span, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(span, \"indent\", /*index*/ ctx[10] > 0);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t);\n\t\t\tinsert(target, br, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*stack*/ 32 && t_value !== (t_value = /*line*/ ctx[8] + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t\tif (detaching) detach(br);\n\t\t}\n\t};\n}\n\nfunction create_fragment$c(ctx) {\n\tlet li;\n\tlet t0;\n\tlet jsonkey;\n\tlet t1;\n\tlet span;\n\tlet t2;\n\tlet t3_value = (/*expanded*/ ctx[0] ? '' : /*value*/ ctx[2].message) + \"\";\n\tlet t3;\n\tlet t4;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block0 = /*isParentExpanded*/ ctx[3] && create_if_block_2$1(ctx);\n\n\tjsonkey = new JSONKey({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[1],\n\t\t\t\tcolon: /*context*/ ctx[6].colon,\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[3],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\tlet if_block1 = /*isParentExpanded*/ ctx[3] && create_if_block$3(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt0 = space();\n\t\t\tcreate_component(jsonkey.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt2 = text(\"Error: \");\n\t\t\tt3 = text(t3_value);\n\t\t\tt4 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(li, \"class\", \"svelte-1ca3gb2\");\n\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tif (if_block0) if_block0.m(li, null);\n\t\t\tappend(li, t0);\n\t\t\tmount_component(jsonkey, li, null);\n\t\t\tappend(li, t1);\n\t\t\tappend(li, span);\n\t\t\tappend(span, t2);\n\t\t\tappend(span, t3);\n\t\t\tappend(li, t4);\n\t\t\tif (if_block1) if_block1.m(li, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(span, \"click\", /*toggleExpand*/ ctx[7]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*isParentExpanded*/ ctx[3]) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_2$1(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(li, t0);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsonkey_changes = {};\n\t\t\tif (dirty & /*key*/ 2) jsonkey_changes.key = /*key*/ ctx[1];\n\t\t\tif (dirty & /*isParentExpanded*/ 8) jsonkey_changes.isParentExpanded = /*isParentExpanded*/ ctx[3];\n\t\t\tif (dirty & /*isParentArray*/ 16) jsonkey_changes.isParentArray = /*isParentArray*/ ctx[4];\n\t\t\tjsonkey.$set(jsonkey_changes);\n\t\t\tif ((!current || dirty & /*expanded, value*/ 5) && t3_value !== (t3_value = (/*expanded*/ ctx[0] ? '' : /*value*/ ctx[2].message) + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (/*isParentExpanded*/ ctx[3]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block$3(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\tif_block1.m(li, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block1, 1, 1, () => {\n\t\t\t\t\tif_block1 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*isParentExpanded*/ 8) {\n\t\t\t\ttoggle_class(li, \"indent\", /*isParentExpanded*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(jsonkey.$$.fragment, local);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(jsonkey.$$.fragment, local);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tdestroy_component(jsonkey);\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$c($$self, $$props, $$invalidate) {\n\tlet stack;\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\tlet { expanded = false } = $$props;\n\tconst context = getContext(contextKey);\n\tsetContext(contextKey, { ...context, colon: ':' });\n\n\tfunction toggleExpand() {\n\t\t$$invalidate(0, expanded = !expanded);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(1, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(2, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(3, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(4, isParentArray = $$props.isParentArray);\n\t\tif ('expanded' in $$props) $$invalidate(0, expanded = $$props.expanded);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 4) {\n\t\t\t $$invalidate(5, stack = value.stack.split('\\n'));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*isParentExpanded*/ 8) {\n\t\t\t if (!isParentExpanded) {\n\t\t\t\t$$invalidate(0, expanded = false);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\texpanded,\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tstack,\n\t\tcontext,\n\t\ttoggleExpand\n\t];\n}\n\nclass ErrorNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$c,\n\t\t\tcreate_fragment$c,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tkey: 1,\n\t\t\t\tvalue: 2,\n\t\t\t\tisParentExpanded: 3,\n\t\t\t\tisParentArray: 4,\n\t\t\t\texpanded: 0\n\t\t\t},\n\t\t\tadd_css$6\n\t\t);\n\t}\n}\n\nfunction objType(obj) {\r\n  const type = Object.prototype.toString.call(obj).slice(8, -1);\r\n  if (type === 'Object') {\r\n    if (typeof obj[Symbol.iterator] === 'function') {\r\n      return 'Iterable';\r\n    }\r\n    return obj.constructor.name;\r\n  }\r\n\r\n  return type;\r\n}\n\n/* node_modules/svelte-json-tree-auto/src/JSONNode.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$d(ctx) {\n\tlet switch_instance;\n\tlet switch_instance_anchor;\n\tlet current;\n\tvar switch_value = /*componentType*/ ctx[6];\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tvalue: /*value*/ ctx[1],\n\t\t\t\tisParentExpanded: /*isParentExpanded*/ ctx[2],\n\t\t\t\tisParentArray: /*isParentArray*/ ctx[3],\n\t\t\t\tnodeType: /*nodeType*/ ctx[4],\n\t\t\t\tvalueGetter: /*valueGetter*/ ctx[5]\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tswitch_instance_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, switch_instance_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*key*/ 1) switch_instance_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*value*/ 2) switch_instance_changes.value = /*value*/ ctx[1];\n\t\t\tif (dirty & /*isParentExpanded*/ 4) switch_instance_changes.isParentExpanded = /*isParentExpanded*/ ctx[2];\n\t\t\tif (dirty & /*isParentArray*/ 8) switch_instance_changes.isParentArray = /*isParentArray*/ ctx[3];\n\t\t\tif (dirty & /*nodeType*/ 16) switch_instance_changes.nodeType = /*nodeType*/ ctx[4];\n\t\t\tif (dirty & /*valueGetter*/ 32) switch_instance_changes.valueGetter = /*valueGetter*/ ctx[5];\n\n\t\t\tif (switch_value !== (switch_value = /*componentType*/ ctx[6])) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(switch_instance_anchor);\n\t\t\tif (switch_instance) destroy_component(switch_instance, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$d($$self, $$props, $$invalidate) {\n\tlet nodeType;\n\tlet componentType;\n\tlet valueGetter;\n\tlet { key, value, isParentExpanded, isParentArray } = $$props;\n\n\tfunction getComponent(nodeType) {\n\t\tswitch (nodeType) {\n\t\t\tcase 'Object':\n\t\t\t\treturn JSONObjectNode;\n\t\t\tcase 'Error':\n\t\t\t\treturn ErrorNode;\n\t\t\tcase 'Array':\n\t\t\t\treturn JSONArrayNode;\n\t\t\tcase 'Iterable':\n\t\t\tcase 'Map':\n\t\t\tcase 'Set':\n\t\t\t\treturn typeof value.set === 'function'\n\t\t\t\t? JSONIterableMapNode\n\t\t\t\t: JSONIterableArrayNode;\n\t\t\tcase 'MapEntry':\n\t\t\t\treturn JSONMapEntryNode;\n\t\t\tdefault:\n\t\t\t\treturn JSONValueNode;\n\t\t}\n\t}\n\n\tfunction getValueGetter(nodeType) {\n\t\tswitch (nodeType) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Error':\n\t\t\tcase 'Array':\n\t\t\tcase 'Iterable':\n\t\t\tcase 'Map':\n\t\t\tcase 'Set':\n\t\t\tcase 'MapEntry':\n\t\t\tcase 'Number':\n\t\t\t\treturn undefined;\n\t\t\tcase 'String':\n\t\t\t\treturn raw => `\"${raw}\"`;\n\t\t\tcase 'Boolean':\n\t\t\t\treturn raw => raw ? 'true' : 'false';\n\t\t\tcase 'Date':\n\t\t\t\treturn raw => raw.toISOString();\n\t\t\tcase 'Null':\n\t\t\t\treturn () => 'null';\n\t\t\tcase 'Undefined':\n\t\t\t\treturn () => 'undefined';\n\t\t\tcase 'Function':\n\t\t\tcase 'Symbol':\n\t\t\t\treturn raw => raw.toString();\n\t\t\tdefault:\n\t\t\t\treturn () => `<${nodeType}>`;\n\t\t}\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t\tif ('isParentExpanded' in $$props) $$invalidate(2, isParentExpanded = $$props.isParentExpanded);\n\t\tif ('isParentArray' in $$props) $$invalidate(3, isParentArray = $$props.isParentArray);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*value*/ 2) {\n\t\t\t $$invalidate(4, nodeType = objType(value));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*nodeType*/ 16) {\n\t\t\t $$invalidate(6, componentType = getComponent(nodeType));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*nodeType*/ 16) {\n\t\t\t $$invalidate(5, valueGetter = getValueGetter(nodeType));\n\t\t}\n\t};\n\n\treturn [\n\t\tkey,\n\t\tvalue,\n\t\tisParentExpanded,\n\t\tisParentArray,\n\t\tnodeType,\n\t\tvalueGetter,\n\t\tcomponentType\n\t];\n}\n\nclass JSONNode extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(this, options, instance$d, create_fragment$d, safe_not_equal, {\n\t\t\tkey: 0,\n\t\t\tvalue: 1,\n\t\t\tisParentExpanded: 2,\n\t\t\tisParentArray: 3\n\t\t});\n\t}\n}\n\n/* node_modules/svelte-json-tree-auto/src/Root.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$7(target) {\n\tappend_styles(target, \"svelte-773n60\", \"ul.svelte-773n60{--string-color:var(--json-tree-string-color, #cb3f41);--symbol-color:var(--json-tree-symbol-color, #cb3f41);--boolean-color:var(--json-tree-boolean-color, #112aa7);--function-color:var(--json-tree-function-color, #112aa7);--number-color:var(--json-tree-number-color, #3029cf);--label-color:var(--json-tree-label-color, #871d8f);--arrow-color:var(--json-tree-arrow-color, #727272);--null-color:var(--json-tree-null-color, #8d8d8d);--undefined-color:var(--json-tree-undefined-color, #8d8d8d);--date-color:var(--json-tree-date-color, #8d8d8d);--li-identation:var(--json-tree-li-indentation, 1em);--li-line-height:var(--json-tree-li-line-height, 1.3);--li-colon-space:0.3em;font-size:var(--json-tree-font-size, 12px);font-family:var(--json-tree-font-family, 'Courier New', Courier, monospace)}ul.svelte-773n60 li{line-height:var(--li-line-height);display:var(--li-display, list-item);list-style:none}ul.svelte-773n60,ul.svelte-773n60 ul{padding:0;margin:0}\");\n}\n\nfunction create_fragment$e(ctx) {\n\tlet ul;\n\tlet jsonnode;\n\tlet current;\n\n\tjsonnode = new JSONNode({\n\t\t\tprops: {\n\t\t\t\tkey: /*key*/ ctx[0],\n\t\t\t\tvalue: /*value*/ ctx[1],\n\t\t\t\tisParentExpanded: true,\n\t\t\t\tisParentArray: false\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tcreate_component(jsonnode.$$.fragment);\n\t\t\tattr(ul, \"class\", \"svelte-773n60\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tmount_component(jsonnode, ul, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst jsonnode_changes = {};\n\t\t\tif (dirty & /*key*/ 1) jsonnode_changes.key = /*key*/ ctx[0];\n\t\t\tif (dirty & /*value*/ 2) jsonnode_changes.value = /*value*/ ctx[1];\n\t\t\tjsonnode.$set(jsonnode_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(jsonnode.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(jsonnode.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_component(jsonnode);\n\t\t}\n\t};\n}\n\nfunction instance$e($$self, $$props, $$invalidate) {\n\tsetContext(contextKey, {});\n\tlet { key = '', value } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('key' in $$props) $$invalidate(0, key = $$props.key);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t};\n\n\treturn [key, value];\n}\n\nclass Root extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$e, create_fragment$e, safe_not_equal, { key: 0, value: 1 }, add_css$7);\n\t}\n}\n\n/* src/client/debug/main/ClientSwitcher.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$8(target) {\n\tappend_styles(target, \"svelte-jvfq3i\", \".svelte-jvfq3i{box-sizing:border-box}section.switcher.svelte-jvfq3i{position:sticky;bottom:0;transform:translateY(20px);margin:40px -20px 0;border-top:1px solid #999;padding:20px;background:#fff}label.svelte-jvfq3i{display:flex;align-items:baseline;gap:5px;font-weight:bold}select.svelte-jvfq3i{min-width:140px}\");\n}\n\nfunction get_each_context$3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\tchild_ctx[9] = i;\n\treturn child_ctx;\n}\n\n// (42:0) {#if debuggableClients.length > 1}\nfunction create_if_block$4(ctx) {\n\tlet section;\n\tlet label;\n\tlet t;\n\tlet select;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value = /*debuggableClients*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$3(get_each_context$3(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt = text(\"Client\\n      \\n      \");\n\t\t\tselect = element(\"select\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(select, \"id\", selectId);\n\t\t\tattr(select, \"class\", \"svelte-jvfq3i\");\n\t\t\tif (/*selected*/ ctx[2] === void 0) add_render_callback(() => /*select_change_handler*/ ctx[6].call(select));\n\t\t\tattr(label, \"class\", \"svelte-jvfq3i\");\n\t\t\tattr(section, \"class\", \"switcher svelte-jvfq3i\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, label);\n\t\t\tappend(label, t);\n\t\t\tappend(label, select);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t}\n\n\t\t\tselect_option(select, /*selected*/ ctx[2]);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(select, \"change\", /*handleSelection*/ ctx[3]),\n\t\t\t\t\tlisten(select, \"change\", /*select_change_handler*/ ctx[6])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debuggableClients, JSON*/ 2) {\n\t\t\t\teach_value = /*debuggableClients*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$3(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$3(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tif (dirty & /*selected*/ 4) {\n\t\t\t\tselect_option(select, /*selected*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (48:8) {#each debuggableClients as clientOption, index}\nfunction create_each_block$3(ctx) {\n\tlet option;\n\tlet t0;\n\tlet t1;\n\tlet t2_value = JSON.stringify(/*clientOption*/ ctx[7].playerID) + \"\";\n\tlet t2;\n\tlet t3;\n\tlet t4_value = JSON.stringify(/*clientOption*/ ctx[7].matchID) + \"\";\n\tlet t4;\n\tlet t5;\n\tlet t6_value = /*clientOption*/ ctx[7].game.name + \"\";\n\tlet t6;\n\tlet t7;\n\tlet option_value_value;\n\n\treturn {\n\t\tc() {\n\t\t\toption = element(\"option\");\n\t\t\tt0 = text(/*index*/ ctx[9]);\n\t\t\tt1 = text(\" \\n            playerID: \");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = text(\",\\n            matchID: \");\n\t\t\tt4 = text(t4_value);\n\t\t\tt5 = text(\"\\n            (\");\n\t\t\tt6 = text(t6_value);\n\t\t\tt7 = text(\")\\n          \");\n\t\t\toption.__value = option_value_value = /*index*/ ctx[9];\n\t\t\toption.value = option.__value;\n\t\t\tattr(option, \"class\", \"svelte-jvfq3i\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, option, anchor);\n\t\t\tappend(option, t0);\n\t\t\tappend(option, t1);\n\t\t\tappend(option, t2);\n\t\t\tappend(option, t3);\n\t\t\tappend(option, t4);\n\t\t\tappend(option, t5);\n\t\t\tappend(option, t6);\n\t\t\tappend(option, t7);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t2_value !== (t2_value = JSON.stringify(/*clientOption*/ ctx[7].playerID) + \"\")) set_data(t2, t2_value);\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t4_value !== (t4_value = JSON.stringify(/*clientOption*/ ctx[7].matchID) + \"\")) set_data(t4, t4_value);\n\t\t\tif (dirty & /*debuggableClients*/ 2 && t6_value !== (t6_value = /*clientOption*/ ctx[7].game.name + \"\")) set_data(t6, t6_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(option);\n\t\t}\n\t};\n}\n\nfunction create_fragment$f(ctx) {\n\tlet if_block_anchor;\n\tlet if_block = /*debuggableClients*/ ctx[1].length > 1 && create_if_block$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (/*debuggableClients*/ ctx[1].length > 1) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$4(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nconst selectId = 'bgio-debug-select-client';\n\nfunction instance$f($$self, $$props, $$invalidate) {\n\tlet client;\n\tlet debuggableClients;\n\tlet selected;\n\n\tlet $clientManager,\n\t\t$$unsubscribe_clientManager = noop,\n\t\t$$subscribe_clientManager = () => ($$unsubscribe_clientManager(), $$unsubscribe_clientManager = subscribe(clientManager, $$value => $$invalidate(5, $clientManager = $$value)), clientManager);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_clientManager());\n\tlet { clientManager } = $$props;\n\t$$subscribe_clientManager();\n\n\tconst handleSelection = e => {\n\t\t// Request to switch to the selected client.\n\t\tconst selectedClient = debuggableClients[e.target.value];\n\n\t\tclientManager.switchToClient(selectedClient);\n\n\t\t// Maintain focus on the client select menu after switching clients.\n\t\t// Necessary because switching clients will usually trigger a mount/unmount.\n\t\tconst select = document.getElementById(selectId);\n\n\t\tif (select) select.focus();\n\t};\n\n\tfunction select_change_handler() {\n\t\tselected = select_value(this);\n\t\t((($$invalidate(2, selected), $$invalidate(1, debuggableClients)), $$invalidate(4, client)), $$invalidate(5, $clientManager));\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('clientManager' in $$props) $$subscribe_clientManager($$invalidate(0, clientManager = $$props.clientManager));\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$clientManager*/ 32) {\n\t\t\t $$invalidate(4, { client, debuggableClients } = $clientManager, client, ($$invalidate(1, debuggableClients), $$invalidate(5, $clientManager)));\n\t\t}\n\n\t\tif ($$self.$$.dirty & /*debuggableClients, client*/ 18) {\n\t\t\t $$invalidate(2, selected = debuggableClients.indexOf(client));\n\t\t}\n\t};\n\n\treturn [\n\t\tclientManager,\n\t\tdebuggableClients,\n\t\tselected,\n\t\thandleSelection,\n\t\tclient,\n\t\t$clientManager,\n\t\tselect_change_handler\n\t];\n}\n\nclass ClientSwitcher extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$f, create_fragment$f, safe_not_equal, { clientManager: 0 }, add_css$8);\n\t}\n}\n\n/* src/client/debug/main/Hotkey.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$9(target) {\n\tappend_styles(target, \"svelte-1vfj1mn\", \".key.svelte-1vfj1mn.svelte-1vfj1mn{display:flex;flex-direction:row;align-items:center}button.svelte-1vfj1mn.svelte-1vfj1mn{cursor:pointer;min-width:10px;padding-left:5px;padding-right:5px;height:20px;line-height:20px;text-align:center;border:1px solid #ccc;box-shadow:1px 1px 1px #888;background:#eee;color:#444}button.svelte-1vfj1mn.svelte-1vfj1mn:hover{background:#ddd}.key.active.svelte-1vfj1mn button.svelte-1vfj1mn{background:#ddd;border:1px solid #999;box-shadow:none}label.svelte-1vfj1mn.svelte-1vfj1mn{margin-left:10px}\");\n}\n\n// (78:2) {#if label}\nfunction create_if_block$5(ctx) {\n\tlet label_1;\n\tlet t0;\n\tlet t1;\n\tlet span;\n\tlet t2_value = `(shortcut: ${/*value*/ ctx[0]})` + \"\";\n\tlet t2;\n\n\treturn {\n\t\tc() {\n\t\t\tlabel_1 = element(\"label\");\n\t\t\tt0 = text(/*label*/ ctx[1]);\n\t\t\tt1 = space();\n\t\t\tspan = element(\"span\");\n\t\t\tt2 = text(t2_value);\n\t\t\tattr(span, \"class\", \"screen-reader-only\");\n\t\t\tattr(label_1, \"for\", /*id*/ ctx[5]);\n\t\t\tattr(label_1, \"class\", \"svelte-1vfj1mn\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, label_1, anchor);\n\t\t\tappend(label_1, t0);\n\t\t\tappend(label_1, t1);\n\t\t\tappend(label_1, span);\n\t\t\tappend(span, t2);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*label*/ 2) set_data(t0, /*label*/ ctx[1]);\n\t\t\tif (dirty & /*value*/ 1 && t2_value !== (t2_value = `(shortcut: ${/*value*/ ctx[0]})` + \"\")) set_data(t2, t2_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(label_1);\n\t\t}\n\t};\n}\n\nfunction create_fragment$g(ctx) {\n\tlet div;\n\tlet button;\n\tlet t0;\n\tlet t1;\n\tlet mounted;\n\tlet dispose;\n\tlet if_block = /*label*/ ctx[1] && create_if_block$5(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(/*value*/ ctx[0]);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(button, \"id\", /*id*/ ctx[5]);\n\t\t\tbutton.disabled = /*disable*/ ctx[2];\n\t\t\tattr(button, \"class\", \"svelte-1vfj1mn\");\n\t\t\tattr(div, \"class\", \"key svelte-1vfj1mn\");\n\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, button);\n\t\t\tappend(button, t0);\n\t\t\tappend(div, t1);\n\t\t\tif (if_block) if_block.m(div, null);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(window, \"keydown\", /*Keypress*/ ctx[7]),\n\t\t\t\t\tlisten(button, \"click\", /*Activate*/ ctx[6])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*value*/ 1) set_data(t0, /*value*/ ctx[0]);\n\n\t\t\tif (dirty & /*disable*/ 4) {\n\t\t\t\tbutton.disabled = /*disable*/ ctx[2];\n\t\t\t}\n\n\t\t\tif (/*label*/ ctx[1]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$5(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\n\t\t\tif (dirty & /*active*/ 8) {\n\t\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tif (if_block) if_block.d();\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$g($$self, $$props, $$invalidate) {\n\tlet $disableHotkeys;\n\tlet { value } = $$props;\n\tlet { onPress = null } = $$props;\n\tlet { label = null } = $$props;\n\tlet { disable = false } = $$props;\n\tconst { disableHotkeys } = getContext('hotkeys');\n\tcomponent_subscribe($$self, disableHotkeys, value => $$invalidate(9, $disableHotkeys = value));\n\tlet active = false;\n\tlet id = `key-${value}`;\n\n\tfunction Deactivate() {\n\t\t$$invalidate(3, active = false);\n\t}\n\n\tfunction Activate() {\n\t\t$$invalidate(3, active = true);\n\t\tsetTimeout(Deactivate, 200);\n\n\t\tif (onPress) {\n\t\t\tsetTimeout(onPress, 1);\n\t\t}\n\t}\n\n\tfunction Keypress(e) {\n\t\tif (!$disableHotkeys && !disable && !e.ctrlKey && !e.metaKey && e.key == value) {\n\t\t\te.preventDefault();\n\t\t\tActivate();\n\t\t}\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('value' in $$props) $$invalidate(0, value = $$props.value);\n\t\tif ('onPress' in $$props) $$invalidate(8, onPress = $$props.onPress);\n\t\tif ('label' in $$props) $$invalidate(1, label = $$props.label);\n\t\tif ('disable' in $$props) $$invalidate(2, disable = $$props.disable);\n\t};\n\n\treturn [value, label, disable, active, disableHotkeys, id, Activate, Keypress, onPress];\n}\n\nclass Hotkey extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$g,\n\t\t\tcreate_fragment$g,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tvalue: 0,\n\t\t\t\tonPress: 8,\n\t\t\t\tlabel: 1,\n\t\t\t\tdisable: 2\n\t\t\t},\n\t\t\tadd_css$9\n\t\t);\n\t}\n}\n\n/* src/client/debug/main/InteractiveFunction.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$a(target) {\n\tappend_styles(target, \"svelte-1mppqmp\", \".move.svelte-1mppqmp{display:flex;flex-direction:row;cursor:pointer;margin-left:10px;color:#666}.move.svelte-1mppqmp:hover{color:#333}.move.active.svelte-1mppqmp{color:#111;font-weight:bold}.arg-field.svelte-1mppqmp{outline:none;font-family:monospace}\");\n}\n\nfunction create_fragment$h(ctx) {\n\tlet div;\n\tlet span0;\n\tlet t0;\n\tlet t1;\n\tlet span1;\n\tlet t3;\n\tlet span2;\n\tlet t4;\n\tlet span3;\n\tlet mounted;\n\tlet dispose;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tspan0 = element(\"span\");\n\t\t\tt0 = text(/*name*/ ctx[2]);\n\t\t\tt1 = space();\n\t\t\tspan1 = element(\"span\");\n\t\t\tspan1.textContent = \"(\";\n\t\t\tt3 = space();\n\t\t\tspan2 = element(\"span\");\n\t\t\tt4 = space();\n\t\t\tspan3 = element(\"span\");\n\t\t\tspan3.textContent = \")\";\n\t\t\tattr(span2, \"class\", \"arg-field svelte-1mppqmp\");\n\t\t\tattr(span2, \"contenteditable\", \"\");\n\t\t\tattr(div, \"class\", \"move svelte-1mppqmp\");\n\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, span0);\n\t\t\tappend(span0, t0);\n\t\t\tappend(div, t1);\n\t\t\tappend(div, span1);\n\t\t\tappend(div, t3);\n\t\t\tappend(div, span2);\n\t\t\t/*span2_binding*/ ctx[6](span2);\n\t\t\tappend(div, t4);\n\t\t\tappend(div, span3);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(span2, \"focus\", function () {\n\t\t\t\t\t\tif (is_function(/*Activate*/ ctx[0])) /*Activate*/ ctx[0].apply(this, arguments);\n\t\t\t\t\t}),\n\t\t\t\t\tlisten(span2, \"blur\", function () {\n\t\t\t\t\t\tif (is_function(/*Deactivate*/ ctx[1])) /*Deactivate*/ ctx[1].apply(this, arguments);\n\t\t\t\t\t}),\n\t\t\t\t\tlisten(span2, \"keypress\", stop_propagation(keypress_handler)),\n\t\t\t\t\tlisten(span2, \"keydown\", /*OnKeyDown*/ ctx[5]),\n\t\t\t\t\tlisten(div, \"click\", function () {\n\t\t\t\t\t\tif (is_function(/*Activate*/ ctx[0])) /*Activate*/ ctx[0].apply(this, arguments);\n\t\t\t\t\t})\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, [dirty]) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*name*/ 4) set_data(t0, /*name*/ ctx[2]);\n\n\t\t\tif (dirty & /*active*/ 8) {\n\t\t\t\ttoggle_class(div, \"active\", /*active*/ ctx[3]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\t/*span2_binding*/ ctx[6](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nconst keypress_handler = () => {\n\t\n};\n\nfunction instance$h($$self, $$props, $$invalidate) {\n\tlet { Activate } = $$props;\n\tlet { Deactivate } = $$props;\n\tlet { name } = $$props;\n\tlet { active } = $$props;\n\tlet span;\n\tconst dispatch = createEventDispatcher();\n\n\tfunction Submit() {\n\t\ttry {\n\t\t\tconst value = span.innerText;\n\t\t\tlet argArray = new Function(`return [${value}]`)();\n\t\t\tdispatch('submit', argArray);\n\t\t} catch(error) {\n\t\t\tdispatch('error', error);\n\t\t}\n\n\t\t$$invalidate(4, span.innerText = '', span);\n\t}\n\n\tfunction OnKeyDown(e) {\n\t\tif (e.key == 'Enter') {\n\t\t\te.preventDefault();\n\t\t\tSubmit();\n\t\t}\n\n\t\tif (e.key == 'Escape') {\n\t\t\te.preventDefault();\n\t\t\tDeactivate();\n\t\t}\n\t}\n\n\tafterUpdate(() => {\n\t\tif (active) {\n\t\t\tspan.focus();\n\t\t} else {\n\t\t\tspan.blur();\n\t\t}\n\t});\n\n\tfunction span2_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tspan = $$value;\n\t\t\t$$invalidate(4, span);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('Activate' in $$props) $$invalidate(0, Activate = $$props.Activate);\n\t\tif ('Deactivate' in $$props) $$invalidate(1, Deactivate = $$props.Deactivate);\n\t\tif ('name' in $$props) $$invalidate(2, name = $$props.name);\n\t\tif ('active' in $$props) $$invalidate(3, active = $$props.active);\n\t};\n\n\treturn [Activate, Deactivate, name, active, span, OnKeyDown, span2_binding];\n}\n\nclass InteractiveFunction extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$h,\n\t\t\tcreate_fragment$h,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tActivate: 0,\n\t\t\t\tDeactivate: 1,\n\t\t\t\tname: 2,\n\t\t\t\tactive: 3\n\t\t\t},\n\t\t\tadd_css$a\n\t\t);\n\t}\n}\n\n/* src/client/debug/main/Move.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$b(target) {\n\tappend_styles(target, \"svelte-smqssc\", \".move-error.svelte-smqssc{color:#a00;font-weight:bold}.wrapper.svelte-smqssc{display:flex;flex-direction:row;align-items:center}\");\n}\n\n// (65:2) {#if error}\nfunction create_if_block$6(ctx) {\n\tlet span;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt = text(/*error*/ ctx[2]);\n\t\t\tattr(span, \"class\", \"move-error svelte-smqssc\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*error*/ 4) set_data(t, /*error*/ ctx[2]);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t}\n\t};\n}\n\nfunction create_fragment$i(ctx) {\n\tlet div1;\n\tlet div0;\n\tlet hotkey;\n\tlet t0;\n\tlet interactivefunction;\n\tlet t1;\n\tlet current;\n\n\thotkey = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: /*shortcut*/ ctx[0],\n\t\t\t\tonPress: /*Activate*/ ctx[4]\n\t\t\t}\n\t\t});\n\n\tinteractivefunction = new InteractiveFunction({\n\t\t\tprops: {\n\t\t\t\tActivate: /*Activate*/ ctx[4],\n\t\t\t\tDeactivate: /*Deactivate*/ ctx[5],\n\t\t\t\tname: /*name*/ ctx[1],\n\t\t\t\tactive: /*active*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tinteractivefunction.$on(\"submit\", /*Submit*/ ctx[6]);\n\tinteractivefunction.$on(\"error\", /*Error*/ ctx[7]);\n\tlet if_block = /*error*/ ctx[2] && create_if_block$6(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tcreate_component(hotkey.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tcreate_component(interactivefunction.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div0, \"class\", \"wrapper svelte-smqssc\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, div0);\n\t\t\tmount_component(hotkey, div0, null);\n\t\t\tappend(div0, t0);\n\t\t\tmount_component(interactivefunction, div0, null);\n\t\t\tappend(div1, t1);\n\t\t\tif (if_block) if_block.m(div1, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst hotkey_changes = {};\n\t\t\tif (dirty & /*shortcut*/ 1) hotkey_changes.value = /*shortcut*/ ctx[0];\n\t\t\thotkey.$set(hotkey_changes);\n\t\t\tconst interactivefunction_changes = {};\n\t\t\tif (dirty & /*name*/ 2) interactivefunction_changes.name = /*name*/ ctx[1];\n\t\t\tif (dirty & /*active*/ 8) interactivefunction_changes.active = /*active*/ ctx[3];\n\t\t\tinteractivefunction.$set(interactivefunction_changes);\n\n\t\t\tif (/*error*/ ctx[2]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$6(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey.$$.fragment, local);\n\t\t\ttransition_in(interactivefunction.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey.$$.fragment, local);\n\t\t\ttransition_out(interactivefunction.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tdestroy_component(hotkey);\n\t\t\tdestroy_component(interactivefunction);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$i($$self, $$props, $$invalidate) {\n\tlet { shortcut } = $$props;\n\tlet { name } = $$props;\n\tlet { fn } = $$props;\n\tconst { disableHotkeys } = getContext('hotkeys');\n\tlet error$1 = '';\n\tlet active = false;\n\n\tfunction Activate() {\n\t\tdisableHotkeys.set(true);\n\t\t$$invalidate(3, active = true);\n\t}\n\n\tfunction Deactivate() {\n\t\tdisableHotkeys.set(false);\n\t\t$$invalidate(2, error$1 = '');\n\t\t$$invalidate(3, active = false);\n\t}\n\n\tfunction Submit(e) {\n\t\t$$invalidate(2, error$1 = '');\n\t\tDeactivate();\n\t\tfn.apply(this, e.detail);\n\t}\n\n\tfunction Error(e) {\n\t\t$$invalidate(2, error$1 = e.detail);\n\t\terror(e.detail);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('shortcut' in $$props) $$invalidate(0, shortcut = $$props.shortcut);\n\t\tif ('name' in $$props) $$invalidate(1, name = $$props.name);\n\t\tif ('fn' in $$props) $$invalidate(8, fn = $$props.fn);\n\t};\n\n\treturn [shortcut, name, error$1, active, Activate, Deactivate, Submit, Error, fn];\n}\n\nclass Move extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$i, create_fragment$i, safe_not_equal, { shortcut: 0, name: 1, fn: 8 }, add_css$b);\n\t}\n}\n\n/* src/client/debug/main/Controls.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$c(target) {\n\tappend_styles(target, \"svelte-c3lavh\", \"ul.svelte-c3lavh{padding-left:0}li.svelte-c3lavh{list-style:none;margin:none;margin-bottom:5px}\");\n}\n\nfunction create_fragment$j(ctx) {\n\tlet ul;\n\tlet li0;\n\tlet hotkey0;\n\tlet t0;\n\tlet li1;\n\tlet hotkey1;\n\tlet t1;\n\tlet li2;\n\tlet hotkey2;\n\tlet t2;\n\tlet li3;\n\tlet hotkey3;\n\tlet current;\n\n\thotkey0 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"1\",\n\t\t\t\tonPress: /*client*/ ctx[0].reset,\n\t\t\t\tlabel: \"reset\"\n\t\t\t}\n\t\t});\n\n\thotkey1 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"2\",\n\t\t\t\tonPress: /*Save*/ ctx[2],\n\t\t\t\tlabel: \"save\"\n\t\t\t}\n\t\t});\n\n\thotkey2 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"3\",\n\t\t\t\tonPress: /*Restore*/ ctx[3],\n\t\t\t\tlabel: \"restore\"\n\t\t\t}\n\t\t});\n\n\thotkey3 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \".\",\n\t\t\t\tonPress: /*ToggleVisibility*/ ctx[1],\n\t\t\t\tlabel: \"hide\"\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tcreate_component(hotkey0.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tcreate_component(hotkey1.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\tcreate_component(hotkey2.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tli3 = element(\"li\");\n\t\t\tcreate_component(hotkey3.$$.fragment);\n\t\t\tattr(li0, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li1, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li2, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(li3, \"class\", \"svelte-c3lavh\");\n\t\t\tattr(ul, \"id\", \"debug-controls\");\n\t\t\tattr(ul, \"class\", \"controls svelte-c3lavh\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tappend(ul, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(ul, t0);\n\t\t\tappend(ul, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(ul, t1);\n\t\t\tappend(ul, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li3);\n\t\t\tmount_component(hotkey3, li3, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst hotkey0_changes = {};\n\t\t\tif (dirty & /*client*/ 1) hotkey0_changes.onPress = /*client*/ ctx[0].reset;\n\t\t\thotkey0.$set(hotkey0_changes);\n\t\t\tconst hotkey3_changes = {};\n\t\t\tif (dirty & /*ToggleVisibility*/ 2) hotkey3_changes.onPress = /*ToggleVisibility*/ ctx[1];\n\t\t\thotkey3.$set(hotkey3_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\t\t\ttransition_in(hotkey3.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(hotkey3.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t\tdestroy_component(hotkey0);\n\t\t\tdestroy_component(hotkey1);\n\t\t\tdestroy_component(hotkey2);\n\t\t\tdestroy_component(hotkey3);\n\t\t}\n\t};\n}\n\nfunction instance$j($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\n\tfunction Save() {\n\t\t// get state to persist and overwrite deltalog, _undo, and _redo\n\t\tconst state = client.getState();\n\n\t\tconst json = stringify({\n\t\t\t...state,\n\t\t\t_undo: [],\n\t\t\t_redo: [],\n\t\t\tdeltalog: []\n\t\t});\n\n\t\twindow.localStorage.setItem('gamestate', json);\n\t\twindow.localStorage.setItem('initialState', stringify(client.initialState));\n\t}\n\n\tfunction Restore() {\n\t\tconst gamestateJSON = window.localStorage.getItem('gamestate');\n\t\tconst initialStateJSON = window.localStorage.getItem('initialState');\n\n\t\tif (gamestateJSON !== null && initialStateJSON !== null) {\n\t\t\tconst gamestate = parse(gamestateJSON);\n\t\t\tconst initialState = parse(initialStateJSON);\n\t\t\tclient.store.dispatch(sync({ state: gamestate, initialState }));\n\t\t}\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate(0, client = $$props.client);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(1, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [client, ToggleVisibility, Save, Restore];\n}\n\nclass Controls extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$j, create_fragment$j, safe_not_equal, { client: 0, ToggleVisibility: 1 }, add_css$c);\n\t}\n}\n\n/* src/client/debug/main/PlayerInfo.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$d(target) {\n\tappend_styles(target, \"svelte-19aan9p\", \".player-box.svelte-19aan9p{display:flex;flex-direction:row}.player.svelte-19aan9p{cursor:pointer;text-align:center;width:30px;height:30px;line-height:30px;background:#eee;border:3px solid #fefefe;box-sizing:content-box;padding:0}.player.current.svelte-19aan9p{background:#555;color:#eee;font-weight:bold}.player.active.svelte-19aan9p{border:3px solid #ff7f50}\");\n}\n\nfunction get_each_context$4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\treturn child_ctx;\n}\n\n// (59:2) {#each players as player}\nfunction create_each_block$4(ctx) {\n\tlet button;\n\tlet t0_value = /*player*/ ctx[7] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet button_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[5](/*player*/ ctx[7]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tattr(button, \"class\", \"player svelte-19aan9p\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*playerLabel*/ ctx[4](/*player*/ ctx[7]));\n\t\t\ttoggle_class(button, \"current\", /*player*/ ctx[7] == /*ctx*/ ctx[0].currentPlayer);\n\t\t\ttoggle_class(button, \"active\", /*player*/ ctx[7] == /*playerID*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, t0);\n\t\t\tappend(button, t1);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*players*/ 4 && t0_value !== (t0_value = /*player*/ ctx[7] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*players*/ 4 && button_aria_label_value !== (button_aria_label_value = /*playerLabel*/ ctx[4](/*player*/ ctx[7]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*players, ctx*/ 5) {\n\t\t\t\ttoggle_class(button, \"current\", /*player*/ ctx[7] == /*ctx*/ ctx[0].currentPlayer);\n\t\t\t}\n\n\t\t\tif (dirty & /*players, playerID*/ 6) {\n\t\t\t\ttoggle_class(button, \"active\", /*player*/ ctx[7] == /*playerID*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction create_fragment$k(ctx) {\n\tlet div;\n\tlet each_value = /*players*/ ctx[2];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$4(get_each_context$4(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div, \"class\", \"player-box svelte-19aan9p\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*playerLabel, players, ctx, playerID, OnClick*/ 31) {\n\t\t\t\teach_value = /*players*/ ctx[2];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$4(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$4(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$k($$self, $$props, $$invalidate) {\n\tlet { ctx } = $$props;\n\tlet { playerID } = $$props;\n\tconst dispatch = createEventDispatcher();\n\n\tfunction OnClick(player) {\n\t\tif (player == playerID) {\n\t\t\tdispatch(\"change\", { playerID: null });\n\t\t} else {\n\t\t\tdispatch(\"change\", { playerID: player });\n\t\t}\n\t}\n\n\tfunction playerLabel(player) {\n\t\tconst properties = [];\n\t\tif (player == ctx.currentPlayer) properties.push('current');\n\t\tif (player == playerID) properties.push('active');\n\t\tlet label = `Player ${player}`;\n\t\tif (properties.length) label += ` (${properties.join(', ')})`;\n\t\treturn label;\n\t}\n\n\tlet players;\n\tconst click_handler = player => OnClick(player);\n\n\t$$self.$$set = $$props => {\n\t\tif ('ctx' in $$props) $$invalidate(0, ctx = $$props.ctx);\n\t\tif ('playerID' in $$props) $$invalidate(1, playerID = $$props.playerID);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*ctx*/ 1) {\n\t\t\t $$invalidate(2, players = ctx\n\t\t\t? [...Array(ctx.numPlayers).keys()].map(i => i.toString())\n\t\t\t: []);\n\t\t}\n\t};\n\n\treturn [ctx, playerID, players, OnClick, playerLabel, click_handler];\n}\n\nclass PlayerInfo extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$k, create_fragment$k, safe_not_equal, { ctx: 0, playerID: 1 }, add_css$d);\n\t}\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nfunction AssignShortcuts(moveNames, blacklist) {\n  var shortcuts = {};\n  var taken = {};\n\n  var _iterator = _createForOfIteratorHelper(blacklist),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var c = _step.value;\n      taken[c] = true;\n    } // Try assigning the first char of each move as the shortcut.\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var t = taken;\n  var canUseFirstChar = true;\n\n  for (var name in moveNames) {\n    var shortcut = name[0];\n\n    if (t[shortcut]) {\n      canUseFirstChar = false;\n      break;\n    }\n\n    t[shortcut] = true;\n    shortcuts[name] = shortcut;\n  }\n\n  if (canUseFirstChar) {\n    return shortcuts;\n  } // If those aren't unique, use a-z.\n\n\n  t = taken;\n  var next = 97;\n  shortcuts = {};\n\n  for (var _name in moveNames) {\n    var _shortcut = String.fromCharCode(next);\n\n    while (t[_shortcut]) {\n      next++;\n      _shortcut = String.fromCharCode(next);\n    }\n\n    t[_shortcut] = true;\n    shortcuts[_name] = _shortcut;\n  }\n\n  return shortcuts;\n}\n\n/* src/client/debug/main/Main.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$e(target) {\n\tappend_styles(target, \"svelte-146sq5f\", \".tree.svelte-146sq5f{--json-tree-font-family:monospace;--json-tree-font-size:14px;--json-tree-null-color:#757575}.label.svelte-146sq5f{margin-bottom:0;text-transform:none}h3.svelte-146sq5f{text-transform:uppercase}ul.svelte-146sq5f{padding-left:0}li.svelte-146sq5f{list-style:none;margin:0;margin-bottom:5px}\");\n}\n\nfunction get_each_context$5(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[10] = list[i][0];\n\tchild_ctx[11] = list[i][1];\n\treturn child_ctx;\n}\n\n// (78:4) {#each Object.entries(moves) as [name, fn]}\nfunction create_each_block$5(ctx) {\n\tlet li;\n\tlet move;\n\tlet t;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tshortcut: /*shortcuts*/ ctx[8][/*name*/ ctx[10]],\n\t\t\t\tfn: /*fn*/ ctx[11],\n\t\t\t\tname: /*name*/ ctx[10]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tt = space();\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tappend(li, t);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*moves*/ 16) move_changes.shortcut = /*shortcuts*/ ctx[8][/*name*/ ctx[10]];\n\t\t\tif (dirty & /*moves*/ 16) move_changes.fn = /*fn*/ ctx[11];\n\t\t\tif (dirty & /*moves*/ 16) move_changes.name = /*name*/ ctx[10];\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (90:2) {#if ctx.activePlayers && events.endStage}\nfunction create_if_block_2$2(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endStage\",\n\t\t\t\tshortcut: 7,\n\t\t\t\tfn: /*events*/ ctx[5].endStage\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 32) move_changes.fn = /*events*/ ctx[5].endStage;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (95:2) {#if events.endTurn}\nfunction create_if_block_1$2(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endTurn\",\n\t\t\t\tshortcut: 8,\n\t\t\t\tfn: /*events*/ ctx[5].endTurn\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 32) move_changes.fn = /*events*/ ctx[5].endTurn;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\n// (100:2) {#if ctx.phase && events.endPhase}\nfunction create_if_block$7(ctx) {\n\tlet li;\n\tlet move;\n\tlet current;\n\n\tmove = new Move({\n\t\t\tprops: {\n\t\t\t\tname: \"endPhase\",\n\t\t\t\tshortcut: 9,\n\t\t\t\tfn: /*events*/ ctx[5].endPhase\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tli = element(\"li\");\n\t\t\tcreate_component(move.$$.fragment);\n\t\t\tattr(li, \"class\", \"svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, li, anchor);\n\t\t\tmount_component(move, li, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst move_changes = {};\n\t\t\tif (dirty & /*events*/ 32) move_changes.fn = /*events*/ ctx[5].endPhase;\n\t\t\tmove.$set(move_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(move.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(move.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(li);\n\t\t\tdestroy_component(move);\n\t\t}\n\t};\n}\n\nfunction create_fragment$l(ctx) {\n\tlet section0;\n\tlet h30;\n\tlet t1;\n\tlet controls;\n\tlet t2;\n\tlet section1;\n\tlet h31;\n\tlet t4;\n\tlet playerinfo;\n\tlet t5;\n\tlet section2;\n\tlet h32;\n\tlet t7;\n\tlet ul0;\n\tlet t8;\n\tlet section3;\n\tlet h33;\n\tlet t10;\n\tlet ul1;\n\tlet t11;\n\tlet t12;\n\tlet t13;\n\tlet section4;\n\tlet h34;\n\tlet t15;\n\tlet jsontree0;\n\tlet t16;\n\tlet section5;\n\tlet h35;\n\tlet t18;\n\tlet jsontree1;\n\tlet t19;\n\tlet clientswitcher;\n\tlet current;\n\n\tcontrols = new Controls({\n\t\t\tprops: {\n\t\t\t\tclient: /*client*/ ctx[0],\n\t\t\t\tToggleVisibility: /*ToggleVisibility*/ ctx[2]\n\t\t\t}\n\t\t});\n\n\tplayerinfo = new PlayerInfo({\n\t\t\tprops: {\n\t\t\t\tctx: /*ctx*/ ctx[6],\n\t\t\t\tplayerID: /*playerID*/ ctx[3]\n\t\t\t}\n\t\t});\n\n\tplayerinfo.$on(\"change\", /*change_handler*/ ctx[9]);\n\tlet each_value = Object.entries(/*moves*/ ctx[4]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$5(get_each_context$5(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block0 = /*ctx*/ ctx[6].activePlayers && /*events*/ ctx[5].endStage && create_if_block_2$2(ctx);\n\tlet if_block1 = /*events*/ ctx[5].endTurn && create_if_block_1$2(ctx);\n\tlet if_block2 = /*ctx*/ ctx[6].phase && /*events*/ ctx[5].endPhase && create_if_block$7(ctx);\n\tjsontree0 = new Root({ props: { value: /*G*/ ctx[7] } });\n\n\tjsontree1 = new Root({\n\t\t\tprops: { value: SanitizeCtx(/*ctx*/ ctx[6]) }\n\t\t});\n\n\tclientswitcher = new ClientSwitcher({\n\t\t\tprops: { clientManager: /*clientManager*/ ctx[1] }\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tcreate_component(controls.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Players\";\n\t\t\tt4 = space();\n\t\t\tcreate_component(playerinfo.$$.fragment);\n\t\t\tt5 = space();\n\t\t\tsection2 = element(\"section\");\n\t\t\th32 = element(\"h3\");\n\t\t\th32.textContent = \"Moves\";\n\t\t\tt7 = space();\n\t\t\tul0 = element(\"ul\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt8 = space();\n\t\t\tsection3 = element(\"section\");\n\t\t\th33 = element(\"h3\");\n\t\t\th33.textContent = \"Events\";\n\t\t\tt10 = space();\n\t\t\tul1 = element(\"ul\");\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt11 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tt12 = space();\n\t\t\tif (if_block2) if_block2.c();\n\t\t\tt13 = space();\n\t\t\tsection4 = element(\"section\");\n\t\t\th34 = element(\"h3\");\n\t\t\th34.textContent = \"G\";\n\t\t\tt15 = space();\n\t\t\tcreate_component(jsontree0.$$.fragment);\n\t\t\tt16 = space();\n\t\t\tsection5 = element(\"section\");\n\t\t\th35 = element(\"h3\");\n\t\t\th35.textContent = \"ctx\";\n\t\t\tt18 = space();\n\t\t\tcreate_component(jsontree1.$$.fragment);\n\t\t\tt19 = space();\n\t\t\tcreate_component(clientswitcher.$$.fragment);\n\t\t\tattr(h30, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h31, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h32, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(ul0, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h33, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(ul1, \"class\", \"svelte-146sq5f\");\n\t\t\tattr(h34, \"class\", \"label svelte-146sq5f\");\n\t\t\tattr(section4, \"class\", \"tree svelte-146sq5f\");\n\t\t\tattr(h35, \"class\", \"label svelte-146sq5f\");\n\t\t\tattr(section5, \"class\", \"tree svelte-146sq5f\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tmount_component(controls, section0, null);\n\t\t\tinsert(target, t2, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t4);\n\t\t\tmount_component(playerinfo, section1, null);\n\t\t\tinsert(target, t5, anchor);\n\t\t\tinsert(target, section2, anchor);\n\t\t\tappend(section2, h32);\n\t\t\tappend(section2, t7);\n\t\t\tappend(section2, ul0);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(ul0, null);\n\t\t\t}\n\n\t\t\tinsert(target, t8, anchor);\n\t\t\tinsert(target, section3, anchor);\n\t\t\tappend(section3, h33);\n\t\t\tappend(section3, t10);\n\t\t\tappend(section3, ul1);\n\t\t\tif (if_block0) if_block0.m(ul1, null);\n\t\t\tappend(ul1, t11);\n\t\t\tif (if_block1) if_block1.m(ul1, null);\n\t\t\tappend(ul1, t12);\n\t\t\tif (if_block2) if_block2.m(ul1, null);\n\t\t\tinsert(target, t13, anchor);\n\t\t\tinsert(target, section4, anchor);\n\t\t\tappend(section4, h34);\n\t\t\tappend(section4, t15);\n\t\t\tmount_component(jsontree0, section4, null);\n\t\t\tinsert(target, t16, anchor);\n\t\t\tinsert(target, section5, anchor);\n\t\t\tappend(section5, h35);\n\t\t\tappend(section5, t18);\n\t\t\tmount_component(jsontree1, section5, null);\n\t\t\tinsert(target, t19, anchor);\n\t\t\tmount_component(clientswitcher, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst controls_changes = {};\n\t\t\tif (dirty & /*client*/ 1) controls_changes.client = /*client*/ ctx[0];\n\t\t\tif (dirty & /*ToggleVisibility*/ 4) controls_changes.ToggleVisibility = /*ToggleVisibility*/ ctx[2];\n\t\t\tcontrols.$set(controls_changes);\n\t\t\tconst playerinfo_changes = {};\n\t\t\tif (dirty & /*ctx*/ 64) playerinfo_changes.ctx = /*ctx*/ ctx[6];\n\t\t\tif (dirty & /*playerID*/ 8) playerinfo_changes.playerID = /*playerID*/ ctx[3];\n\t\t\tplayerinfo.$set(playerinfo_changes);\n\n\t\t\tif (dirty & /*shortcuts, Object, moves*/ 272) {\n\t\t\t\teach_value = Object.entries(/*moves*/ ctx[4]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$5(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$5(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(ul0, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*ctx*/ ctx[6].activePlayers && /*events*/ ctx[5].endStage) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*ctx, events*/ 96) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_2$2(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(ul1, t11);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*events*/ ctx[5].endTurn) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*events*/ 32) {\n\t\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_1$2(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\t\tif_block1.m(ul1, t12);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block1, 1, 1, () => {\n\t\t\t\t\tif_block1 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*ctx*/ ctx[6].phase && /*events*/ ctx[5].endPhase) {\n\t\t\t\tif (if_block2) {\n\t\t\t\t\tif_block2.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*ctx, events*/ 96) {\n\t\t\t\t\t\ttransition_in(if_block2, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block2 = create_if_block$7(ctx);\n\t\t\t\t\tif_block2.c();\n\t\t\t\t\ttransition_in(if_block2, 1);\n\t\t\t\t\tif_block2.m(ul1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block2) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block2, 1, 1, () => {\n\t\t\t\t\tif_block2 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tconst jsontree0_changes = {};\n\t\t\tif (dirty & /*G*/ 128) jsontree0_changes.value = /*G*/ ctx[7];\n\t\t\tjsontree0.$set(jsontree0_changes);\n\t\t\tconst jsontree1_changes = {};\n\t\t\tif (dirty & /*ctx*/ 64) jsontree1_changes.value = SanitizeCtx(/*ctx*/ ctx[6]);\n\t\t\tjsontree1.$set(jsontree1_changes);\n\t\t\tconst clientswitcher_changes = {};\n\t\t\tif (dirty & /*clientManager*/ 2) clientswitcher_changes.clientManager = /*clientManager*/ ctx[1];\n\t\t\tclientswitcher.$set(clientswitcher_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(controls.$$.fragment, local);\n\t\t\ttransition_in(playerinfo.$$.fragment, local);\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(if_block1);\n\t\t\ttransition_in(if_block2);\n\t\t\ttransition_in(jsontree0.$$.fragment, local);\n\t\t\ttransition_in(jsontree1.$$.fragment, local);\n\t\t\ttransition_in(clientswitcher.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(controls.$$.fragment, local);\n\t\t\ttransition_out(playerinfo.$$.fragment, local);\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(if_block1);\n\t\t\ttransition_out(if_block2);\n\t\t\ttransition_out(jsontree0.$$.fragment, local);\n\t\t\ttransition_out(jsontree1.$$.fragment, local);\n\t\t\ttransition_out(clientswitcher.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section0);\n\t\t\tdestroy_component(controls);\n\t\t\tif (detaching) detach(t2);\n\t\t\tif (detaching) detach(section1);\n\t\t\tdestroy_component(playerinfo);\n\t\t\tif (detaching) detach(t5);\n\t\t\tif (detaching) detach(section2);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(t8);\n\t\t\tif (detaching) detach(section3);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t\tif (if_block2) if_block2.d();\n\t\t\tif (detaching) detach(t13);\n\t\t\tif (detaching) detach(section4);\n\t\t\tdestroy_component(jsontree0);\n\t\t\tif (detaching) detach(t16);\n\t\t\tif (detaching) detach(section5);\n\t\t\tdestroy_component(jsontree1);\n\t\t\tif (detaching) detach(t19);\n\t\t\tdestroy_component(clientswitcher, detaching);\n\t\t}\n\t};\n}\n\nfunction SanitizeCtx(ctx) {\n\tlet r = {};\n\n\tfor (const key in ctx) {\n\t\tif (!key.startsWith('_')) {\n\t\t\tr[key] = ctx[key];\n\t\t}\n\t}\n\n\treturn r;\n}\n\nfunction instance$l($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { clientManager } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\tconst shortcuts = AssignShortcuts(client.moves, 'mlia');\n\tlet { playerID, moves, events } = client;\n\tlet ctx = {};\n\tlet G = {};\n\n\tclient.subscribe(state => {\n\t\tif (state) $$invalidate(7, { G, ctx } = state, G, $$invalidate(6, ctx));\n\t\t$$invalidate(3, { playerID, moves, events } = client, playerID, $$invalidate(4, moves), $$invalidate(5, events));\n\t});\n\n\tconst change_handler = e => clientManager.switchPlayerID(e.detail.playerID);\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate(0, client = $$props.client);\n\t\tif ('clientManager' in $$props) $$invalidate(1, clientManager = $$props.clientManager);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(2, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [\n\t\tclient,\n\t\tclientManager,\n\t\tToggleVisibility,\n\t\tplayerID,\n\t\tmoves,\n\t\tevents,\n\t\tctx,\n\t\tG,\n\t\tshortcuts,\n\t\tchange_handler\n\t];\n}\n\nclass Main extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$l,\n\t\t\tcreate_fragment$l,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tclient: 0,\n\t\t\t\tclientManager: 1,\n\t\t\t\tToggleVisibility: 2\n\t\t\t},\n\t\t\tadd_css$e\n\t\t);\n\t}\n}\n\n/* src/client/debug/info/Item.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$f(target) {\n\tappend_styles(target, \"svelte-13qih23\", \".item.svelte-13qih23.svelte-13qih23{padding:10px}.item.svelte-13qih23.svelte-13qih23:not(:first-child){border-top:1px dashed #aaa}.item.svelte-13qih23 div.svelte-13qih23{float:right;text-align:right}\");\n}\n\nfunction create_fragment$m(ctx) {\n\tlet div1;\n\tlet strong;\n\tlet t0;\n\tlet t1;\n\tlet div0;\n\tlet t2_value = JSON.stringify(/*value*/ ctx[1]) + \"\";\n\tlet t2;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tstrong = element(\"strong\");\n\t\t\tt0 = text(/*name*/ ctx[0]);\n\t\t\tt1 = space();\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt2 = text(t2_value);\n\t\t\tattr(div0, \"class\", \"svelte-13qih23\");\n\t\t\tattr(div1, \"class\", \"item svelte-13qih23\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, strong);\n\t\t\tappend(strong, t0);\n\t\t\tappend(div1, t1);\n\t\t\tappend(div1, div0);\n\t\t\tappend(div0, t2);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*name*/ 1) set_data(t0, /*name*/ ctx[0]);\n\t\t\tif (dirty & /*value*/ 2 && t2_value !== (t2_value = JSON.stringify(/*value*/ ctx[1]) + \"\")) set_data(t2, t2_value);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t}\n\t};\n}\n\nfunction instance$m($$self, $$props, $$invalidate) {\n\tlet { name } = $$props;\n\tlet { value } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('name' in $$props) $$invalidate(0, name = $$props.name);\n\t\tif ('value' in $$props) $$invalidate(1, value = $$props.value);\n\t};\n\n\treturn [name, value];\n}\n\nclass Item extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$m, create_fragment$m, safe_not_equal, { name: 0, value: 1 }, add_css$f);\n\t}\n}\n\n/* src/client/debug/info/Info.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$g(target) {\n\tappend_styles(target, \"svelte-1yzq5o8\", \".gameinfo.svelte-1yzq5o8{padding:10px}\");\n}\n\n// (19:2) {#if client.multiplayer}\nfunction create_if_block$8(ctx) {\n\tlet item;\n\tlet current;\n\n\titem = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"isConnected\",\n\t\t\t\tvalue: /*$client*/ ctx[1].isConnected\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(item.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(item, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst item_changes = {};\n\t\t\tif (dirty & /*$client*/ 2) item_changes.value = /*$client*/ ctx[1].isConnected;\n\t\t\titem.$set(item_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(item.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(item, detaching);\n\t\t}\n\t};\n}\n\nfunction create_fragment$n(ctx) {\n\tlet section;\n\tlet item0;\n\tlet t0;\n\tlet item1;\n\tlet t1;\n\tlet item2;\n\tlet t2;\n\tlet current;\n\n\titem0 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"matchID\",\n\t\t\t\tvalue: /*client*/ ctx[0].matchID\n\t\t\t}\n\t\t});\n\n\titem1 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"playerID\",\n\t\t\t\tvalue: /*client*/ ctx[0].playerID\n\t\t\t}\n\t\t});\n\n\titem2 = new Item({\n\t\t\tprops: {\n\t\t\t\tname: \"isActive\",\n\t\t\t\tvalue: /*$client*/ ctx[1].isActive\n\t\t\t}\n\t\t});\n\n\tlet if_block = /*client*/ ctx[0].multiplayer && create_if_block$8(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tcreate_component(item0.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tcreate_component(item1.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tcreate_component(item2.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(section, \"class\", \"gameinfo svelte-1yzq5o8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(item0, section, null);\n\t\t\tappend(section, t0);\n\t\t\tmount_component(item1, section, null);\n\t\t\tappend(section, t1);\n\t\t\tmount_component(item2, section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block) if_block.m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst item0_changes = {};\n\t\t\tif (dirty & /*client*/ 1) item0_changes.value = /*client*/ ctx[0].matchID;\n\t\t\titem0.$set(item0_changes);\n\t\t\tconst item1_changes = {};\n\t\t\tif (dirty & /*client*/ 1) item1_changes.value = /*client*/ ctx[0].playerID;\n\t\t\titem1.$set(item1_changes);\n\t\t\tconst item2_changes = {};\n\t\t\tif (dirty & /*$client*/ 2) item2_changes.value = /*$client*/ ctx[1].isActive;\n\t\t\titem2.$set(item2_changes);\n\n\t\t\tif (/*client*/ ctx[0].multiplayer) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*client*/ 1) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$8(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(item0.$$.fragment, local);\n\t\t\ttransition_in(item1.$$.fragment, local);\n\t\t\ttransition_in(item2.$$.fragment, local);\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(item0.$$.fragment, local);\n\t\t\ttransition_out(item1.$$.fragment, local);\n\t\t\ttransition_out(item2.$$.fragment, local);\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(item0);\n\t\t\tdestroy_component(item1);\n\t\t\tdestroy_component(item2);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$n($$self, $$props, $$invalidate) {\n\tlet $client,\n\t\t$$unsubscribe_client = noop,\n\t\t$$subscribe_client = () => ($$unsubscribe_client(), $$unsubscribe_client = subscribe(client, $$value => $$invalidate(1, $client = $$value)), client);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_client());\n\tlet { client } = $$props;\n\t$$subscribe_client();\n\tlet { clientManager } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$subscribe_client($$invalidate(0, client = $$props.client));\n\t\tif ('clientManager' in $$props) $$invalidate(2, clientManager = $$props.clientManager);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(3, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [client, $client, clientManager, ToggleVisibility];\n}\n\nclass Info extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$n,\n\t\t\tcreate_fragment$n,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tclient: 0,\n\t\t\t\tclientManager: 2,\n\t\t\t\tToggleVisibility: 3\n\t\t\t},\n\t\t\tadd_css$g\n\t\t);\n\t}\n}\n\n/* src/client/debug/log/TurnMarker.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$h(target) {\n\tappend_styles(target, \"svelte-6eza86\", \".turn-marker.svelte-6eza86{display:flex;justify-content:center;align-items:center;grid-column:1;background:#555;color:#eee;text-align:center;font-weight:bold;border:1px solid #888}\");\n}\n\nfunction create_fragment$o(ctx) {\n\tlet div;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(/*turn*/ ctx[0]);\n\t\t\tattr(div, \"class\", \"turn-marker svelte-6eza86\");\n\t\t\tattr(div, \"style\", /*style*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*turn*/ 1) set_data(t, /*turn*/ ctx[0]);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$o($$self, $$props, $$invalidate) {\n\tlet { turn } = $$props;\n\tlet { numEvents } = $$props;\n\tconst style = `grid-row: span ${numEvents}`;\n\n\t$$self.$$set = $$props => {\n\t\tif ('turn' in $$props) $$invalidate(0, turn = $$props.turn);\n\t\tif ('numEvents' in $$props) $$invalidate(2, numEvents = $$props.numEvents);\n\t};\n\n\treturn [turn, style, numEvents];\n}\n\nclass TurnMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$o, create_fragment$o, safe_not_equal, { turn: 0, numEvents: 2 }, add_css$h);\n\t}\n}\n\n/* src/client/debug/log/PhaseMarker.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$i(target) {\n\tappend_styles(target, \"svelte-1t4xap\", \".phase-marker.svelte-1t4xap{grid-column:3;background:#555;border:1px solid #888;color:#eee;text-align:center;font-weight:bold;padding-top:10px;padding-bottom:10px;text-orientation:sideways;writing-mode:vertical-rl;line-height:30px;width:100%}\");\n}\n\nfunction create_fragment$p(ctx) {\n\tlet div;\n\tlet t_value = (/*phase*/ ctx[0] || '') + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"phase-marker svelte-1t4xap\");\n\t\t\tattr(div, \"style\", /*style*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*phase*/ 1 && t_value !== (t_value = (/*phase*/ ctx[0] || '') + \"\")) set_data(t, t_value);\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$p($$self, $$props, $$invalidate) {\n\tlet { phase } = $$props;\n\tlet { numEvents } = $$props;\n\tconst style = `grid-row: span ${numEvents}`;\n\n\t$$self.$$set = $$props => {\n\t\tif ('phase' in $$props) $$invalidate(0, phase = $$props.phase);\n\t\tif ('numEvents' in $$props) $$invalidate(2, numEvents = $$props.numEvents);\n\t};\n\n\treturn [phase, style, numEvents];\n}\n\nclass PhaseMarker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$p, create_fragment$p, safe_not_equal, { phase: 0, numEvents: 2 }, add_css$i);\n\t}\n}\n\n/* src/client/debug/log/LogMetadata.svelte generated by Svelte v3.41.0 */\n\nfunction create_fragment$q(ctx) {\n\tlet div;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tdiv.textContent = `${/*renderedMetadata*/ ctx[0]}`;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$q($$self, $$props, $$invalidate) {\n\tlet { metadata } = $$props;\n\n\tconst renderedMetadata = metadata !== undefined\n\t? JSON.stringify(metadata, null, 4)\n\t: '';\n\n\t$$self.$$set = $$props => {\n\t\tif ('metadata' in $$props) $$invalidate(1, metadata = $$props.metadata);\n\t};\n\n\treturn [renderedMetadata, metadata];\n}\n\nclass LogMetadata extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$q, create_fragment$q, safe_not_equal, { metadata: 1 });\n\t}\n}\n\n/* src/client/debug/log/LogEvent.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$j(target) {\n\tappend_styles(target, \"svelte-vajd9z\", \".log-event.svelte-vajd9z{grid-column:2;cursor:pointer;overflow:hidden;display:flex;flex-direction:column;justify-content:center;background:#fff;border:1px dotted #ccc;border-left:5px solid #ccc;padding:5px;text-align:center;color:#666;font-size:14px;min-height:25px;line-height:25px}.log-event.svelte-vajd9z:hover,.log-event.svelte-vajd9z:focus{border-style:solid;background:#eee}.log-event.pinned.svelte-vajd9z{border-style:solid;background:#eee;opacity:1}.args.svelte-vajd9z{text-align:left;white-space:pre-wrap}.player0.svelte-vajd9z{border-left-color:#ff851b}.player1.svelte-vajd9z{border-left-color:#7fdbff}.player2.svelte-vajd9z{border-left-color:#0074d9}.player3.svelte-vajd9z{border-left-color:#39cccc}.player4.svelte-vajd9z{border-left-color:#3d9970}.player5.svelte-vajd9z{border-left-color:#2ecc40}.player6.svelte-vajd9z{border-left-color:#01ff70}.player7.svelte-vajd9z{border-left-color:#ffdc00}.player8.svelte-vajd9z{border-left-color:#001f3f}.player9.svelte-vajd9z{border-left-color:#ff4136}.player10.svelte-vajd9z{border-left-color:#85144b}.player11.svelte-vajd9z{border-left-color:#f012be}.player12.svelte-vajd9z{border-left-color:#b10dc9}.player13.svelte-vajd9z{border-left-color:#111111}.player14.svelte-vajd9z{border-left-color:#aaaaaa}.player15.svelte-vajd9z{border-left-color:#dddddd}\");\n}\n\n// (146:2) {:else}\nfunction create_else_block$1(ctx) {\n\tlet logmetadata;\n\tlet current;\n\tlogmetadata = new LogMetadata({ props: { metadata: /*metadata*/ ctx[2] } });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(logmetadata.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(logmetadata, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst logmetadata_changes = {};\n\t\t\tif (dirty & /*metadata*/ 4) logmetadata_changes.metadata = /*metadata*/ ctx[2];\n\t\t\tlogmetadata.$set(logmetadata_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(logmetadata.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(logmetadata.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(logmetadata, detaching);\n\t\t}\n\t};\n}\n\n// (144:2) {#if metadataComponent}\nfunction create_if_block$9(ctx) {\n\tlet switch_instance;\n\tlet switch_instance_anchor;\n\tlet current;\n\tvar switch_value = /*metadataComponent*/ ctx[3];\n\n\tfunction switch_props(ctx) {\n\t\treturn { props: { metadata: /*metadata*/ ctx[2] } };\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tswitch_instance_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, switch_instance_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*metadata*/ 4) switch_instance_changes.metadata = /*metadata*/ ctx[2];\n\n\t\t\tif (switch_value !== (switch_value = /*metadataComponent*/ ctx[3])) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(switch_instance_anchor);\n\t\t\tif (switch_instance) destroy_component(switch_instance, detaching);\n\t\t}\n\t};\n}\n\nfunction create_fragment$r(ctx) {\n\tlet button;\n\tlet div;\n\tlet t0;\n\tlet t1;\n\tlet t2;\n\tlet t3;\n\tlet t4;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet button_class_value;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$9, create_else_block$1];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*metadataComponent*/ ctx[3]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt0 = text(/*actionType*/ ctx[4]);\n\t\t\tt1 = text(\"(\");\n\t\t\tt2 = text(/*renderedArgs*/ ctx[6]);\n\t\t\tt3 = text(\")\");\n\t\t\tt4 = space();\n\t\t\tif_block.c();\n\t\t\tattr(div, \"class\", \"args svelte-vajd9z\");\n\t\t\tattr(button, \"class\", button_class_value = \"log-event player\" + /*playerID*/ ctx[7] + \" svelte-vajd9z\");\n\t\t\ttoggle_class(button, \"pinned\", /*pinned*/ ctx[1]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t0);\n\t\t\tappend(div, t1);\n\t\t\tappend(div, t2);\n\t\t\tappend(div, t3);\n\t\t\tappend(button, t4);\n\t\t\tif_blocks[current_block_type_index].m(button, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(button, \"click\", /*click_handler*/ ctx[9]),\n\t\t\t\t\tlisten(button, \"mouseenter\", /*mouseenter_handler*/ ctx[10]),\n\t\t\t\t\tlisten(button, \"focus\", /*focus_handler*/ ctx[11]),\n\t\t\t\t\tlisten(button, \"mouseleave\", /*mouseleave_handler*/ ctx[12]),\n\t\t\t\t\tlisten(button, \"blur\", /*blur_handler*/ ctx[13])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (!current || dirty & /*actionType*/ 16) set_data(t0, /*actionType*/ ctx[4]);\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(button, null);\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned*/ 2) {\n\t\t\t\ttoggle_class(button, \"pinned\", /*pinned*/ ctx[1]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance$r($$self, $$props, $$invalidate) {\n\tlet { logIndex } = $$props;\n\tlet { action } = $$props;\n\tlet { pinned } = $$props;\n\tlet { metadata } = $$props;\n\tlet { metadataComponent } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tconst args = action.payload.args;\n\n\tconst renderedArgs = Array.isArray(args)\n\t? args.map(arg => JSON.stringify(arg, null, 2)).join(',')\n\t: JSON.stringify(args, null, 2) || '';\n\n\tconst playerID = action.payload.playerID;\n\tlet actionType;\n\n\tswitch (action.type) {\n\t\tcase 'UNDO':\n\t\t\tactionType = 'undo';\n\t\t\tbreak;\n\t\tcase 'REDO':\n\t\t\tactionType = 'redo';\n\t\tcase 'GAME_EVENT':\n\t\tcase 'MAKE_MOVE':\n\t\tdefault:\n\t\t\tactionType = action.payload.type;\n\t\t\tbreak;\n\t}\n\n\tconst click_handler = () => dispatch('click', { logIndex });\n\tconst mouseenter_handler = () => dispatch('mouseenter', { logIndex });\n\tconst focus_handler = () => dispatch('mouseenter', { logIndex });\n\tconst mouseleave_handler = () => dispatch('mouseleave');\n\tconst blur_handler = () => dispatch('mouseleave');\n\n\t$$self.$$set = $$props => {\n\t\tif ('logIndex' in $$props) $$invalidate(0, logIndex = $$props.logIndex);\n\t\tif ('action' in $$props) $$invalidate(8, action = $$props.action);\n\t\tif ('pinned' in $$props) $$invalidate(1, pinned = $$props.pinned);\n\t\tif ('metadata' in $$props) $$invalidate(2, metadata = $$props.metadata);\n\t\tif ('metadataComponent' in $$props) $$invalidate(3, metadataComponent = $$props.metadataComponent);\n\t};\n\n\treturn [\n\t\tlogIndex,\n\t\tpinned,\n\t\tmetadata,\n\t\tmetadataComponent,\n\t\tactionType,\n\t\tdispatch,\n\t\trenderedArgs,\n\t\tplayerID,\n\t\taction,\n\t\tclick_handler,\n\t\tmouseenter_handler,\n\t\tfocus_handler,\n\t\tmouseleave_handler,\n\t\tblur_handler\n\t];\n}\n\nclass LogEvent extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$r,\n\t\t\tcreate_fragment$r,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tlogIndex: 0,\n\t\t\t\taction: 8,\n\t\t\t\tpinned: 1,\n\t\t\t\tmetadata: 2,\n\t\t\t\tmetadataComponent: 3\n\t\t\t},\n\t\t\tadd_css$j\n\t\t);\n\t}\n}\n\n/* node_modules/svelte-icons/fa/FaArrowAltCircleDown.svelte generated by Svelte v3.41.0 */\n\nfunction create_default_slot$1(ctx) {\n\tlet path;\n\n\treturn {\n\t\tc() {\n\t\t\tpath = svg_element(\"path\");\n\t\t\tattr(path, \"d\", \"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, path, anchor);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(path);\n\t\t}\n\t};\n}\n\nfunction create_fragment$s(ctx) {\n\tlet iconbase;\n\tlet current;\n\tconst iconbase_spread_levels = [{ viewBox: \"0 0 512 512\" }, /*$$props*/ ctx[0]];\n\n\tlet iconbase_props = {\n\t\t$$slots: { default: [create_default_slot$1] },\n\t\t$$scope: { ctx }\n\t};\n\n\tfor (let i = 0; i < iconbase_spread_levels.length; i += 1) {\n\t\ticonbase_props = assign(iconbase_props, iconbase_spread_levels[i]);\n\t}\n\n\ticonbase = new IconBase({ props: iconbase_props });\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(iconbase.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(iconbase, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tconst iconbase_changes = (dirty & /*$$props*/ 1)\n\t\t\t? get_spread_update(iconbase_spread_levels, [iconbase_spread_levels[0], get_spread_object(/*$$props*/ ctx[0])])\n\t\t\t: {};\n\n\t\t\tif (dirty & /*$$scope*/ 2) {\n\t\t\t\ticonbase_changes.$$scope = { dirty, ctx };\n\t\t\t}\n\n\t\t\ticonbase.$set(iconbase_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(iconbase.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(iconbase.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(iconbase, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$s($$self, $$props, $$invalidate) {\n\t$$self.$$set = $$new_props => {\n\t\t$$invalidate(0, $$props = assign(assign({}, $$props), exclude_internal_props($$new_props)));\n\t};\n\n\t$$props = exclude_internal_props($$props);\n\treturn [$$props];\n}\n\nclass FaArrowAltCircleDown extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$s, create_fragment$s, safe_not_equal, {});\n\t}\n}\n\n/* src/client/debug/mcts/Action.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$k(target) {\n\tappend_styles(target, \"svelte-1a7time\", \"div.svelte-1a7time{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:500px}\");\n}\n\nfunction create_fragment$t(ctx) {\n\tlet div;\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(/*text*/ ctx[0]);\n\t\t\tattr(div, \"alt\", /*text*/ ctx[0]);\n\t\t\tattr(div, \"class\", \"svelte-1a7time\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*text*/ 1) set_data(t, /*text*/ ctx[0]);\n\n\t\t\tif (dirty & /*text*/ 1) {\n\t\t\t\tattr(div, \"alt\", /*text*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\nfunction instance$t($$self, $$props, $$invalidate) {\n\tlet { action } = $$props;\n\tlet text;\n\n\t$$self.$$set = $$props => {\n\t\tif ('action' in $$props) $$invalidate(1, action = $$props.action);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*action*/ 2) {\n\t\t\t {\n\t\t\t\tconst { type, args } = action.payload;\n\t\t\t\tconst argsFormatted = (args || []).join(',');\n\t\t\t\t$$invalidate(0, text = `${type}(${argsFormatted})`);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [text, action];\n}\n\nclass Action extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$t, create_fragment$t, safe_not_equal, { action: 1 }, add_css$k);\n\t}\n}\n\n/* src/client/debug/mcts/Table.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$l(target) {\n\tappend_styles(target, \"svelte-ztcwsu\", \"table.svelte-ztcwsu.svelte-ztcwsu{font-size:12px;border-collapse:collapse;border:1px solid #ddd;padding:0}tr.svelte-ztcwsu.svelte-ztcwsu{cursor:pointer}tr.svelte-ztcwsu:hover td.svelte-ztcwsu{background:#eee}tr.selected.svelte-ztcwsu td.svelte-ztcwsu{background:#eee}td.svelte-ztcwsu.svelte-ztcwsu{padding:10px;height:10px;line-height:10px;font-size:12px;border:none}th.svelte-ztcwsu.svelte-ztcwsu{background:#888;color:#fff;padding:10px;text-align:center}\");\n}\n\nfunction get_each_context$6(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[10] = list[i];\n\tchild_ctx[12] = i;\n\treturn child_ctx;\n}\n\n// (86:2) {#each children as child, i}\nfunction create_each_block$6(ctx) {\n\tlet tr;\n\tlet td0;\n\tlet t0_value = /*child*/ ctx[10].value + \"\";\n\tlet t0;\n\tlet t1;\n\tlet td1;\n\tlet t2_value = /*child*/ ctx[10].visits + \"\";\n\tlet t2;\n\tlet t3;\n\tlet td2;\n\tlet action;\n\tlet t4;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\n\taction = new Action({\n\t\t\tprops: { action: /*child*/ ctx[10].parentAction }\n\t\t});\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[6](/*child*/ ctx[10], /*i*/ ctx[12]);\n\t}\n\n\tfunction mouseout_handler() {\n\t\treturn /*mouseout_handler*/ ctx[7](/*i*/ ctx[12]);\n\t}\n\n\tfunction mouseover_handler() {\n\t\treturn /*mouseover_handler*/ ctx[8](/*child*/ ctx[10], /*i*/ ctx[12]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\ttr = element(\"tr\");\n\t\t\ttd0 = element(\"td\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\ttd1 = element(\"td\");\n\t\t\tt2 = text(t2_value);\n\t\t\tt3 = space();\n\t\t\ttd2 = element(\"td\");\n\t\t\tcreate_component(action.$$.fragment);\n\t\t\tt4 = space();\n\t\t\tattr(td0, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td1, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(td2, \"class\", \"svelte-ztcwsu\");\n\t\t\tattr(tr, \"class\", \"svelte-ztcwsu\");\n\t\t\ttoggle_class(tr, \"clickable\", /*children*/ ctx[1].length > 0);\n\t\t\ttoggle_class(tr, \"selected\", /*i*/ ctx[12] === /*selectedIndex*/ ctx[0]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, tr, anchor);\n\t\t\tappend(tr, td0);\n\t\t\tappend(td0, t0);\n\t\t\tappend(tr, t1);\n\t\t\tappend(tr, td1);\n\t\t\tappend(td1, t2);\n\t\t\tappend(tr, t3);\n\t\t\tappend(tr, td2);\n\t\t\tmount_component(action, td2, null);\n\t\t\tappend(tr, t4);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(tr, \"click\", click_handler),\n\t\t\t\t\tlisten(tr, \"mouseout\", mouseout_handler),\n\t\t\t\t\tlisten(tr, \"mouseover\", mouseover_handler)\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif ((!current || dirty & /*children*/ 2) && t0_value !== (t0_value = /*child*/ ctx[10].value + \"\")) set_data(t0, t0_value);\n\t\t\tif ((!current || dirty & /*children*/ 2) && t2_value !== (t2_value = /*child*/ ctx[10].visits + \"\")) set_data(t2, t2_value);\n\t\t\tconst action_changes = {};\n\t\t\tif (dirty & /*children*/ 2) action_changes.action = /*child*/ ctx[10].parentAction;\n\t\t\taction.$set(action_changes);\n\n\t\t\tif (dirty & /*children*/ 2) {\n\t\t\t\ttoggle_class(tr, \"clickable\", /*children*/ ctx[1].length > 0);\n\t\t\t}\n\n\t\t\tif (dirty & /*selectedIndex*/ 1) {\n\t\t\t\ttoggle_class(tr, \"selected\", /*i*/ ctx[12] === /*selectedIndex*/ ctx[0]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(action.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(action.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(tr);\n\t\t\tdestroy_component(action);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction create_fragment$u(ctx) {\n\tlet table;\n\tlet thead;\n\tlet t5;\n\tlet tbody;\n\tlet current;\n\tlet each_value = /*children*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$6(get_each_context$6(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\ttable = element(\"table\");\n\t\t\tthead = element(\"thead\");\n\n\t\t\tthead.innerHTML = `<th class=\"svelte-ztcwsu\">Value</th> \n    <th class=\"svelte-ztcwsu\">Visits</th> \n    <th class=\"svelte-ztcwsu\">Action</th>`;\n\n\t\t\tt5 = space();\n\t\t\ttbody = element(\"tbody\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(table, \"class\", \"svelte-ztcwsu\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, table, anchor);\n\t\t\tappend(table, thead);\n\t\t\tappend(table, t5);\n\t\t\tappend(table, tbody);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*children, selectedIndex, Select, Preview*/ 15) {\n\t\t\t\teach_value = /*children*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$6(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$6(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(tbody, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(table);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t}\n\t};\n}\n\nfunction instance$u($$self, $$props, $$invalidate) {\n\tlet { root } = $$props;\n\tlet { selectedIndex = null } = $$props;\n\tconst dispatch = createEventDispatcher();\n\tlet parents = [];\n\tlet children = [];\n\n\tfunction Select(node, i) {\n\t\tdispatch('select', { node, selectedIndex: i });\n\t}\n\n\tfunction Preview(node, i) {\n\t\tif (selectedIndex === null) {\n\t\t\tdispatch('preview', { node });\n\t\t}\n\t}\n\n\tconst click_handler = (child, i) => Select(child, i);\n\tconst mouseout_handler = i => Preview(null);\n\tconst mouseover_handler = (child, i) => Preview(child);\n\n\t$$self.$$set = $$props => {\n\t\tif ('root' in $$props) $$invalidate(4, root = $$props.root);\n\t\tif ('selectedIndex' in $$props) $$invalidate(0, selectedIndex = $$props.selectedIndex);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*root, parents*/ 48) {\n\t\t\t {\n\t\t\t\tlet t = root;\n\t\t\t\t$$invalidate(5, parents = []);\n\n\t\t\t\twhile (t.parent) {\n\t\t\t\t\tconst parent = t.parent;\n\t\t\t\t\tconst { type, args } = t.parentAction.payload;\n\t\t\t\t\tconst argsFormatted = (args || []).join(',');\n\t\t\t\t\tconst arrowText = `${type}(${argsFormatted})`;\n\t\t\t\t\tparents.push({ parent, arrowText });\n\t\t\t\t\tt = parent;\n\t\t\t\t}\n\n\t\t\t\tparents.reverse();\n\t\t\t\t$$invalidate(1, children = [...root.children].sort((a, b) => a.visits < b.visits ? 1 : -1).slice(0, 50));\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tselectedIndex,\n\t\tchildren,\n\t\tSelect,\n\t\tPreview,\n\t\troot,\n\t\tparents,\n\t\tclick_handler,\n\t\tmouseout_handler,\n\t\tmouseover_handler\n\t];\n}\n\nclass Table extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$u, create_fragment$u, safe_not_equal, { root: 4, selectedIndex: 0 }, add_css$l);\n\t}\n}\n\n/* src/client/debug/mcts/MCTS.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$m(target) {\n\tappend_styles(target, \"svelte-1f0amz4\", \".visualizer.svelte-1f0amz4{display:flex;flex-direction:column;align-items:center;padding:50px}.preview.svelte-1f0amz4{opacity:0.5}.icon.svelte-1f0amz4{color:#777;width:32px;height:32px;margin-bottom:20px}\");\n}\n\nfunction get_each_context$7(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[9] = list[i].node;\n\tchild_ctx[10] = list[i].selectedIndex;\n\tchild_ctx[12] = i;\n\treturn child_ctx;\n}\n\n// (50:4) {#if i !== 0}\nfunction create_if_block_2$3(ctx) {\n\tlet div;\n\tlet arrow;\n\tlet current;\n\tarrow = new FaArrowAltCircleDown({});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tcreate_component(arrow.$$.fragment);\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_component(arrow);\n\t\t}\n\t};\n}\n\n// (61:6) {:else}\nfunction create_else_block$2(ctx) {\n\tlet table;\n\tlet current;\n\n\tfunction select_handler_1(...args) {\n\t\treturn /*select_handler_1*/ ctx[7](/*i*/ ctx[12], ...args);\n\t}\n\n\ttable = new Table({\n\t\t\tprops: {\n\t\t\t\troot: /*node*/ ctx[9],\n\t\t\t\tselectedIndex: /*selectedIndex*/ ctx[10]\n\t\t\t}\n\t\t});\n\n\ttable.$on(\"select\", select_handler_1);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(table.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.root = /*node*/ ctx[9];\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.selectedIndex = /*selectedIndex*/ ctx[10];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (57:6) {#if i === nodes.length - 1}\nfunction create_if_block_1$3(ctx) {\n\tlet table;\n\tlet current;\n\n\tfunction select_handler(...args) {\n\t\treturn /*select_handler*/ ctx[5](/*i*/ ctx[12], ...args);\n\t}\n\n\tfunction preview_handler(...args) {\n\t\treturn /*preview_handler*/ ctx[6](/*i*/ ctx[12], ...args);\n\t}\n\n\ttable = new Table({ props: { root: /*node*/ ctx[9] } });\n\ttable.$on(\"select\", select_handler);\n\ttable.$on(\"preview\", preview_handler);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(table.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(table, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*nodes*/ 1) table_changes.root = /*node*/ ctx[9];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(table, detaching);\n\t\t}\n\t};\n}\n\n// (49:2) {#each nodes as { node, selectedIndex }\nfunction create_each_block$7(ctx) {\n\tlet t;\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block1;\n\tlet current;\n\tlet if_block0 = /*i*/ ctx[12] !== 0 && create_if_block_2$3();\n\tconst if_block_creators = [create_if_block_1$3, create_else_block$2];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*i*/ ctx[12] === /*nodes*/ ctx[0].length - 1) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\tif_block1.c();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block1 = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block1) {\n\t\t\t\t\tif_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block1, 1);\n\t\t\t\tif_block1.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block0);\n\t\t\ttransition_in(if_block1);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block0);\n\t\t\ttransition_out(if_block1);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block0) if_block0.d(detaching);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t}\n\t};\n}\n\n// (69:2) {#if preview}\nfunction create_if_block$a(ctx) {\n\tlet div;\n\tlet arrow;\n\tlet t;\n\tlet section;\n\tlet table;\n\tlet current;\n\tarrow = new FaArrowAltCircleDown({});\n\ttable = new Table({ props: { root: /*preview*/ ctx[1] } });\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tcreate_component(arrow.$$.fragment);\n\t\t\tt = space();\n\t\t\tsection = element(\"section\");\n\t\t\tcreate_component(table.$$.fragment);\n\t\t\tattr(div, \"class\", \"icon svelte-1f0amz4\");\n\t\t\tattr(section, \"class\", \"preview svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tmount_component(arrow, div, null);\n\t\t\tinsert(target, t, anchor);\n\t\t\tinsert(target, section, anchor);\n\t\t\tmount_component(table, section, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst table_changes = {};\n\t\t\tif (dirty & /*preview*/ 2) table_changes.root = /*preview*/ ctx[1];\n\t\t\ttable.$set(table_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(arrow.$$.fragment, local);\n\t\t\ttransition_in(table.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(arrow.$$.fragment, local);\n\t\t\ttransition_out(table.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_component(arrow);\n\t\t\tif (detaching) detach(t);\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(table);\n\t\t}\n\t};\n}\n\nfunction create_fragment$v(ctx) {\n\tlet div;\n\tlet t;\n\tlet current;\n\tlet each_value = /*nodes*/ ctx[0];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$7(get_each_context$7(ctx, each_value, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\tlet if_block = /*preview*/ ctx[1] && create_if_block$a(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(div, \"class\", \"visualizer svelte-1f0amz4\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t);\n\t\t\tif (if_block) if_block.m(div, null);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*nodes, SelectNode, PreviewNode*/ 13) {\n\t\t\t\teach_value = /*nodes*/ ctx[0];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$7(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$7(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*preview*/ ctx[1]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*preview*/ 2) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$a(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(div, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (if_block) if_block.d();\n\t\t}\n\t};\n}\n\nfunction instance$v($$self, $$props, $$invalidate) {\n\tlet { metadata } = $$props;\n\tlet nodes = [];\n\tlet preview = null;\n\n\tfunction SelectNode({ node, selectedIndex }, i) {\n\t\t$$invalidate(1, preview = null);\n\t\t$$invalidate(0, nodes[i].selectedIndex = selectedIndex, nodes);\n\t\t$$invalidate(0, nodes = [...nodes.slice(0, i + 1), { node }]);\n\t}\n\n\tfunction PreviewNode({ node }, i) {\n\t\t$$invalidate(1, preview = node);\n\t}\n\n\tconst select_handler = (i, e) => SelectNode(e.detail, i);\n\tconst preview_handler = (i, e) => PreviewNode(e.detail);\n\tconst select_handler_1 = (i, e) => SelectNode(e.detail, i);\n\n\t$$self.$$set = $$props => {\n\t\tif ('metadata' in $$props) $$invalidate(4, metadata = $$props.metadata);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*metadata*/ 16) {\n\t\t\t {\n\t\t\t\t$$invalidate(0, nodes = [{ node: metadata }]);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tnodes,\n\t\tpreview,\n\t\tSelectNode,\n\t\tPreviewNode,\n\t\tmetadata,\n\t\tselect_handler,\n\t\tpreview_handler,\n\t\tselect_handler_1\n\t];\n}\n\nclass MCTS extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$v, create_fragment$v, safe_not_equal, { metadata: 4 }, add_css$m);\n\t}\n}\n\n/* src/client/debug/log/Log.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$n(target) {\n\tappend_styles(target, \"svelte-1pq5e4b\", \".gamelog.svelte-1pq5e4b{display:grid;grid-template-columns:30px 1fr 30px;grid-auto-rows:auto;grid-auto-flow:column}\");\n}\n\nfunction get_each_context$8(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[16] = list[i].phase;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[19] = list[i].action;\n\tchild_ctx[20] = list[i].metadata;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[22] = list[i].turn;\n\tchild_ctx[18] = i;\n\treturn child_ctx;\n}\n\n// (136:4) {#if i in turnBoundaries}\nfunction create_if_block_1$4(ctx) {\n\tlet turnmarker;\n\tlet current;\n\n\tturnmarker = new TurnMarker({\n\t\t\tprops: {\n\t\t\t\tturn: /*turn*/ ctx[22],\n\t\t\t\tnumEvents: /*turnBoundaries*/ ctx[3][/*i*/ ctx[18]]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(turnmarker.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(turnmarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst turnmarker_changes = {};\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) turnmarker_changes.turn = /*turn*/ ctx[22];\n\t\t\tif (dirty & /*turnBoundaries*/ 8) turnmarker_changes.numEvents = /*turnBoundaries*/ ctx[3][/*i*/ ctx[18]];\n\t\t\tturnmarker.$set(turnmarker_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(turnmarker.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(turnmarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(turnmarker, detaching);\n\t\t}\n\t};\n}\n\n// (135:2) {#each renderedLogEntries as { turn }\nfunction create_each_block_2(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*i*/ ctx[18] in /*turnBoundaries*/ ctx[3] && create_if_block_1$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*i*/ ctx[18] in /*turnBoundaries*/ ctx[3]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*turnBoundaries*/ 8) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$4(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\n// (141:2) {#each renderedLogEntries as { action, metadata }\nfunction create_each_block_1(ctx) {\n\tlet logevent;\n\tlet current;\n\n\tlogevent = new LogEvent({\n\t\t\tprops: {\n\t\t\t\tpinned: /*i*/ ctx[18] === /*pinned*/ ctx[2],\n\t\t\t\tlogIndex: /*i*/ ctx[18],\n\t\t\t\taction: /*action*/ ctx[19],\n\t\t\t\tmetadata: /*metadata*/ ctx[20]\n\t\t\t}\n\t\t});\n\n\tlogevent.$on(\"click\", /*OnLogClick*/ ctx[5]);\n\tlogevent.$on(\"mouseenter\", /*OnMouseEnter*/ ctx[6]);\n\tlogevent.$on(\"mouseleave\", /*OnMouseLeave*/ ctx[7]);\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(logevent.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(logevent, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst logevent_changes = {};\n\t\t\tif (dirty & /*pinned*/ 4) logevent_changes.pinned = /*i*/ ctx[18] === /*pinned*/ ctx[2];\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) logevent_changes.action = /*action*/ ctx[19];\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) logevent_changes.metadata = /*metadata*/ ctx[20];\n\t\t\tlogevent.$set(logevent_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(logevent.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(logevent.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(logevent, detaching);\n\t\t}\n\t};\n}\n\n// (153:4) {#if i in phaseBoundaries}\nfunction create_if_block$b(ctx) {\n\tlet phasemarker;\n\tlet current;\n\n\tphasemarker = new PhaseMarker({\n\t\t\tprops: {\n\t\t\t\tphase: /*phase*/ ctx[16],\n\t\t\t\tnumEvents: /*phaseBoundaries*/ ctx[4][/*i*/ ctx[18]]\n\t\t\t}\n\t\t});\n\n\treturn {\n\t\tc() {\n\t\t\tcreate_component(phasemarker.$$.fragment);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tmount_component(phasemarker, target, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst phasemarker_changes = {};\n\t\t\tif (dirty & /*renderedLogEntries*/ 2) phasemarker_changes.phase = /*phase*/ ctx[16];\n\t\t\tif (dirty & /*phaseBoundaries*/ 16) phasemarker_changes.numEvents = /*phaseBoundaries*/ ctx[4][/*i*/ ctx[18]];\n\t\t\tphasemarker.$set(phasemarker_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(phasemarker.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(phasemarker.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tdestroy_component(phasemarker, detaching);\n\t\t}\n\t};\n}\n\n// (152:2) {#each renderedLogEntries as { phase }\nfunction create_each_block$8(ctx) {\n\tlet if_block_anchor;\n\tlet current;\n\tlet if_block = /*i*/ ctx[18] in /*phaseBoundaries*/ ctx[4] && create_if_block$b(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tif (if_block) if_block.c();\n\t\t\tif_block_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tif (if_block) if_block.m(target, anchor);\n\t\t\tinsert(target, if_block_anchor, anchor);\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*i*/ ctx[18] in /*phaseBoundaries*/ ctx[4]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*phaseBoundaries*/ 16) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block$b(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(if_block_anchor.parentNode, if_block_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (if_block) if_block.d(detaching);\n\t\t\tif (detaching) detach(if_block_anchor);\n\t\t}\n\t};\n}\n\nfunction create_fragment$w(ctx) {\n\tlet div;\n\tlet t0;\n\tlet t1;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_2 = /*renderedLogEntries*/ ctx[1];\n\tlet each_blocks_2 = [];\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\teach_blocks_2[i] = create_each_block_2(get_each_context_2(ctx, each_value_2, i));\n\t}\n\n\tconst out = i => transition_out(each_blocks_2[i], 1, 1, () => {\n\t\teach_blocks_2[i] = null;\n\t});\n\n\tlet each_value_1 = /*renderedLogEntries*/ ctx[1];\n\tlet each_blocks_1 = [];\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\teach_blocks_1[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n\t}\n\n\tconst out_1 = i => transition_out(each_blocks_1[i], 1, 1, () => {\n\t\teach_blocks_1[i] = null;\n\t});\n\n\tlet each_value = /*renderedLogEntries*/ ctx[1];\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$8(get_each_context$8(ctx, each_value, i));\n\t}\n\n\tconst out_2 = i => transition_out(each_blocks[i], 1, 1, () => {\n\t\teach_blocks[i] = null;\n\t});\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tt0 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tt1 = space();\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div, \"class\", \"gamelog svelte-1pq5e4b\");\n\t\t\ttoggle_class(div, \"pinned\", /*pinned*/ ctx[2]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t0);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div, null);\n\t\t\t}\n\n\t\t\tappend(div, t1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keydown\", /*OnKeyDown*/ ctx[8]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*renderedLogEntries, turnBoundaries*/ 10) {\n\t\t\t\teach_value_2 = /*renderedLogEntries*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_2(ctx, each_value_2, i);\n\n\t\t\t\t\tif (each_blocks_2[i]) {\n\t\t\t\t\t\teach_blocks_2[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_2[i] = create_each_block_2(child_ctx);\n\t\t\t\t\t\teach_blocks_2[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_2[i], 1);\n\t\t\t\t\t\teach_blocks_2[i].m(div, t0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value_2.length; i < each_blocks_2.length; i += 1) {\n\t\t\t\t\tout(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned, renderedLogEntries, OnLogClick, OnMouseEnter, OnMouseLeave*/ 230) {\n\t\t\t\teach_value_1 = /*renderedLogEntries*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context_1(ctx, each_value_1, i);\n\n\t\t\t\t\tif (each_blocks_1[i]) {\n\t\t\t\t\t\teach_blocks_1[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks_1[i] = create_each_block_1(child_ctx);\n\t\t\t\t\t\teach_blocks_1[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks_1[i], 1);\n\t\t\t\t\t\teach_blocks_1[i].m(div, t1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value_1.length; i < each_blocks_1.length; i += 1) {\n\t\t\t\t\tout_1(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*renderedLogEntries, phaseBoundaries*/ 18) {\n\t\t\t\teach_value = /*renderedLogEntries*/ ctx[1];\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$8(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$8(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\ttransition_in(each_blocks[i], 1);\n\t\t\t\t\t\teach_blocks[i].m(div, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgroup_outros();\n\n\t\t\t\tfor (i = each_value.length; i < each_blocks.length; i += 1) {\n\t\t\t\t\tout_2(i);\n\t\t\t\t}\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (dirty & /*pinned*/ 4) {\n\t\t\t\ttoggle_class(div, \"pinned\", /*pinned*/ ctx[2]);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\n\t\t\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\t\t\ttransition_in(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\teach_blocks_2 = each_blocks_2.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_2[i]);\n\t\t\t}\n\n\t\t\teach_blocks_1 = each_blocks_1.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks_1[i]);\n\t\t\t}\n\n\t\t\teach_blocks = each_blocks.filter(Boolean);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\ttransition_out(each_blocks[i]);\n\t\t\t}\n\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tdestroy_each(each_blocks_2, detaching);\n\t\t\tdestroy_each(each_blocks_1, detaching);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$w($$self, $$props, $$invalidate) {\n\tlet $client,\n\t\t$$unsubscribe_client = noop,\n\t\t$$subscribe_client = () => ($$unsubscribe_client(), $$unsubscribe_client = subscribe(client, $$value => $$invalidate(10, $client = $$value)), client);\n\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_client());\n\tlet { client } = $$props;\n\t$$subscribe_client();\n\tconst { secondaryPane } = getContext('secondaryPane');\n\tconst reducer = CreateGameReducer({ game: client.game });\n\tconst initialState = client.getInitialState();\n\tlet { log } = $client;\n\tlet pinned = null;\n\n\tfunction rewind(logIndex) {\n\t\tlet state = initialState;\n\n\t\tfor (let i = 0; i < log.length; i++) {\n\t\t\tconst { action, automatic } = log[i];\n\n\t\t\tif (!automatic) {\n\t\t\t\tstate = reducer(state, action);\n\n\t\t\t\tif (logIndex == 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tlogIndex--;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tG: state.G,\n\t\t\tctx: state.ctx,\n\t\t\tplugins: state.plugins\n\t\t};\n\t}\n\n\tfunction OnLogClick(e) {\n\t\tconst { logIndex } = e.detail;\n\t\tconst state = rewind(logIndex);\n\t\tconst renderedLogEntries = log.filter(e => !e.automatic);\n\t\tclient.overrideGameState(state);\n\n\t\tif (pinned == logIndex) {\n\t\t\t$$invalidate(2, pinned = null);\n\t\t\tsecondaryPane.set(null);\n\t\t} else {\n\t\t\t$$invalidate(2, pinned = logIndex);\n\t\t\tconst { metadata } = renderedLogEntries[logIndex].action.payload;\n\n\t\t\tif (metadata) {\n\t\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction OnMouseEnter(e) {\n\t\tconst { logIndex } = e.detail;\n\n\t\tif (pinned === null) {\n\t\t\tconst state = rewind(logIndex);\n\t\t\tclient.overrideGameState(state);\n\t\t}\n\t}\n\n\tfunction OnMouseLeave() {\n\t\tif (pinned === null) {\n\t\t\tclient.overrideGameState(null);\n\t\t}\n\t}\n\n\tfunction Reset() {\n\t\t$$invalidate(2, pinned = null);\n\t\tclient.overrideGameState(null);\n\t\tsecondaryPane.set(null);\n\t}\n\n\tonDestroy(Reset);\n\n\tfunction OnKeyDown(e) {\n\t\t// ESC.\n\t\tif (e.keyCode == 27) {\n\t\t\tReset();\n\t\t}\n\t}\n\n\tlet renderedLogEntries;\n\tlet turnBoundaries = {};\n\tlet phaseBoundaries = {};\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$subscribe_client($$invalidate(0, client = $$props.client));\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$client, log, renderedLogEntries*/ 1538) {\n\t\t\t {\n\t\t\t\t$$invalidate(9, log = $client.log);\n\t\t\t\t$$invalidate(1, renderedLogEntries = log.filter(e => !e.automatic));\n\t\t\t\tlet eventsInCurrentPhase = 0;\n\t\t\t\tlet eventsInCurrentTurn = 0;\n\t\t\t\t$$invalidate(3, turnBoundaries = {});\n\t\t\t\t$$invalidate(4, phaseBoundaries = {});\n\n\t\t\t\tfor (let i = 0; i < renderedLogEntries.length; i++) {\n\t\t\t\t\tconst { action, payload, turn, phase } = renderedLogEntries[i];\n\t\t\t\t\teventsInCurrentTurn++;\n\t\t\t\t\teventsInCurrentPhase++;\n\n\t\t\t\t\tif (i == renderedLogEntries.length - 1 || renderedLogEntries[i + 1].turn != turn) {\n\t\t\t\t\t\t$$invalidate(3, turnBoundaries[i] = eventsInCurrentTurn, turnBoundaries);\n\t\t\t\t\t\teventsInCurrentTurn = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i == renderedLogEntries.length - 1 || renderedLogEntries[i + 1].phase != phase) {\n\t\t\t\t\t\t$$invalidate(4, phaseBoundaries[i] = eventsInCurrentPhase, phaseBoundaries);\n\t\t\t\t\t\teventsInCurrentPhase = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\tclient,\n\t\trenderedLogEntries,\n\t\tpinned,\n\t\tturnBoundaries,\n\t\tphaseBoundaries,\n\t\tOnLogClick,\n\t\tOnMouseEnter,\n\t\tOnMouseLeave,\n\t\tOnKeyDown,\n\t\tlog,\n\t\t$client\n\t];\n}\n\nclass Log extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$w, create_fragment$w, safe_not_equal, { client: 0 }, add_css$n);\n\t}\n}\n\n/* src/client/debug/ai/Options.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$o(target) {\n\tappend_styles(target, \"svelte-1fu900w\", \"label.svelte-1fu900w{color:#666}.option.svelte-1fu900w{margin-bottom:20px}.value.svelte-1fu900w{font-weight:bold;color:#000}input[type='checkbox'].svelte-1fu900w{vertical-align:middle}\");\n}\n\nfunction get_each_context$9(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[6] = list[i][0];\n\tchild_ctx[7] = list[i][1];\n\tchild_ctx[8] = list;\n\tchild_ctx[9] = i;\n\treturn child_ctx;\n}\n\n// (44:47) \nfunction create_if_block_1$5(ctx) {\n\tlet input;\n\tlet input_id_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction input_change_handler() {\n\t\t/*input_change_handler*/ ctx[5].call(input, /*key*/ ctx[6]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tinput = element(\"input\");\n\t\t\tattr(input, \"id\", input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]));\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-1fu900w\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, input, anchor);\n\t\t\tinput.checked = /*values*/ ctx[1][/*key*/ ctx[6]];\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", input_change_handler),\n\t\t\t\t\tlisten(input, \"change\", /*OnChange*/ ctx[2])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (dirty & /*bot*/ 1 && input_id_value !== (input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]))) {\n\t\t\t\tattr(input, \"id\", input_id_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*values, Object, bot*/ 3) {\n\t\t\t\tinput.checked = /*values*/ ctx[1][/*key*/ ctx[6]];\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(input);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (41:4) {#if value.range}\nfunction create_if_block$c(ctx) {\n\tlet span;\n\tlet t0_value = /*values*/ ctx[1][/*key*/ ctx[6]] + \"\";\n\tlet t0;\n\tlet t1;\n\tlet input;\n\tlet input_id_value;\n\tlet input_min_value;\n\tlet input_max_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction input_change_input_handler() {\n\t\t/*input_change_input_handler*/ ctx[4].call(input, /*key*/ ctx[6]);\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tspan = element(\"span\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tattr(span, \"class\", \"value svelte-1fu900w\");\n\t\t\tattr(input, \"id\", input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]));\n\t\t\tattr(input, \"type\", \"range\");\n\t\t\tattr(input, \"min\", input_min_value = /*value*/ ctx[7].range.min);\n\t\t\tattr(input, \"max\", input_max_value = /*value*/ ctx[7].range.max);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, span, anchor);\n\t\t\tappend(span, t0);\n\t\t\tinsert(target, t1, anchor);\n\t\t\tinsert(target, input, anchor);\n\t\t\tset_input_value(input, /*values*/ ctx[1][/*key*/ ctx[6]]);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", input_change_input_handler),\n\t\t\t\t\tlisten(input, \"input\", input_change_input_handler),\n\t\t\t\t\tlisten(input, \"change\", /*OnChange*/ ctx[2])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty & /*values, bot*/ 3 && t0_value !== (t0_value = /*values*/ ctx[1][/*key*/ ctx[6]] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*bot*/ 1 && input_id_value !== (input_id_value = /*makeID*/ ctx[3](/*key*/ ctx[6]))) {\n\t\t\t\tattr(input, \"id\", input_id_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 1 && input_min_value !== (input_min_value = /*value*/ ctx[7].range.min)) {\n\t\t\t\tattr(input, \"min\", input_min_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 1 && input_max_value !== (input_max_value = /*value*/ ctx[7].range.max)) {\n\t\t\t\tattr(input, \"max\", input_max_value);\n\t\t\t}\n\n\t\t\tif (dirty & /*values, Object, bot*/ 3) {\n\t\t\t\tset_input_value(input, /*values*/ ctx[1][/*key*/ ctx[6]]);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(span);\n\t\t\tif (detaching) detach(t1);\n\t\t\tif (detaching) detach(input);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (37:0) {#each Object.entries(bot.opts()) as [key, value]}\nfunction create_each_block$9(ctx) {\n\tlet div;\n\tlet label;\n\tlet t0_value = /*key*/ ctx[6] + \"\";\n\tlet t0;\n\tlet label_for_value;\n\tlet t1;\n\tlet t2;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*value*/ ctx[7].range) return create_if_block$c;\n\t\tif (typeof /*value*/ ctx[7].value === 'boolean') return create_if_block_1$5;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type && current_block_type(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tt1 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tt2 = space();\n\t\t\tattr(label, \"for\", label_for_value = /*makeID*/ ctx[3](/*key*/ ctx[6]));\n\t\t\tattr(label, \"class\", \"svelte-1fu900w\");\n\t\t\tattr(div, \"class\", \"option svelte-1fu900w\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div, t1);\n\t\t\tif (if_block) if_block.m(div, null);\n\t\t\tappend(div, t2);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*bot*/ 1 && t0_value !== (t0_value = /*key*/ ctx[6] + \"\")) set_data(t0, t0_value);\n\n\t\t\tif (dirty & /*bot*/ 1 && label_for_value !== (label_for_value = /*makeID*/ ctx[3](/*key*/ ctx[6]))) {\n\t\t\t\tattr(label, \"for\", label_for_value);\n\t\t\t}\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif (if_block) if_block.d(1);\n\t\t\t\tif_block = current_block_type && current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(div, t2);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\n\t\t\tif (if_block) {\n\t\t\t\tif_block.d();\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction create_fragment$x(ctx) {\n\tlet each_1_anchor;\n\tlet each_value = Object.entries(/*bot*/ ctx[0].opts());\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$9(get_each_context$9(ctx, each_value, i));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\teach_1_anchor = empty();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(target, anchor);\n\t\t\t}\n\n\t\t\tinsert(target, each_1_anchor, anchor);\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tif (dirty & /*makeID, Object, bot, values, OnChange*/ 15) {\n\t\t\t\teach_value = Object.entries(/*bot*/ ctx[0].opts());\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$9(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$9(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(each_1_anchor);\n\t\t}\n\t};\n}\n\nfunction instance$x($$self, $$props, $$invalidate) {\n\tlet { bot } = $$props;\n\tlet values = {};\n\n\tfor (let [key, value] of Object.entries(bot.opts())) {\n\t\tvalues[key] = value.value;\n\t}\n\n\tfunction OnChange() {\n\t\tfor (let [key, value] of Object.entries(values)) {\n\t\t\tbot.setOpt(key, value);\n\t\t}\n\t}\n\n\tconst makeID = key => 'ai-option-' + key;\n\n\tfunction input_change_input_handler(key) {\n\t\tvalues[key] = to_number(this.value);\n\t\t$$invalidate(1, values);\n\t\t$$invalidate(0, bot);\n\t}\n\n\tfunction input_change_handler(key) {\n\t\tvalues[key] = this.checked;\n\t\t$$invalidate(1, values);\n\t\t$$invalidate(0, bot);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('bot' in $$props) $$invalidate(0, bot = $$props.bot);\n\t};\n\n\treturn [\n\t\tbot,\n\t\tvalues,\n\t\tOnChange,\n\t\tmakeID,\n\t\tinput_change_input_handler,\n\t\tinput_change_handler\n\t];\n}\n\nclass Options extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$x, create_fragment$x, safe_not_equal, { bot: 0 }, add_css$o);\n\t}\n}\n\n/* src/client/debug/ai/AI.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$p(target) {\n\tappend_styles(target, \"svelte-lifdi8\", \"ul.svelte-lifdi8{padding-left:0}li.svelte-lifdi8{list-style:none;margin:none;margin-bottom:5px}h3.svelte-lifdi8{text-transform:uppercase}label.svelte-lifdi8{color:#666}input[type='checkbox'].svelte-lifdi8{vertical-align:middle}\");\n}\n\nfunction get_each_context$a(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[7] = list[i];\n\treturn child_ctx;\n}\n\n// (202:4) {:else}\nfunction create_else_block$3(ctx) {\n\tlet p0;\n\tlet t1;\n\tlet p1;\n\n\treturn {\n\t\tc() {\n\t\t\tp0 = element(\"p\");\n\t\t\tp0.textContent = \"No bots available.\";\n\t\t\tt1 = space();\n\t\t\tp1 = element(\"p\");\n\n\t\t\tp1.innerHTML = `Follow the instructions\n        <a href=\"https://boardgame.io/documentation/#/tutorial?id=bots\" target=\"_blank\">here</a>\n        to set up bots.`;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p0, anchor);\n\t\t\tinsert(target, t1, anchor);\n\t\t\tinsert(target, p1, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(p0);\n\t\t\tif (detaching) detach(t1);\n\t\t\tif (detaching) detach(p1);\n\t\t}\n\t};\n}\n\n// (200:4) {#if client.multiplayer}\nfunction create_if_block_5(ctx) {\n\tlet p;\n\n\treturn {\n\t\tc() {\n\t\t\tp = element(\"p\");\n\t\t\tp.textContent = \"The bot debugger is only available in singleplayer mode.\";\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, p, anchor);\n\t\t},\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(p);\n\t\t}\n\t};\n}\n\n// (150:2) {#if client.game.ai && !client.multiplayer}\nfunction create_if_block$d(ctx) {\n\tlet section0;\n\tlet h30;\n\tlet t1;\n\tlet ul;\n\tlet li0;\n\tlet hotkey0;\n\tlet t2;\n\tlet li1;\n\tlet hotkey1;\n\tlet t3;\n\tlet li2;\n\tlet hotkey2;\n\tlet t4;\n\tlet section1;\n\tlet h31;\n\tlet t6;\n\tlet select;\n\tlet t7;\n\tlet show_if = Object.keys(/*bot*/ ctx[7].opts()).length;\n\tlet t8;\n\tlet if_block1_anchor;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\n\thotkey0 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"1\",\n\t\t\t\tonPress: /*Reset*/ ctx[13],\n\t\t\t\tlabel: \"reset\"\n\t\t\t}\n\t\t});\n\n\thotkey1 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"2\",\n\t\t\t\tonPress: /*Step*/ ctx[11],\n\t\t\t\tlabel: \"play\"\n\t\t\t}\n\t\t});\n\n\thotkey2 = new Hotkey({\n\t\t\tprops: {\n\t\t\t\tvalue: \"3\",\n\t\t\t\tonPress: /*Simulate*/ ctx[12],\n\t\t\t\tlabel: \"simulate\"\n\t\t\t}\n\t\t});\n\n\tlet each_value = Object.keys(/*bots*/ ctx[8]);\n\tlet each_blocks = [];\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\teach_blocks[i] = create_each_block$a(get_each_context$a(ctx, each_value, i));\n\t}\n\n\tlet if_block0 = show_if && create_if_block_4(ctx);\n\tlet if_block1 = (/*botAction*/ ctx[5] || /*iterationCounter*/ ctx[3]) && create_if_block_1$6(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection0 = element(\"section\");\n\t\t\th30 = element(\"h3\");\n\t\t\th30.textContent = \"Controls\";\n\t\t\tt1 = space();\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tcreate_component(hotkey0.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tcreate_component(hotkey1.$$.fragment);\n\t\t\tt3 = space();\n\t\t\tli2 = element(\"li\");\n\t\t\tcreate_component(hotkey2.$$.fragment);\n\t\t\tt4 = space();\n\t\t\tsection1 = element(\"section\");\n\t\t\th31 = element(\"h3\");\n\t\t\th31.textContent = \"Bot\";\n\t\t\tt6 = space();\n\t\t\tselect = element(\"select\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tt7 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt8 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tif_block1_anchor = empty();\n\t\t\tattr(h30, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li0, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li1, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li2, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(ul, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(h31, \"class\", \"svelte-lifdi8\");\n\t\t\tif (/*selectedBot*/ ctx[4] === void 0) add_render_callback(() => /*select_change_handler*/ ctx[17].call(select));\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section0, anchor);\n\t\t\tappend(section0, h30);\n\t\t\tappend(section0, t1);\n\t\t\tappend(section0, ul);\n\t\t\tappend(ul, li0);\n\t\t\tmount_component(hotkey0, li0, null);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li1);\n\t\t\tmount_component(hotkey1, li1, null);\n\t\t\tappend(ul, t3);\n\t\t\tappend(ul, li2);\n\t\t\tmount_component(hotkey2, li2, null);\n\t\t\tinsert(target, t4, anchor);\n\t\t\tinsert(target, section1, anchor);\n\t\t\tappend(section1, h31);\n\t\t\tappend(section1, t6);\n\t\t\tappend(section1, select);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t}\n\n\t\t\tselect_option(select, /*selectedBot*/ ctx[4]);\n\t\t\tinsert(target, t7, anchor);\n\t\t\tif (if_block0) if_block0.m(target, anchor);\n\t\t\tinsert(target, t8, anchor);\n\t\t\tif (if_block1) if_block1.m(target, anchor);\n\t\t\tinsert(target, if_block1_anchor, anchor);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(select, \"change\", /*select_change_handler*/ ctx[17]),\n\t\t\t\t\tlisten(select, \"change\", /*ChangeBot*/ ctx[10])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*Object, bots*/ 256) {\n\t\t\t\teach_value = Object.keys(/*bots*/ ctx[8]);\n\t\t\t\tlet i;\n\n\t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n\t\t\t\t\tconst child_ctx = get_each_context$a(ctx, each_value, i);\n\n\t\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach_blocks[i] = create_each_block$a(child_ctx);\n\t\t\t\t\t\teach_blocks[i].c();\n\t\t\t\t\t\teach_blocks[i].m(select, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (; i < each_blocks.length; i += 1) {\n\t\t\t\t\teach_blocks[i].d(1);\n\t\t\t\t}\n\n\t\t\t\teach_blocks.length = each_value.length;\n\t\t\t}\n\n\t\t\tif (dirty & /*selectedBot, Object, bots*/ 272) {\n\t\t\t\tselect_option(select, /*selectedBot*/ ctx[4]);\n\t\t\t}\n\n\t\t\tif (dirty & /*bot*/ 128) show_if = Object.keys(/*bot*/ ctx[7].opts()).length;\n\n\t\t\tif (show_if) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*bot*/ 128) {\n\t\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_4(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\ttransition_in(if_block0, 1);\n\t\t\t\t\tif_block0.m(t8.parentNode, t8);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block0, 1, 1, () => {\n\t\t\t\t\tif_block0 = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\n\t\t\tif (/*botAction*/ ctx[5] || /*iterationCounter*/ ctx[3]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_1$6(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(if_block1_anchor.parentNode, if_block1_anchor);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(hotkey0.$$.fragment, local);\n\t\t\ttransition_in(hotkey1.$$.fragment, local);\n\t\t\ttransition_in(hotkey2.$$.fragment, local);\n\t\t\ttransition_in(if_block0);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(hotkey0.$$.fragment, local);\n\t\t\ttransition_out(hotkey1.$$.fragment, local);\n\t\t\ttransition_out(hotkey2.$$.fragment, local);\n\t\t\ttransition_out(if_block0);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section0);\n\t\t\tdestroy_component(hotkey0);\n\t\t\tdestroy_component(hotkey1);\n\t\t\tdestroy_component(hotkey2);\n\t\t\tif (detaching) detach(t4);\n\t\t\tif (detaching) detach(section1);\n\t\t\tdestroy_each(each_blocks, detaching);\n\t\t\tif (detaching) detach(t7);\n\t\t\tif (if_block0) if_block0.d(detaching);\n\t\t\tif (detaching) detach(t8);\n\t\t\tif (if_block1) if_block1.d(detaching);\n\t\t\tif (detaching) detach(if_block1_anchor);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (169:8) {#each Object.keys(bots) as bot}\nfunction create_each_block$a(ctx) {\n\tlet option;\n\tlet t_value = /*bot*/ ctx[7] + \"\";\n\tlet t;\n\tlet option_value_value;\n\n\treturn {\n\t\tc() {\n\t\t\toption = element(\"option\");\n\t\t\tt = text(t_value);\n\t\t\toption.__value = option_value_value = /*bot*/ ctx[7];\n\t\t\toption.value = option.__value;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, option, anchor);\n\t\t\tappend(option, t);\n\t\t},\n\t\tp: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(option);\n\t\t}\n\t};\n}\n\n// (175:4) {#if Object.keys(bot.opts()).length}\nfunction create_if_block_4(ctx) {\n\tlet section;\n\tlet h3;\n\tlet t1;\n\tlet label;\n\tlet t3;\n\tlet input;\n\tlet t4;\n\tlet options;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\toptions = new Options({ props: { bot: /*bot*/ ctx[7] } });\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Options\";\n\t\t\tt1 = space();\n\t\t\tlabel = element(\"label\");\n\t\t\tlabel.textContent = \"debug\";\n\t\t\tt3 = space();\n\t\t\tinput = element(\"input\");\n\t\t\tt4 = space();\n\t\t\tcreate_component(options.$$.fragment);\n\t\t\tattr(h3, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(label, \"for\", \"ai-option-debug\");\n\t\t\tattr(label, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(input, \"id\", \"ai-option-debug\");\n\t\t\tattr(input, \"type\", \"checkbox\");\n\t\t\tattr(input, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tappend(section, label);\n\t\t\tappend(section, t3);\n\t\t\tappend(section, input);\n\t\t\tinput.checked = /*debug*/ ctx[1];\n\t\t\tappend(section, t4);\n\t\t\tmount_component(options, section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"change\", /*input_change_handler*/ ctx[18]),\n\t\t\t\t\tlisten(input, \"change\", /*OnDebug*/ ctx[9])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*debug*/ 2) {\n\t\t\t\tinput.checked = /*debug*/ ctx[1];\n\t\t\t}\n\n\t\t\tconst options_changes = {};\n\t\t\tif (dirty & /*bot*/ 128) options_changes.bot = /*bot*/ ctx[7];\n\t\t\toptions.$set(options_changes);\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(options.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(options.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tdestroy_component(options);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\n// (184:4) {#if botAction || iterationCounter}\nfunction create_if_block_1$6(ctx) {\n\tlet section;\n\tlet h3;\n\tlet t1;\n\tlet t2;\n\tlet if_block0 = /*progress*/ ctx[2] && /*progress*/ ctx[2] < 1.0 && create_if_block_3$1(ctx);\n\tlet if_block1 = /*botAction*/ ctx[5] && create_if_block_2$4(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\th3 = element(\"h3\");\n\t\t\th3.textContent = \"Result\";\n\t\t\tt1 = space();\n\t\t\tif (if_block0) if_block0.c();\n\t\t\tt2 = space();\n\t\t\tif (if_block1) if_block1.c();\n\t\t\tattr(h3, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, h3);\n\t\t\tappend(section, t1);\n\t\t\tif (if_block0) if_block0.m(section, null);\n\t\t\tappend(section, t2);\n\t\t\tif (if_block1) if_block1.m(section, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (/*progress*/ ctx[2] && /*progress*/ ctx[2] < 1.0) {\n\t\t\t\tif (if_block0) {\n\t\t\t\t\tif_block0.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block0 = create_if_block_3$1(ctx);\n\t\t\t\t\tif_block0.c();\n\t\t\t\t\tif_block0.m(section, t2);\n\t\t\t\t}\n\t\t\t} else if (if_block0) {\n\t\t\t\tif_block0.d(1);\n\t\t\t\tif_block0 = null;\n\t\t\t}\n\n\t\t\tif (/*botAction*/ ctx[5]) {\n\t\t\t\tif (if_block1) {\n\t\t\t\t\tif_block1.p(ctx, dirty);\n\t\t\t\t} else {\n\t\t\t\t\tif_block1 = create_if_block_2$4(ctx);\n\t\t\t\t\tif_block1.c();\n\t\t\t\t\tif_block1.m(section, null);\n\t\t\t\t}\n\t\t\t} else if (if_block1) {\n\t\t\t\tif_block1.d(1);\n\t\t\t\tif_block1 = null;\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif (if_block0) if_block0.d();\n\t\t\tif (if_block1) if_block1.d();\n\t\t}\n\t};\n}\n\n// (187:6) {#if progress && progress < 1.0}\nfunction create_if_block_3$1(ctx) {\n\tlet progress_1;\n\n\treturn {\n\t\tc() {\n\t\t\tprogress_1 = element(\"progress\");\n\t\t\tprogress_1.value = /*progress*/ ctx[2];\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, progress_1, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*progress*/ 4) {\n\t\t\t\tprogress_1.value = /*progress*/ ctx[2];\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(progress_1);\n\t\t}\n\t};\n}\n\n// (191:6) {#if botAction}\nfunction create_if_block_2$4(ctx) {\n\tlet ul;\n\tlet li0;\n\tlet t0;\n\tlet t1;\n\tlet t2;\n\tlet li1;\n\tlet t3;\n\tlet t4_value = JSON.stringify(/*botActionArgs*/ ctx[6]) + \"\";\n\tlet t4;\n\n\treturn {\n\t\tc() {\n\t\t\tul = element(\"ul\");\n\t\t\tli0 = element(\"li\");\n\t\t\tt0 = text(\"Action: \");\n\t\t\tt1 = text(/*botAction*/ ctx[5]);\n\t\t\tt2 = space();\n\t\t\tli1 = element(\"li\");\n\t\t\tt3 = text(\"Args: \");\n\t\t\tt4 = text(t4_value);\n\t\t\tattr(li0, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(li1, \"class\", \"svelte-lifdi8\");\n\t\t\tattr(ul, \"class\", \"svelte-lifdi8\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, ul, anchor);\n\t\t\tappend(ul, li0);\n\t\t\tappend(li0, t0);\n\t\t\tappend(li0, t1);\n\t\t\tappend(ul, t2);\n\t\t\tappend(ul, li1);\n\t\t\tappend(li1, t3);\n\t\t\tappend(li1, t4);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty & /*botAction*/ 32) set_data(t1, /*botAction*/ ctx[5]);\n\t\t\tif (dirty & /*botActionArgs*/ 64 && t4_value !== (t4_value = JSON.stringify(/*botActionArgs*/ ctx[6]) + \"\")) set_data(t4, t4_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(ul);\n\t\t}\n\t};\n}\n\nfunction create_fragment$y(ctx) {\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$d, create_if_block_5, create_else_block$3];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*client*/ ctx[0].game.ai && !/*client*/ ctx[0].multiplayer) return 0;\n\t\tif (/*client*/ ctx[0].multiplayer) return 1;\n\t\treturn 2;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tif_block.c();\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keydown\", /*OnKeyDown*/ ctx[14]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$y($$self, $$props, $$invalidate) {\n\tlet { client } = $$props;\n\tlet { clientManager } = $$props;\n\tlet { ToggleVisibility } = $$props;\n\tconst { secondaryPane } = getContext('secondaryPane');\n\tconst bots = { 'MCTS': MCTSBot, 'Random': RandomBot };\n\tlet debug = false;\n\tlet progress = null;\n\tlet iterationCounter = 0;\n\tlet metadata = null;\n\n\tconst iterationCallback = ({ iterationCounter: c, numIterations, metadata: m }) => {\n\t\t$$invalidate(3, iterationCounter = c);\n\t\t$$invalidate(2, progress = c / numIterations);\n\t\tmetadata = m;\n\n\t\tif (debug && metadata) {\n\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t}\n\t};\n\n\tfunction OnDebug() {\n\t\tif (debug && metadata) {\n\t\t\tsecondaryPane.set({ component: MCTS, metadata });\n\t\t} else {\n\t\t\tsecondaryPane.set(null);\n\t\t}\n\t}\n\n\tlet bot;\n\n\tif (client.game.ai) {\n\t\tbot = new MCTSBot({\n\t\t\t\tgame: client.game,\n\t\t\t\tenumerate: client.game.ai.enumerate,\n\t\t\t\titerationCallback\n\t\t\t});\n\n\t\tbot.setOpt('async', true);\n\t}\n\n\tlet selectedBot;\n\tlet botAction;\n\tlet botActionArgs;\n\n\tfunction ChangeBot() {\n\t\tconst botConstructor = bots[selectedBot];\n\n\t\t$$invalidate(7, bot = new botConstructor({\n\t\t\t\tgame: client.game,\n\t\t\t\tenumerate: client.game.ai.enumerate,\n\t\t\t\titerationCallback\n\t\t\t}));\n\n\t\tbot.setOpt('async', true);\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\tsecondaryPane.set(null);\n\t\t$$invalidate(3, iterationCounter = 0);\n\t}\n\n\tasync function Step$1() {\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\t\tconst t = await Step(client, bot);\n\n\t\tif (t) {\n\t\t\t$$invalidate(5, botAction = t.payload.type);\n\t\t\t$$invalidate(6, botActionArgs = t.payload.args);\n\t\t}\n\t}\n\n\tfunction Simulate(iterations = 10000, sleepTimeout = 100) {\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\n\t\tconst step = async () => {\n\t\t\tfor (let i = 0; i < iterations; i++) {\n\t\t\t\tconst action = await Step(client, bot);\n\t\t\t\tif (!action) break;\n\t\t\t\tawait new Promise(resolve => setTimeout(resolve, sleepTimeout));\n\t\t\t}\n\t\t};\n\n\t\treturn step();\n\t}\n\n\tfunction Exit() {\n\t\tclient.overrideGameState(null);\n\t\tsecondaryPane.set(null);\n\t\t$$invalidate(1, debug = false);\n\t}\n\n\tfunction Reset() {\n\t\tclient.reset();\n\t\t$$invalidate(5, botAction = null);\n\t\tmetadata = null;\n\t\t$$invalidate(3, iterationCounter = 0);\n\t\tExit();\n\t}\n\n\tfunction OnKeyDown(e) {\n\t\t// ESC.\n\t\tif (e.keyCode == 27) {\n\t\t\tExit();\n\t\t}\n\t}\n\n\tonDestroy(Exit);\n\n\tfunction select_change_handler() {\n\t\tselectedBot = select_value(this);\n\t\t$$invalidate(4, selectedBot);\n\t\t$$invalidate(8, bots);\n\t}\n\n\tfunction input_change_handler() {\n\t\tdebug = this.checked;\n\t\t$$invalidate(1, debug);\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('client' in $$props) $$invalidate(0, client = $$props.client);\n\t\tif ('clientManager' in $$props) $$invalidate(15, clientManager = $$props.clientManager);\n\t\tif ('ToggleVisibility' in $$props) $$invalidate(16, ToggleVisibility = $$props.ToggleVisibility);\n\t};\n\n\treturn [\n\t\tclient,\n\t\tdebug,\n\t\tprogress,\n\t\titerationCounter,\n\t\tselectedBot,\n\t\tbotAction,\n\t\tbotActionArgs,\n\t\tbot,\n\t\tbots,\n\t\tOnDebug,\n\t\tChangeBot,\n\t\tStep$1,\n\t\tSimulate,\n\t\tReset,\n\t\tOnKeyDown,\n\t\tclientManager,\n\t\tToggleVisibility,\n\t\tselect_change_handler,\n\t\tinput_change_handler\n\t];\n}\n\nclass AI extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance$y,\n\t\t\tcreate_fragment$y,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tclient: 0,\n\t\t\t\tclientManager: 15,\n\t\t\t\tToggleVisibility: 16\n\t\t\t},\n\t\t\tadd_css$p\n\t\t);\n\t}\n}\n\n/* src/client/debug/Debug.svelte generated by Svelte v3.41.0 */\n\nfunction add_css$q(target) {\n\tappend_styles(target, \"svelte-8ymctk\", \".debug-panel.svelte-8ymctk.svelte-8ymctk{position:fixed;color:#555;font-family:monospace;right:0;top:0;height:100%;font-size:14px;opacity:0.9;z-index:99999}.panel.svelte-8ymctk.svelte-8ymctk{display:flex;position:relative;flex-direction:row;height:100%}.visibility-toggle.svelte-8ymctk.svelte-8ymctk{position:absolute;box-sizing:border-box;top:7px;border:1px solid #ccc;border-radius:5px;width:48px;height:48px;padding:8px;background:white;color:#555;box-shadow:0 0 5px rgba(0, 0, 0, 0.2)}.visibility-toggle.svelte-8ymctk.svelte-8ymctk:hover,.visibility-toggle.svelte-8ymctk.svelte-8ymctk:focus{background:#eee}.opener.svelte-8ymctk.svelte-8ymctk{right:10px}.closer.svelte-8ymctk.svelte-8ymctk{left:-326px}@keyframes svelte-8ymctk-rotateFromZero{from{transform:rotateZ(0deg)}to{transform:rotateZ(180deg)}}.icon.svelte-8ymctk.svelte-8ymctk{display:flex;height:100%;animation:svelte-8ymctk-rotateFromZero 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0s 1\\n      normal forwards}.closer.svelte-8ymctk .icon.svelte-8ymctk{animation-direction:reverse}.pane.svelte-8ymctk.svelte-8ymctk{flex-grow:2;overflow-x:hidden;overflow-y:scroll;background:#fefefe;padding:20px;border-left:1px solid #ccc;box-shadow:-1px 0 5px rgba(0, 0, 0, 0.2);box-sizing:border-box;width:280px}.secondary-pane.svelte-8ymctk.svelte-8ymctk{background:#fefefe;overflow-y:scroll}.debug-panel.svelte-8ymctk button,.debug-panel.svelte-8ymctk select{cursor:pointer;font-size:14px;font-family:monospace}.debug-panel.svelte-8ymctk select{background:#eee;border:1px solid #bbb;color:#555;padding:3px;border-radius:3px}.debug-panel.svelte-8ymctk section{margin-bottom:20px}.debug-panel.svelte-8ymctk .screen-reader-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}\");\n}\n\n// (194:2) {:else}\nfunction create_else_block$4(ctx) {\n\tlet div1;\n\tlet button;\n\tlet span;\n\tlet chevron;\n\tlet button_intro;\n\tlet button_outro;\n\tlet t0;\n\tlet menu;\n\tlet t1;\n\tlet div0;\n\tlet switch_instance;\n\tlet t2;\n\tlet div1_transition;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tchevron = new FaChevronRight({});\n\n\tmenu = new Menu({\n\t\t\tprops: {\n\t\t\t\tpanes: /*panes*/ ctx[6],\n\t\t\t\tpane: /*pane*/ ctx[2]\n\t\t\t}\n\t\t});\n\n\tmenu.$on(\"change\", /*MenuChange*/ ctx[8]);\n\tvar switch_value = /*panes*/ ctx[6][/*pane*/ ctx[2]].component;\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tclient: /*client*/ ctx[4],\n\t\t\t\tclientManager: /*clientManager*/ ctx[0],\n\t\t\t\tToggleVisibility: /*ToggleVisibility*/ ctx[9]\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\tlet if_block = /*$secondaryPane*/ ctx[5] && create_if_block_1$7(ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tdiv1 = element(\"div\");\n\t\t\tbutton = element(\"button\");\n\t\t\tspan = element(\"span\");\n\t\t\tcreate_component(chevron.$$.fragment);\n\t\t\tt0 = space();\n\t\t\tcreate_component(menu.$$.fragment);\n\t\t\tt1 = space();\n\t\t\tdiv0 = element(\"div\");\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tt2 = space();\n\t\t\tif (if_block) if_block.c();\n\t\t\tattr(span, \"class\", \"icon svelte-8ymctk\");\n\t\t\tattr(span, \"aria-hidden\", \"true\");\n\t\t\tattr(button, \"class\", \"visibility-toggle closer svelte-8ymctk\");\n\t\t\tattr(button, \"title\", \"Hide Debug Panel\");\n\t\t\tattr(div0, \"class\", \"pane svelte-8ymctk\");\n\t\t\tattr(div0, \"role\", \"region\");\n\t\t\tattr(div0, \"aria-label\", /*pane*/ ctx[2]);\n\t\t\tattr(div0, \"tabindex\", \"-1\");\n\t\t\tattr(div1, \"class\", \"panel svelte-8ymctk\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div1, anchor);\n\t\t\tappend(div1, button);\n\t\t\tappend(button, span);\n\t\t\tmount_component(chevron, span, null);\n\t\t\tappend(div1, t0);\n\t\t\tmount_component(menu, div1, null);\n\t\t\tappend(div1, t1);\n\t\t\tappend(div1, div0);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div0, null);\n\t\t\t}\n\n\t\t\t/*div0_binding*/ ctx[15](div0);\n\t\t\tappend(div1, t2);\n\t\t\tif (if_block) if_block.m(div1, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", /*ToggleVisibility*/ ctx[9]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tconst menu_changes = {};\n\t\t\tif (dirty & /*pane*/ 4) menu_changes.pane = /*pane*/ ctx[2];\n\t\t\tmenu.$set(menu_changes);\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*client*/ 16) switch_instance_changes.client = /*client*/ ctx[4];\n\t\t\tif (dirty & /*clientManager*/ 1) switch_instance_changes.clientManager = /*clientManager*/ ctx[0];\n\n\t\t\tif (switch_value !== (switch_value = /*panes*/ ctx[6][/*pane*/ ctx[2]].component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div0, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\n\t\t\tif (!current || dirty & /*pane*/ 4) {\n\t\t\t\tattr(div0, \"aria-label\", /*pane*/ ctx[2]);\n\t\t\t}\n\n\t\t\tif (/*$secondaryPane*/ ctx[5]) {\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\n\t\t\t\t\tif (dirty & /*$secondaryPane*/ 32) {\n\t\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif_block = create_if_block_1$7(ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\t\tif_block.m(div1, null);\n\t\t\t\t}\n\t\t\t} else if (if_block) {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_block, 1, 1, () => {\n\t\t\t\t\tif_block = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(chevron.$$.fragment, local);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (button_outro) button_outro.end(1);\n\t\t\t\tbutton_intro = create_in_transition(button, /*receive*/ ctx[13], { key: 'toggle' });\n\t\t\t\tbutton_intro.start();\n\t\t\t});\n\n\t\t\ttransition_in(menu.$$.fragment, local);\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\ttransition_in(if_block);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (!div1_transition) div1_transition = create_bidirectional_transition(div1, fly, { x: 400, .../*transitionOpts*/ ctx[11] }, true);\n\t\t\t\tdiv1_transition.run(1);\n\t\t\t});\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(chevron.$$.fragment, local);\n\t\t\tif (button_intro) button_intro.invalidate();\n\t\t\tbutton_outro = create_out_transition(button, /*send*/ ctx[12], { key: 'toggle' });\n\t\t\ttransition_out(menu.$$.fragment, local);\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\ttransition_out(if_block);\n\t\t\tif (!div1_transition) div1_transition = create_bidirectional_transition(div1, fly, { x: 400, .../*transitionOpts*/ ctx[11] }, false);\n\t\t\tdiv1_transition.run(0);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div1);\n\t\t\tdestroy_component(chevron);\n\t\t\tif (detaching && button_outro) button_outro.end();\n\t\t\tdestroy_component(menu);\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t\t/*div0_binding*/ ctx[15](null);\n\t\t\tif (if_block) if_block.d();\n\t\t\tif (detaching && div1_transition) div1_transition.end();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (182:2) {#if !visible}\nfunction create_if_block$e(ctx) {\n\tlet button;\n\tlet span;\n\tlet chevron;\n\tlet button_intro;\n\tlet button_outro;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tchevron = new FaChevronRight({});\n\n\treturn {\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tspan = element(\"span\");\n\t\t\tcreate_component(chevron.$$.fragment);\n\t\t\tattr(span, \"class\", \"icon svelte-8ymctk\");\n\t\t\tattr(span, \"aria-hidden\", \"true\");\n\t\t\tattr(button, \"class\", \"visibility-toggle opener svelte-8ymctk\");\n\t\t\tattr(button, \"title\", \"Show Debug Panel\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, span);\n\t\t\tmount_component(chevron, span, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", /*ToggleVisibility*/ ctx[9]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp: noop,\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(chevron.$$.fragment, local);\n\n\t\t\tadd_render_callback(() => {\n\t\t\t\tif (button_outro) button_outro.end(1);\n\t\t\t\tbutton_intro = create_in_transition(button, /*receive*/ ctx[13], { key: 'toggle' });\n\t\t\t\tbutton_intro.start();\n\t\t\t});\n\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(chevron.$$.fragment, local);\n\t\t\tif (button_intro) button_intro.invalidate();\n\t\t\tbutton_outro = create_out_transition(button, /*send*/ ctx[12], { key: 'toggle' });\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tdestroy_component(chevron);\n\t\t\tif (detaching && button_outro) button_outro.end();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (222:6) {#if $secondaryPane}\nfunction create_if_block_1$7(ctx) {\n\tlet div;\n\tlet switch_instance;\n\tlet current;\n\tvar switch_value = /*$secondaryPane*/ ctx[5].component;\n\n\tfunction switch_props(ctx) {\n\t\treturn {\n\t\t\tprops: {\n\t\t\t\tmetadata: /*$secondaryPane*/ ctx[5].metadata\n\t\t\t}\n\t\t};\n\t}\n\n\tif (switch_value) {\n\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tif (switch_instance) create_component(switch_instance.$$.fragment);\n\t\t\tattr(div, \"class\", \"secondary-pane svelte-8ymctk\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\n\t\t\tif (switch_instance) {\n\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t}\n\n\t\t\tcurrent = true;\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tconst switch_instance_changes = {};\n\t\t\tif (dirty & /*$secondaryPane*/ 32) switch_instance_changes.metadata = /*$secondaryPane*/ ctx[5].metadata;\n\n\t\t\tif (switch_value !== (switch_value = /*$secondaryPane*/ ctx[5].component)) {\n\t\t\t\tif (switch_instance) {\n\t\t\t\t\tgroup_outros();\n\t\t\t\t\tconst old_component = switch_instance;\n\n\t\t\t\t\ttransition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\tdestroy_component(old_component, 1);\n\t\t\t\t\t});\n\n\t\t\t\t\tcheck_outros();\n\t\t\t\t}\n\n\t\t\t\tif (switch_value) {\n\t\t\t\t\tswitch_instance = new switch_value(switch_props(ctx));\n\t\t\t\t\tcreate_component(switch_instance.$$.fragment);\n\t\t\t\t\ttransition_in(switch_instance.$$.fragment, 1);\n\t\t\t\t\tmount_component(switch_instance, div, null);\n\t\t\t\t} else {\n\t\t\t\t\tswitch_instance = null;\n\t\t\t\t}\n\t\t\t} else if (switch_value) {\n\t\t\t\tswitch_instance.$set(switch_instance_changes);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\tif (switch_instance) transition_in(switch_instance.$$.fragment, local);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\tif (switch_instance) transition_out(switch_instance.$$.fragment, local);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t\tif (switch_instance) destroy_component(switch_instance);\n\t\t}\n\t};\n}\n\nfunction create_fragment$z(ctx) {\n\tlet section;\n\tlet current_block_type_index;\n\tlet if_block;\n\tlet current;\n\tlet mounted;\n\tlet dispose;\n\tconst if_block_creators = [create_if_block$e, create_else_block$4];\n\tconst if_blocks = [];\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (!/*visible*/ ctx[3]) return 0;\n\t\treturn 1;\n\t}\n\n\tcurrent_block_type_index = select_block_type(ctx);\n\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tif_block.c();\n\t\t\tattr(section, \"aria-label\", \"boardgame.io Debug Panel\");\n\t\t\tattr(section, \"class\", \"debug-panel svelte-8ymctk\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tif_blocks[current_block_type_index].m(section, null);\n\t\t\tcurrent = true;\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(window, \"keypress\", /*Keypress*/ ctx[10]);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, [dirty]) {\n\t\t\tlet previous_block_index = current_block_type_index;\n\t\t\tcurrent_block_type_index = select_block_type(ctx);\n\n\t\t\tif (current_block_type_index === previous_block_index) {\n\t\t\t\tif_blocks[current_block_type_index].p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tgroup_outros();\n\n\t\t\t\ttransition_out(if_blocks[previous_block_index], 1, 1, () => {\n\t\t\t\t\tif_blocks[previous_block_index] = null;\n\t\t\t\t});\n\n\t\t\t\tcheck_outros();\n\t\t\t\tif_block = if_blocks[current_block_type_index];\n\n\t\t\t\tif (!if_block) {\n\t\t\t\t\tif_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);\n\t\t\t\t\tif_block.c();\n\t\t\t\t} else {\n\t\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t\t}\n\n\t\t\t\ttransition_in(if_block, 1);\n\t\t\t\tif_block.m(section, null);\n\t\t\t}\n\t\t},\n\t\ti(local) {\n\t\t\tif (current) return;\n\t\t\ttransition_in(if_block);\n\t\t\tcurrent = true;\n\t\t},\n\t\to(local) {\n\t\t\ttransition_out(if_block);\n\t\t\tcurrent = false;\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\t\t\tif_blocks[current_block_type_index].d();\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\nfunction instance$z($$self, $$props, $$invalidate) {\n\tlet client;\n\n\tlet $clientManager,\n\t\t$$unsubscribe_clientManager = noop,\n\t\t$$subscribe_clientManager = () => ($$unsubscribe_clientManager(), $$unsubscribe_clientManager = subscribe(clientManager, $$value => $$invalidate(14, $clientManager = $$value)), clientManager);\n\n\tlet $secondaryPane;\n\t$$self.$$.on_destroy.push(() => $$unsubscribe_clientManager());\n\tlet { clientManager } = $$props;\n\t$$subscribe_clientManager();\n\n\tconst panes = {\n\t\tmain: {\n\t\t\tlabel: 'Main',\n\t\t\tshortcut: 'm',\n\t\t\tcomponent: Main\n\t\t},\n\t\tlog: {\n\t\t\tlabel: 'Log',\n\t\t\tshortcut: 'l',\n\t\t\tcomponent: Log\n\t\t},\n\t\tinfo: {\n\t\t\tlabel: 'Info',\n\t\t\tshortcut: 'i',\n\t\t\tcomponent: Info\n\t\t},\n\t\tai: {\n\t\t\tlabel: 'AI',\n\t\t\tshortcut: 'a',\n\t\t\tcomponent: AI\n\t\t}\n\t};\n\n\tconst disableHotkeys = writable(false);\n\tconst secondaryPane = writable(null);\n\tcomponent_subscribe($$self, secondaryPane, value => $$invalidate(5, $secondaryPane = value));\n\tsetContext('hotkeys', { disableHotkeys });\n\tsetContext('secondaryPane', { secondaryPane });\n\tlet paneDiv;\n\tlet pane = 'main';\n\n\tfunction MenuChange(e) {\n\t\t$$invalidate(2, pane = e.detail);\n\t\tpaneDiv.focus();\n\t}\n\n\t// Toggle debugger visibilty\n\tfunction ToggleVisibility() {\n\t\t$$invalidate(3, visible = !visible);\n\t}\n\n\tlet visible = true;\n\n\tfunction Keypress(e) {\n\t\tif (e.key == '.') {\n\t\t\tToggleVisibility();\n\t\t\treturn;\n\t\t}\n\n\t\t// Set displayed pane\n\t\tif (!visible) return;\n\n\t\tObject.entries(panes).forEach(([key, { shortcut }]) => {\n\t\t\tif (e.key == shortcut) {\n\t\t\t\t$$invalidate(2, pane = key);\n\t\t\t}\n\t\t});\n\t}\n\n\tconst transitionOpts = { duration: 150, easing: cubicOut };\n\tconst [send, receive] = crossfade(transitionOpts);\n\n\tfunction div0_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tpaneDiv = $$value;\n\t\t\t$$invalidate(1, paneDiv);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('clientManager' in $$props) $$subscribe_clientManager($$invalidate(0, clientManager = $$props.clientManager));\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty & /*$clientManager*/ 16384) {\n\t\t\t $$invalidate(4, client = $clientManager.client);\n\t\t}\n\t};\n\n\treturn [\n\t\tclientManager,\n\t\tpaneDiv,\n\t\tpane,\n\t\tvisible,\n\t\tclient,\n\t\t$secondaryPane,\n\t\tpanes,\n\t\tsecondaryPane,\n\t\tMenuChange,\n\t\tToggleVisibility,\n\t\tKeypress,\n\t\ttransitionOpts,\n\t\tsend,\n\t\treceive,\n\t\t$clientManager,\n\t\tdiv0_binding\n\t];\n}\n\nclass Debug extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\t\tinit(this, options, instance$z, create_fragment$z, safe_not_equal, { clientManager: 0 }, add_css$q);\n\t}\n}\n\nexport { Debug as D, _inherits as _, _createSuper as a, _createClass as b, _defineProperty as c, _classCallCheck as d, _objectWithoutProperties as e, _objectSpread2 as f };\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","import { t as Setup, m as Enhance, E as EnhanceCtx, q as FlushAndValidate } from './turn-order-406c4349.js';\nimport { P as ProcessGameConfig } from './reducer-efc3ec3e.js';\n\n/*\r\n * Copyright 2020 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Creates the initial game state.\r\n */\r\nfunction InitializeGame({ game, numPlayers, setupData, }) {\r\n    game = ProcessGameConfig(game);\r\n    if (!numPlayers) {\r\n        numPlayers = 2;\r\n    }\r\n    const ctx = game.flow.ctx(numPlayers);\r\n    let state = {\r\n        // User managed state.\r\n        G: {},\r\n        // Framework managed state.\r\n        ctx,\r\n        // Plugin related state.\r\n        plugins: {},\r\n    };\r\n    // Run plugins over initial state.\r\n    state = Setup(state, { game });\r\n    state = Enhance(state, { game, playerID: undefined });\r\n    const enhancedCtx = EnhanceCtx(state);\r\n    state.G = game.setup(enhancedCtx, setupData);\r\n    let initial = {\r\n        ...state,\r\n        // List of {G, ctx} pairs that can be undone.\r\n        _undo: [],\r\n        // List of {G, ctx} pairs that can be redone.\r\n        _redo: [],\r\n        // A monotonically non-decreasing ID to ensure that\r\n        // state updates are only allowed from clients that\r\n        // are at the same version that the server.\r\n        _stateID: 0,\r\n    };\r\n    initial = game.flow.init(initial);\r\n    [initial] = FlushAndValidate(initial, { game });\r\n    // Initialize undo stack.\r\n    if (!game.disableUndo) {\r\n        initial._undo = [\r\n            {\r\n                G: initial.G,\r\n                ctx: initial.ctx,\r\n                plugins: initial.plugins,\r\n            },\r\n        ];\r\n    }\r\n    return initial;\r\n}\n\nexport { InitializeGame as I };\n","/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\nclass Transport {\r\n    constructor({ transportDataCallback, gameName, playerID, matchID, credentials, numPlayers, }) {\r\n        /** Callback to let the client know when the connection status has changed. */\r\n        this.connectionStatusCallback = () => { };\r\n        this.isConnected = false;\r\n        this.transportDataCallback = transportDataCallback;\r\n        this.gameName = gameName || 'default';\r\n        this.playerID = playerID || null;\r\n        this.matchID = matchID || 'default';\r\n        this.credentials = credentials;\r\n        this.numPlayers = numPlayers || 2;\r\n    }\r\n    /** Subscribe to connection state changes. */\r\n    subscribeToConnectionStatus(fn) {\r\n        this.connectionStatusCallback = fn;\r\n    }\r\n    /** Transport implementations should call this when they connect/disconnect. */\r\n    setConnectionStatus(isConnected) {\r\n        this.isConnected = isConnected;\r\n        this.connectionStatusCallback();\r\n    }\r\n    /** Transport implementations should call this when they receive data from a master. */\r\n    notifyClient(data) {\r\n        this.transportDataCallback(data);\r\n    }\r\n}\n\nexport { Transport as T };\n","import { nanoid } from 'nanoid/non-secure';\nimport { D as Debug } from './Debug-f39f426b.js';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { u as reset, v as undo, w as redo, s as sync, x as PlayerView, A as ActionCreators, j as SYNC, k as UPDATE, P as PATCH, l as RESET, R as REDO, h as UNDO, o as GAME_EVENT, M as MAKE_MOVE, p as STRIP_TRANSIENTS, y as patch, z as update } from './turn-order-406c4349.js';\nimport { P as ProcessGameConfig, C as CreateGameReducer, T as TransientHandlingMiddleware } from './reducer-efc3ec3e.js';\nimport { I as InitializeGame } from './initialize-8da88d04.js';\nimport { T as Transport } from './transport-ce07b771.js';\n\n/**\r\n * This class doesnt do anything, but simplifies the client class by providing\r\n * dummy functions to call, so we dont need to mock them in the client.\r\n */\r\nclass DummyImpl extends Transport {\r\n    connect() { }\r\n    disconnect() { }\r\n    sendAction() { }\r\n    sendChatMessage() { }\r\n    requestSync() { }\r\n    updateCredentials() { }\r\n    updateMatchID() { }\r\n    updatePlayerID() { }\r\n}\r\nconst DummyTransport = (opts) => new DummyImpl(opts);\n\n/**\r\n * Class to manage boardgame.io clients and limit debug panel rendering.\r\n */\r\nclass ClientManager {\r\n    constructor() {\r\n        this.debugPanel = null;\r\n        this.currentClient = null;\r\n        this.clients = new Map();\r\n        this.subscribers = new Map();\r\n    }\r\n    /**\r\n     * Register a client with the client manager.\r\n     */\r\n    register(client) {\r\n        // Add client to clients map.\r\n        this.clients.set(client, client);\r\n        // Mount debug for this client (no-op if another debug is already mounted).\r\n        this.mountDebug(client);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Unregister a client from the client manager.\r\n     */\r\n    unregister(client) {\r\n        // Remove client from clients map.\r\n        this.clients.delete(client);\r\n        if (this.currentClient === client) {\r\n            // If the removed client owned the debug panel, unmount it.\r\n            this.unmountDebug();\r\n            // Mount debug panel for next available client.\r\n            for (const [client] of this.clients) {\r\n                if (this.debugPanel)\r\n                    break;\r\n                this.mountDebug(client);\r\n            }\r\n        }\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Subscribe to the client manager state.\r\n     * Calls the passed callback each time the current client changes or a client\r\n     * registers/unregisters.\r\n     * Returns a function to unsubscribe from the state updates.\r\n     */\r\n    subscribe(callback) {\r\n        const id = Symbol();\r\n        this.subscribers.set(id, callback);\r\n        callback(this.getState());\r\n        return () => {\r\n            this.subscribers.delete(id);\r\n        };\r\n    }\r\n    /**\r\n     * Switch to a client with a matching playerID.\r\n     */\r\n    switchPlayerID(playerID) {\r\n        // For multiplayer clients, try switching control to a different client\r\n        // that is using the same transport layer.\r\n        if (this.currentClient.multiplayer) {\r\n            for (const [client] of this.clients) {\r\n                if (client.playerID === playerID &&\r\n                    client.debugOpt !== false &&\r\n                    client.multiplayer === this.currentClient.multiplayer) {\r\n                    this.switchToClient(client);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        // If no client matches, update the playerID for the current client.\r\n        this.currentClient.updatePlayerID(playerID);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Set the passed client as the active client for debugging.\r\n     */\r\n    switchToClient(client) {\r\n        if (client === this.currentClient)\r\n            return;\r\n        this.unmountDebug();\r\n        this.mountDebug(client);\r\n        this.notifySubscribers();\r\n    }\r\n    /**\r\n     * Notify all subscribers of changes to the client manager state.\r\n     */\r\n    notifySubscribers() {\r\n        const arg = this.getState();\r\n        this.subscribers.forEach((cb) => {\r\n            cb(arg);\r\n        });\r\n    }\r\n    /**\r\n     * Get the client manager state.\r\n     */\r\n    getState() {\r\n        return {\r\n            client: this.currentClient,\r\n            debuggableClients: this.getDebuggableClients(),\r\n        };\r\n    }\r\n    /**\r\n     * Get an array of the registered clients that havent disabled the debug panel.\r\n     */\r\n    getDebuggableClients() {\r\n        return [...this.clients.values()].filter((client) => client.debugOpt !== false);\r\n    }\r\n    /**\r\n     * Mount the debug panel using the passed client.\r\n     */\r\n    mountDebug(client) {\r\n        if (client.debugOpt === false ||\r\n            this.debugPanel !== null ||\r\n            typeof document === 'undefined') {\r\n            return;\r\n        }\r\n        let DebugImpl;\r\n        let target = document.body;\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            DebugImpl = Debug;\r\n        }\r\n        if (client.debugOpt && client.debugOpt !== true) {\r\n            DebugImpl = client.debugOpt.impl || DebugImpl;\r\n            target = client.debugOpt.target || target;\r\n        }\r\n        if (DebugImpl) {\r\n            this.currentClient = client;\r\n            this.debugPanel = new DebugImpl({\r\n                target,\r\n                props: { clientManager: this },\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Unmount the debug panel.\r\n     */\r\n    unmountDebug() {\r\n        this.debugPanel.$destroy();\r\n        this.debugPanel = null;\r\n        this.currentClient = null;\r\n    }\r\n}\n\n/*\r\n * Copyright 2017 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * Global client manager instance that all clients register with.\r\n */\r\nconst GlobalClientManager = new ClientManager();\r\n/**\r\n * Standardise the passed playerID, using currentPlayer if appropriate.\r\n */\r\nfunction assumedPlayerID(playerID, store, multiplayer) {\r\n    // In singleplayer mode, if the client does not have a playerID\r\n    // associated with it, we attach the currentPlayer as playerID.\r\n    if (!multiplayer && (playerID === null || playerID === undefined)) {\r\n        const state = store.getState();\r\n        playerID = state.ctx.currentPlayer;\r\n    }\r\n    return playerID;\r\n}\r\n/**\r\n * createDispatchers\r\n *\r\n * Create action dispatcher wrappers with bound playerID and credentials\r\n */\r\nfunction createDispatchers(storeActionType, innerActionNames, store, playerID, credentials, multiplayer) {\r\n    const dispatchers = {};\r\n    for (const name of innerActionNames) {\r\n        dispatchers[name] = (...args) => {\r\n            const action = ActionCreators[storeActionType](name, args, assumedPlayerID(playerID, store, multiplayer), credentials);\r\n            store.dispatch(action);\r\n        };\r\n    }\r\n    return dispatchers;\r\n}\r\n// Creates a set of dispatchers to make moves.\r\nconst createMoveDispatchers = createDispatchers.bind(null, 'makeMove');\r\n// Creates a set of dispatchers to dispatch game flow events.\r\nconst createEventDispatchers = createDispatchers.bind(null, 'gameEvent');\r\n// Creates a set of dispatchers to dispatch actions to plugins.\r\nconst createPluginDispatchers = createDispatchers.bind(null, 'plugin');\r\n/**\r\n * Implementation of Client (see below).\r\n */\r\nclass _ClientImpl {\r\n    constructor({ game, debug, numPlayers, multiplayer, matchID: matchID, playerID, credentials, enhancer, }) {\r\n        this.game = ProcessGameConfig(game);\r\n        this.playerID = playerID;\r\n        this.matchID = matchID || 'default';\r\n        this.credentials = credentials;\r\n        this.multiplayer = multiplayer;\r\n        this.debugOpt = debug;\r\n        this.manager = GlobalClientManager;\r\n        this.gameStateOverride = null;\r\n        this.subscribers = {};\r\n        this._running = false;\r\n        this.reducer = CreateGameReducer({\r\n            game: this.game,\r\n            isClient: multiplayer !== undefined,\r\n        });\r\n        this.initialState = null;\r\n        if (!multiplayer) {\r\n            this.initialState = InitializeGame({ game: this.game, numPlayers });\r\n        }\r\n        this.reset = () => {\r\n            this.store.dispatch(reset(this.initialState));\r\n        };\r\n        this.undo = () => {\r\n            const undo$1 = undo(assumedPlayerID(this.playerID, this.store, this.multiplayer), this.credentials);\r\n            this.store.dispatch(undo$1);\r\n        };\r\n        this.redo = () => {\r\n            const redo$1 = redo(assumedPlayerID(this.playerID, this.store, this.multiplayer), this.credentials);\r\n            this.store.dispatch(redo$1);\r\n        };\r\n        this.log = [];\r\n        /**\r\n         * Middleware that manages the log object.\r\n         * Reducers generate deltalogs, which are log events\r\n         * that are the result of application of a single action.\r\n         * The master may also send back a deltalog or the entire\r\n         * log depending on the type of request.\r\n         * The middleware below takes care of all these cases while\r\n         * managing the log object.\r\n         */\r\n        const LogMiddleware = (store) => (next) => (action) => {\r\n            const result = next(action);\r\n            const state = store.getState();\r\n            switch (action.type) {\r\n                case MAKE_MOVE:\r\n                case GAME_EVENT:\r\n                case UNDO:\r\n                case REDO: {\r\n                    const deltalog = state.deltalog;\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case RESET: {\r\n                    this.log = [];\r\n                    break;\r\n                }\r\n                case PATCH:\r\n                case UPDATE: {\r\n                    let id = -1;\r\n                    if (this.log.length > 0) {\r\n                        id = this.log[this.log.length - 1]._stateID;\r\n                    }\r\n                    let deltalog = action.deltalog || [];\r\n                    // Filter out actions that are already present\r\n                    // in the current log. This may occur when the\r\n                    // client adds an entry to the log followed by\r\n                    // the update from the master here.\r\n                    deltalog = deltalog.filter((l) => l._stateID > id);\r\n                    this.log = [...this.log, ...deltalog];\r\n                    break;\r\n                }\r\n                case SYNC: {\r\n                    this.initialState = action.initialState;\r\n                    this.log = action.log || [];\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and sends them to the master,\r\n         * which keeps the authoritative version of the state.\r\n         */\r\n        const TransportMiddleware = (store) => (next) => (action) => {\r\n            const baseState = store.getState();\r\n            const result = next(action);\r\n            if (!('clientOnly' in action) &&\r\n                action.type !== STRIP_TRANSIENTS) {\r\n                this.transport.sendAction(baseState, action);\r\n            }\r\n            return result;\r\n        };\r\n        /**\r\n         * Middleware that intercepts actions and invokes the subscription callback.\r\n         */\r\n        const SubscriptionMiddleware = () => (next) => (action) => {\r\n            const result = next(action);\r\n            this.notifySubscribers();\r\n            return result;\r\n        };\r\n        const middleware = applyMiddleware(TransientHandlingMiddleware, SubscriptionMiddleware, TransportMiddleware, LogMiddleware);\r\n        enhancer =\r\n            enhancer !== undefined ? compose(middleware, enhancer) : middleware;\r\n        this.store = createStore(this.reducer, this.initialState, enhancer);\r\n        if (!multiplayer)\r\n            multiplayer = DummyTransport;\r\n        this.transport = multiplayer({\r\n            transportDataCallback: (data) => this.receiveTransportData(data),\r\n            gameKey: game,\r\n            game: this.game,\r\n            matchID,\r\n            playerID,\r\n            credentials,\r\n            gameName: this.game.name,\r\n            numPlayers,\r\n        });\r\n        this.createDispatchers();\r\n        this.chatMessages = [];\r\n        this.sendChatMessage = (payload) => {\r\n            this.transport.sendChatMessage(this.matchID, {\r\n                id: nanoid(7),\r\n                sender: this.playerID,\r\n                payload: payload,\r\n            });\r\n        };\r\n    }\r\n    /** Handle incoming match data from a multiplayer transport. */\r\n    receiveMatchData(matchData) {\r\n        this.matchData = matchData;\r\n        this.notifySubscribers();\r\n    }\r\n    /** Handle an incoming chat message from a multiplayer transport. */\r\n    receiveChatMessage(message) {\r\n        this.chatMessages = [...this.chatMessages, message];\r\n        this.notifySubscribers();\r\n    }\r\n    /** Handle all incoming updates from a multiplayer transport. */\r\n    receiveTransportData(data) {\r\n        const [matchID] = data.args;\r\n        if (matchID !== this.matchID)\r\n            return;\r\n        switch (data.type) {\r\n            case 'sync': {\r\n                const [, syncInfo] = data.args;\r\n                const action = sync(syncInfo);\r\n                this.receiveMatchData(syncInfo.filteredMetadata);\r\n                this.store.dispatch(action);\r\n                break;\r\n            }\r\n            case 'update': {\r\n                const [, state, deltalog] = data.args;\r\n                const currentState = this.store.getState();\r\n                if (state._stateID >= currentState._stateID) {\r\n                    const action = update(state, deltalog);\r\n                    this.store.dispatch(action);\r\n                }\r\n                break;\r\n            }\r\n            case 'patch': {\r\n                const [, prevStateID, stateID, patch$1, deltalog] = data.args;\r\n                const currentStateID = this.store.getState()._stateID;\r\n                if (prevStateID !== currentStateID)\r\n                    break;\r\n                const action = patch(prevStateID, stateID, patch$1, deltalog);\r\n                this.store.dispatch(action);\r\n                // Emit sync if patch apply failed.\r\n                if (this.store.getState()._stateID === currentStateID) {\r\n                    this.transport.requestSync();\r\n                }\r\n                break;\r\n            }\r\n            case 'matchData': {\r\n                const [, matchData] = data.args;\r\n                this.receiveMatchData(matchData);\r\n                break;\r\n            }\r\n            case 'chat': {\r\n                const [, chatMessage] = data.args;\r\n                this.receiveChatMessage(chatMessage);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    notifySubscribers() {\r\n        Object.values(this.subscribers).forEach((fn) => fn(this.getState()));\r\n    }\r\n    overrideGameState(state) {\r\n        this.gameStateOverride = state;\r\n        this.notifySubscribers();\r\n    }\r\n    start() {\r\n        this.transport.connect();\r\n        this._running = true;\r\n        this.manager.register(this);\r\n    }\r\n    stop() {\r\n        this.transport.disconnect();\r\n        this._running = false;\r\n        this.manager.unregister(this);\r\n    }\r\n    subscribe(fn) {\r\n        const id = Object.keys(this.subscribers).length;\r\n        this.subscribers[id] = fn;\r\n        this.transport.subscribeToConnectionStatus(() => this.notifySubscribers());\r\n        if (this._running || !this.multiplayer) {\r\n            fn(this.getState());\r\n        }\r\n        // Return a handle that allows the caller to unsubscribe.\r\n        return () => {\r\n            delete this.subscribers[id];\r\n        };\r\n    }\r\n    getInitialState() {\r\n        return this.initialState;\r\n    }\r\n    getState() {\r\n        let state = this.store.getState();\r\n        if (this.gameStateOverride !== null) {\r\n            state = this.gameStateOverride;\r\n        }\r\n        // This is the state before a sync with the game master.\r\n        if (state === null) {\r\n            return state;\r\n        }\r\n        // isActive.\r\n        let isActive = true;\r\n        const isPlayerActive = this.game.flow.isPlayerActive(state.G, state.ctx, this.playerID);\r\n        if (this.multiplayer && !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (!this.multiplayer &&\r\n            this.playerID !== null &&\r\n            this.playerID !== undefined &&\r\n            !isPlayerActive) {\r\n            isActive = false;\r\n        }\r\n        if (state.ctx.gameover !== undefined) {\r\n            isActive = false;\r\n        }\r\n        // Secrets are normally stripped on the server,\r\n        // but we also strip them here so that game developers\r\n        // can see their effects while prototyping.\r\n        // Do not strip again if this is a multiplayer game\r\n        // since the server has already stripped secret info. (issue #818)\r\n        if (!this.multiplayer) {\r\n            state = {\r\n                ...state,\r\n                G: this.game.playerView(state.G, state.ctx, this.playerID),\r\n                plugins: PlayerView(state, this),\r\n            };\r\n        }\r\n        // Combine into return value.\r\n        return {\r\n            ...state,\r\n            log: this.log,\r\n            isActive,\r\n            isConnected: this.transport.isConnected,\r\n        };\r\n    }\r\n    createDispatchers() {\r\n        this.moves = createMoveDispatchers(this.game.moveNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.events = createEventDispatchers(this.game.flow.enabledEventNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n        this.plugins = createPluginDispatchers(this.game.pluginNames, this.store, this.playerID, this.credentials, this.multiplayer);\r\n    }\r\n    updatePlayerID(playerID) {\r\n        this.playerID = playerID;\r\n        this.createDispatchers();\r\n        this.transport.updatePlayerID(playerID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateMatchID(matchID) {\r\n        this.matchID = matchID;\r\n        this.createDispatchers();\r\n        this.transport.updateMatchID(matchID);\r\n        this.notifySubscribers();\r\n    }\r\n    updateCredentials(credentials) {\r\n        this.credentials = credentials;\r\n        this.createDispatchers();\r\n        this.transport.updateCredentials(credentials);\r\n        this.notifySubscribers();\r\n    }\r\n}\r\n/**\r\n * Client\r\n *\r\n * boardgame.io JS client.\r\n *\r\n * @param {...object} game - The return value of `Game`.\r\n * @param {...object} numPlayers - The number of players.\r\n * @param {...object} multiplayer - Set to a falsy value or a transportFactory, e.g., SocketIO()\r\n * @param {...object} matchID - The matchID that you want to connect to.\r\n * @param {...object} playerID - The playerID associated with this client.\r\n * @param {...string} credentials - The authentication credentials associated with this client.\r\n *\r\n * Returns:\r\n *   A JS object that provides an API to interact with the\r\n *   game by dispatching moves and events.\r\n */\r\nfunction Client(opts) {\r\n    return new _ClientImpl(opts);\r\n}\n\nexport { Client as C };\n","const assertString = (str, label) => {\r\n    if (!str || typeof str !== 'string') {\r\n        throw new Error(`Expected ${label} string, got \"${str}\".`);\r\n    }\r\n};\r\nconst assertGameName = (name) => assertString(name, 'game name');\r\nconst assertMatchID = (id) => assertString(id, 'match ID');\r\nconst validateBody = (body, schema) => {\r\n    if (!body)\r\n        throw new Error(`Expected body, got ${body}.`);\r\n    for (const key in schema) {\r\n        const propSchema = schema[key];\r\n        const types = Array.isArray(propSchema) ? propSchema : [propSchema];\r\n        const received = body[key];\r\n        if (!types.includes(typeof received)) {\r\n            const union = types.join('|');\r\n            throw new TypeError(`Expected body.${key} to be of type ${union}, got ${received}.`);\r\n        }\r\n    }\r\n};\r\nclass LobbyClientError extends Error {\r\n    constructor(message, details) {\r\n        super(message);\r\n        this.details = details;\r\n    }\r\n}\r\n/**\r\n * Create a boardgame.io Lobby API client.\r\n * @param server The APIs base URL, e.g. `http://localhost:8000`.\r\n */\r\nclass LobbyClient {\r\n    constructor({ server = '' } = {}) {\r\n        // strip trailing slash if passed\r\n        this.server = server.replace(/\\/$/, '');\r\n    }\r\n    async request(route, init) {\r\n        const response = await fetch(this.server + route, init);\r\n        if (!response.ok) {\r\n            let details;\r\n            try {\r\n                details = await response.clone().json();\r\n            }\r\n            catch {\r\n                try {\r\n                    details = await response.text();\r\n                }\r\n                catch (error) {\r\n                    details = error.message;\r\n                }\r\n            }\r\n            throw new LobbyClientError(`HTTP status ${response.status}`, details);\r\n        }\r\n        return response.json();\r\n    }\r\n    async post(route, opts) {\r\n        let init = {\r\n            method: 'post',\r\n            body: JSON.stringify(opts.body),\r\n            headers: { 'Content-Type': 'application/json' },\r\n        };\r\n        if (opts.init)\r\n            init = {\r\n                ...init,\r\n                ...opts.init,\r\n                headers: { ...init.headers, ...opts.init.headers },\r\n            };\r\n        return this.request(route, init);\r\n    }\r\n    /**\r\n     * Get a list of the game names available on this server.\r\n     * @param  init Optional RequestInit interface to override defaults.\r\n     * @return Array of game names.\r\n     *\r\n     * @example\r\n     * lobbyClient.listGames()\r\n     *   .then(console.log); // => ['chess', 'tic-tac-toe']\r\n     */\r\n    async listGames(init) {\r\n        return this.request('/games', init);\r\n    }\r\n    /**\r\n     * Get a list of the matches for a specific game type on the server.\r\n     * @param  gameName The game to list for, e.g. 'tic-tac-toe'.\r\n     * @param  where    Options to filter matches by update time or gameover state\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Array of match metadata objects.\r\n     *\r\n     * @example\r\n     * lobbyClient.listMatches('tic-tac-toe', where: { isGameover: false })\r\n     *   .then(data => console.log(data.matches));\r\n     * // => [\r\n     * //   {\r\n     * //     matchID: 'xyz',\r\n     * //     gameName: 'tic-tac-toe',\r\n     * //     players: [{ id: 0, name: 'Alice' }, { id: 1 }]\r\n     * //   },\r\n     * //   ...\r\n     * // ]\r\n     */\r\n    async listMatches(gameName, where, init) {\r\n        assertGameName(gameName);\r\n        let query = '';\r\n        if (where) {\r\n            const queries = [];\r\n            const { isGameover, updatedBefore, updatedAfter } = where;\r\n            if (isGameover !== undefined)\r\n                queries.push(`isGameover=${isGameover}`);\r\n            if (updatedBefore)\r\n                queries.push(`updatedBefore=${updatedBefore}`);\r\n            if (updatedAfter)\r\n                queries.push(`updatedAfter=${updatedAfter}`);\r\n            if (queries.length > 0)\r\n                query = '?' + queries.join('&');\r\n        }\r\n        return this.request(`/games/${gameName}${query}`, init);\r\n    }\r\n    /**\r\n     * Get metadata for a specific match.\r\n     * @param  gameName The matchs game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to fetch.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return A match metadata object.\r\n     *\r\n     * @example\r\n     * lobbyClient.getMatch('tic-tac-toe', 'xyz').then(console.log);\r\n     * // => {\r\n     * //   matchID: 'xyz',\r\n     * //   gameName: 'tic-tac-toe',\r\n     * //   players: [{ id: 0, name: 'Alice' }, { id: 1 }]\r\n     * // }\r\n     */\r\n    async getMatch(gameName, matchID, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        return this.request(`/games/${gameName}/${matchID}`, init);\r\n    }\r\n    /**\r\n     * Create a new match for a specific game type.\r\n     * @param  gameName The game to create a match for, e.g. 'tic-tac-toe'.\r\n     * @param  body     Options required to configure match creation.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return An object containing the created `matchID`.\r\n     *\r\n     * @example\r\n     * lobbyClient.createMatch('tic-tac-toe', { numPlayers: 2 })\r\n     *   .then(console.log);\r\n     * // => { matchID: 'xyz' }\r\n     */\r\n    async createMatch(gameName, body, init) {\r\n        assertGameName(gameName);\r\n        validateBody(body, { numPlayers: 'number' });\r\n        return this.post(`/games/${gameName}/create`, { body, init });\r\n    }\r\n    /**\r\n     * Join a match using its matchID.\r\n     * @param  gameName The matchs game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to join.\r\n     * @param  body     Options required to join match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Object containing `playerCredentials` for the player who joined.\r\n     *\r\n     * @example\r\n     * lobbyClient.joinMatch('tic-tac-toe', 'xyz', {\r\n     *   playerID: '1',\r\n     *   playerName: 'Bob',\r\n     * }).then(console.log);\r\n     * // => { playerID: '1', playerCredentials: 'random-string' }\r\n     */\r\n    async joinMatch(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, {\r\n            playerID: ['string', 'undefined'],\r\n            playerName: 'string',\r\n        });\r\n        return this.post(`/games/${gameName}/${matchID}/join`, { body, init });\r\n    }\r\n    /**\r\n     * Leave a previously joined match.\r\n     * @param  gameName The matchs game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to leave.\r\n     * @param  body     Options required to leave match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Promise resolves if successful.\r\n     *\r\n     * @example\r\n     * lobbyClient.leaveMatch('tic-tac-toe', 'xyz', {\r\n     *   playerID: '1',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     * })\r\n     *   .then(() => console.log('Left match.'))\r\n     *   .catch(error => console.error('Error leaving match', error));\r\n     */\r\n    async leaveMatch(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        await this.post(`/games/${gameName}/${matchID}/leave`, { body, init });\r\n    }\r\n    /**\r\n     * Update a players name or custom metadata.\r\n     * @param  gameName The matchs game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to update.\r\n     * @param  body     Options required to update player.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Promise resolves if successful.\r\n     *\r\n     * @example\r\n     * lobbyClient.updatePlayer('tic-tac-toe', 'xyz', {\r\n     *   playerID: '0',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     *   newName: 'Al',\r\n     * })\r\n     *   .then(() => console.log('Updated player data.'))\r\n     *   .catch(error => console.error('Error updating data', error));\r\n     */\r\n    async updatePlayer(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        await this.post(`/games/${gameName}/${matchID}/update`, { body, init });\r\n    }\r\n    /**\r\n     * Create a new match based on the configuration of the current match.\r\n     * @param  gameName The matchs game type, e.g. 'tic-tac-toe'.\r\n     * @param  matchID  Match ID for the match to play again.\r\n     * @param  body     Options required to configure match.\r\n     * @param  init     Optional RequestInit interface to override defaults.\r\n     * @return Object containing `nextMatchID`.\r\n     *\r\n     * @example\r\n     * lobbyClient.playAgain('tic-tac-toe', 'xyz', {\r\n     *   playerID: '0',\r\n     *   credentials: 'credentials-returned-when-joining',\r\n     * })\r\n     *   .then(({ nextMatchID }) => {\r\n     *     return lobbyClient.joinMatch('tic-tac-toe', nextMatchID, {\r\n     *       playerID: '0',\r\n     *       playerName: 'Al',\r\n     *     })\r\n     *   })\r\n     *   .then({ playerCredentials } => {\r\n     *     console.log(playerCredentials);\r\n     *   })\r\n     *   .catch(console.error);\r\n     */\r\n    async playAgain(gameName, matchID, body, init) {\r\n        assertGameName(gameName);\r\n        assertMatchID(matchID);\r\n        validateBody(body, { playerID: 'string', credentials: 'string' });\r\n        return this.post(`/games/${gameName}/${matchID}/playAgain`, { body, init });\r\n    }\r\n}\n\nexport { LobbyClient as L, LobbyClientError as a };\n","import 'nanoid/non-secure';\nimport './Debug-f39f426b.js';\nimport 'redux';\nimport './turn-order-406c4349.js';\nimport 'immer';\nimport 'lodash.isplainobject';\nimport './reducer-efc3ec3e.js';\nimport 'rfc6902';\nimport './initialize-8da88d04.js';\nimport './transport-ce07b771.js';\nexport { C as Client } from './client-48f68c72.js';\nimport 'flatted';\nimport 'setimmediate';\nimport './ai-7a5eea10.js';\nexport { L as LobbyClient, a as LobbyClientError } from './client-5f57c3f2.js';\n","export { D as ActivePlayers, G as GameMethod, n as INVALID_MOVE, S as Stage, T as TurnOrder } from './turn-order-406c4349.js';\nimport 'immer';\nimport 'lodash.isplainobject';\n\n/*\r\n * Copyright 2018 The boardgame.io Authors\r\n *\r\n * Use of this source code is governed by a MIT-style\r\n * license that can be found in the LICENSE file or at\r\n * https://opensource.org/licenses/MIT.\r\n */\r\n/**\r\n * PlayerView reducers.\r\n */\r\nconst PlayerView = {\r\n    /**\r\n     * STRIP_SECRETS\r\n     *\r\n     * Reducer which removes a key named `secret` and\r\n     * removes all the keys in `players`, except for the one\r\n     * corresponding to the current playerID.\r\n     */\r\n    STRIP_SECRETS: (G, ctx, playerID) => {\r\n        const r = { ...G };\r\n        if (r.secret !== undefined) {\r\n            delete r.secret;\r\n        }\r\n        if (r.players) {\r\n            r.players = playerID\r\n                ? {\r\n                    [playerID]: r.players[playerID],\r\n                }\r\n                : {};\r\n        }\r\n        return r;\r\n    },\r\n};\n\nexport { PlayerView };\n","import { INVALID_MOVE } from 'boardgame.io/core';\r\n\r\nexport const Shogi = {\r\n\r\n    setup: () => { \r\n      let cells = fillBoard();\r\n      \r\n      return {\r\n        cells: cells,     \r\n        sente_captured_pieces: [],\r\n        gote_captured_pieces: [],\r\n        sente_king_position: \"04\",\r\n        gote_king_position: \"84\",\r\n        \r\n      }\r\n    },\r\n  \r\n    turn: {\r\n      minMoves: 1,\r\n      maxMoves:1,   \r\n    },\r\n\r\n    moves: {\r\n      movePiece: (G, ctx, initial_row,initial_column, target_row,target_column,player_piece,highlight=null) => {\r\n        /////////////////////////// MOVIMIENTO //////////////////////////\r\n        //console.log(\"Player: \" + ctx.currentPlayer + \" wants to move \" + player_piece + \" de \" + initial_row+ \" a \" + target_row )\r\n        let possible_cells = getPossibleCells(G.cells,initial_row,initial_column,ctx.currentPlayer.concat(player_piece))\r\n        //console.log(\"Movimientos validos: \" + possible_cells)\r\n\r\n        var valid_move = false;\r\n        var row = G.cells[initial_row];\r\n        var new_row = G.cells[target_row];\r\n        var capture = false;\r\n        var target_piece \r\n\r\n        for(let valid of possible_cells){\r\n          let valid_row = valid.substr(0,1)\r\n          let valid_column = valid.substr(1,2)\r\n          if(valid_row==target_row && valid_column==target_column){\r\n            valid_move = true;\r\n            //quitar pieza\r\n            row[initial_column]=null;\r\n            G.cells[initial_row] = row;\r\n            //poner pieza\r\n            if(new_row[target_column]!=null){\r\n              capture = true; \r\n              if(new_row[target_column].substr(1,1)==\"A\"){target_piece=new_row[target_column].substr(2,2)}\r\n              else{target_piece=new_row[target_column].substr(1,2)}\r\n            }\r\n            new_row[target_column] = ctx.currentPlayer.concat(player_piece)\r\n            if(capture){\r\n                if(ctx.currentPlayer==\"0\"){G.sente_captured_pieces.push(target_piece)}\r\n                else{G.gote_captured_pieces.push(target_piece)}\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if(valid_move == false){return INVALID_MOVE}\r\n        /////////////////////////// MOVIMIENTO REY //////////////////////////\r\n        if(player_piece==\"KING\"){\r\n          if(ctx.currentPlayer==\"0\"){\r\n            G.sente_king_position = target_row.toString().concat(target_column)\r\n          }\r\n          if(ctx.currentPlayer==\"1\"){\r\n            G.gote_king_position = target_row.toString().concat(target_column)\r\n          }\r\n        }\r\n        ////////////////////////////////////////////////////////////////////\r\n\r\n        /////////////////////////CHECK SITUATION/////////////////////////\r\n        let still_check = true        \r\n          if(ctx.currentPlayer==\"0\"){still_check = isCheck(G,\"1\")} \r\n          if(ctx.currentPlayer==\"1\"){still_check = isCheck(G,\"0\")}\r\n          if(still_check){return INVALID_MOVE}      \r\n        ////////////////////////////////////////////////////////////////    \r\n\r\n        /////////////////////////// PROMOCIN //////////////////////////////\r\n        let arised_piece = player_piece.substr(0,1);\r\n        if(   ((target_row>=6 && ctx.currentPlayer==0) || (target_row<=2 && ctx.currentPlayer==1) \r\n              || (initial_row>=6 && ctx.currentPlayer==0) || (initial_row<=2 && ctx.currentPlayer==1))\r\n              && (player_piece!=\"KING\" && player_piece!=\"G\" && arised_piece!=\"A\")\r\n          ){ \r\n            arisePiece(G,ctx.currentPlayer.concat(player_piece),target_row,target_column);\r\n          if (confirm(\"Arise piece?\")) {\r\n            arisePiece(G,ctx.currentPlayer.concat(player_piece),target_row,target_column);\r\n          }\r\n        }\r\n        ///////////////////////////////////////////////////////////////////\r\n        if(highlight!=null){highlight.className = \"cell\";}\r\n\r\n        \r\n      },\r\n      revivePiece: (G, ctx, target_row,target_column,player_piece,highlight=None) => {\r\n        /////////////////////////// MOVIMIENTO //////////////////////////\r\n        let possible_cells = getPossibleRevive(G.cells,player_piece)\r\n        var valid_move = false;\r\n        var new_row = G.cells[target_row];\r\n\r\n        for(let valid of possible_cells){\r\n          let valid_row = valid.substr(0,1)\r\n          let valid_column = valid.substr(1,2)\r\n          if(valid_row==target_row && valid_column==target_column){\r\n            valid_move = true;\r\n            //poner pieza\r\n            new_row[target_column] = player_piece\r\n            break;\r\n          }\r\n        }\r\n        if(valid_move == false){return INVALID_MOVE}\r\n        ////////////////////////TAKE OUT FROM CAPTURED PIECES///////////\r\n          if(ctx.currentPlayer==\"0\"){\r\n            const index = G.sente_captured_pieces.indexOf(player_piece.substr(1,4));\r\n            if(index<0){return INVALID_MOVE}\r\n            G.sente_captured_pieces.splice(index, 1); \r\n          }\r\n          if(ctx.currentPlayer==\"1\"){\r\n            const index = G.gote_captured_pieces.indexOf(player_piece.substr(1,4));\r\n            if(index<0){return INVALID_MOVE}\r\n            G.gote_captured_pieces.splice(index, 1);\r\n          }\r\n        ////////////////////////////////////////////////////////////////\r\n\r\n        /////////////////////////CHECK SITUATION/////////////////////////\r\n        let still_check = true        \r\n          if(ctx.currentPlayer==\"0\"){still_check = isCheck(G,\"1\")} \r\n          if(ctx.currentPlayer==\"1\"){still_check = isCheck(G,\"0\")}\r\n          if(still_check){return INVALID_MOVE}      \r\n        ////////////////////////////////////////////////////////////////    \r\n        isCheck(G,ctx.currentPlayer)\r\n        highlight.className = \"cell\";\r\n      }\r\n    \r\n    },\r\n\r\n    ai: {\r\n      enumerate: (G, ctx) => {\r\n        let moves = [];\r\n        var possible_moves = []\r\n        for (let [row_id,row] of G.cells.entries()){\r\n          for (let [column_id,piece] of row.entries()){\r\n            if(piece !=null && piece.substr(0,1)==ctx.currentPlayer){\r\n              possible_moves = getPossibleCells(G.cells,row_id,column_id,piece)\r\n              if(possible_moves!=null && possible_moves.length>0){\r\n                for(let move of possible_moves){\r\n                  //console.log(\"Mando...\" + row_id + \" \" + column_id + \" a \" + move + \" y mando \" + piece.substr(1,4))\r\n                  moves.push({move: 'movePiece', args: [row_id,column_id,move.substr(0,1),move.substr(1,2),piece.substr(1,4)]})\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return moves;\r\n      },\r\n    },\r\n\r\n    endIf: (G,ctx)=> {\r\n      if(isCheckMate(G,ctx)){\r\n        //alert(\"FIN! GANADOR: \" + ctx.currentPlayer)\r\n        return { winner: ctx.currentPlayer };\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  //////////------------PIECES------------//////////\r\n\r\n  const pieces = {\r\n    GOTE_KING: '1KING',\r\n    GOTE_GOLDEN_GENERAL: '1G',\r\n    GOTE_SILVER_GENERAL: '1S',\r\n    GOTE_KNIGHT: '1K',\r\n    GOTE_LANCE: '1L',\r\n    GOTE_BISHOP: '1B',\r\n    GOTE_ROOK:'1R',\r\n    GOTE_PAWN: '1P',\r\n\r\n    SENTE_KING: '0KING',\r\n    SENTE_GOLDEN_GENERAL: '0G',\r\n    SENTE_SILVER_GENERAL: '0S',\r\n    SENTE_KNIGHT: '0K',\r\n    SENTE_LANCE: '0L',\r\n    SENTE_BISHOP: '0B',\r\n    SENTE_ROOK:'0R',\r\n    SENTE_PAWN: '0P',\r\n\r\n\r\n    ARISED_GOTE_SILVER_GENERAL: '1AS',\r\n    ARISED_GOTE_KNIGHT: '1AK',\r\n    ARISED_GOTE_LANCE: '1AL',\r\n    ARISED_GOTE_BISHOP: '1AB',\r\n    ARISED_GOTE_ROOK:'1AR',\r\n    ARISED_GOTE_PAWN: '1AP',\r\n\r\n    ARISED_SENTE_SILVER_GENERAL: '0AS',\r\n    ARISED_SENTE_KNIGHT: '0AK',\r\n    ARISED_SENTE_LANCE: '0AL',\r\n    ARISED_SENTE_BISHOP: '0AB',\r\n    ARISED_SENTE_ROOK:'0AR',\r\n    ARISED_SENTE_PAWN: '0AP'\r\n};\r\n  //////////------------FUNCTIONS------------//////////\r\n  function fillBoard(){\r\n    let board = new Array(9).fill(null);\r\n    var tablero = new Array(9).fill(null);\r\n    for(let i=0;i<9;i++){\r\n      board[i] = new Array(9).fill(null);\r\n      tablero[i] = new Array(9).fill(null);\r\n      for(let j=0;j<9;j++){\r\n        if(i==2){board[i][j] = pieces.SENTE_PAWN; } \r\n        if(i==6){board[i][j]= pieces.GOTE_PAWN;}\r\n\r\n        if(i==0){\r\n          if(j==0 || j==8){board[i][j]= pieces.SENTE_LANCE}\r\n          if(j==1 || j==7){board[i][j]= pieces.SENTE_KNIGHT}\r\n          if(j==2 ||j==6){board[i][j]= pieces.SENTE_SILVER_GENERAL}\r\n          if(j==3 ||j==5){board[i][j]= pieces.SENTE_GOLDEN_GENERAL}\r\n          if(j==4){board[i][j]= pieces.SENTE_KING}\r\n        }\r\n        if(i==8){\r\n          if(j==0 || j==8){board[i][j]= pieces.GOTE_LANCE}\r\n          if(j==1 || j==7){board[i][j]= pieces.GOTE_KNIGHT}\r\n          if(j==2 ||j==6){board[i][j]= pieces.GOTE_SILVER_GENERAL}\r\n          if(j==3 ||j==5){board[i][j]= pieces.GOTE_GOLDEN_GENERAL}\r\n          if(j==4){board[i][j]= pieces.GOTE_KING}\r\n        }\r\n\r\n        if(i==1){if(j==1){board[i][j]=pieces.SENTE_ROOK}if(j==7){board[i][j]=pieces.SENTE_BISHOP}}\r\n        if(i==7){if(j==1){board[i][j]=pieces.GOTE_BISHOP}if(j==7){board[i][j]=pieces.GOTE_ROOK}}        \r\n      }\r\n\r\n    }\r\n    return board;\r\n\r\n  }\r\n\r\n  function arisePiece(G,player_and_piece,target_row,target_column){\r\n    var new_row = G.cells[target_row];\r\n    var player = player_and_piece.substr(0,1)\r\n    var player_piece = player_and_piece.substr(1,4)\r\n    if(player==\"0\"){\r\n      if(player_piece==\"S\"){new_row[target_column]=pieces.ARISED_SENTE_SILVER_GENERAL}\r\n      else if(player_piece==\"K\"){new_row[target_column]=pieces.ARISED_SENTE_KNIGHT}\r\n      else if(player_piece==\"L\"){new_row[target_column]=pieces.ARISED_SENTE_LANCE}\r\n      else if(player_piece==\"B\"){new_row[target_column]=pieces.ARISED_SENTE_BISHOP}\r\n      else if(player_piece==\"R\"){new_row[target_column]=pieces.ARISED_SENTE_ROOK}\r\n      else if(player_piece==\"P\"){new_row[target_column]=pieces.ARISED_SENTE_PAWN}\r\n    }\r\n    else{\r\n      if(player_piece==\"S\"){new_row[target_column]=pieces.ARISED_GOTE_SILVER_GENERAL}\r\n      else if(player_piece==\"K\"){new_row[target_column]=pieces.ARISED_GOTE_KNIGHT}\r\n      else if(player_piece==\"L\"){new_row[target_column]=pieces.ARISED_GOTE_LANCE}\r\n      else if(player_piece==\"B\"){new_row[target_column]=pieces.ARISED_GOTE_BISHOP}\r\n      else if(player_piece==\"R\"){new_row[target_column]=pieces.ARISED_GOTE_ROOK}\r\n      else if(player_piece==\"P\"){new_row[target_column]=pieces.ARISED_GOTE_PAWN}\r\n    }\r\n  }\r\n  export function getPossibleCells(cells,row_id,column_id,piece){\r\n    if(piece.substr(0,1)==\"0\"){return getPossibleCellsSente(cells,row_id,column_id,piece)}\r\n    if(piece.substr(0,1)==\"1\"){return getPossibleCellsGote(cells,row_id,column_id,piece)}\r\n\r\n  }\r\n  function getPossibleCellsSente(cells,row_id,column_id,piece){\r\n    var possible_cells = [];\r\n    var row = 0;\r\n    piece = piece.substr(1,4)\r\n \r\n        if(piece==\"P\"){ \r\n          let next_row = cells[row_id+1];\r\n          if(row_id<8 && (next_row[column_id]==null || next_row[column_id].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n          } \r\n        }  \r\n        else if(piece==\"L\"){\r\n          var stop = false\r\n              for(let i=row_id+1;i<9;i++){\r\n                row = cells[i];\r\n                if(!stop && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n                  let possible_cell = i.toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  if(row[column_id]!=null && row[column_id].substr(0,1)==\"1\"){stop=true}\r\n                }\r\n                else{break;}\r\n              }\r\n        }\r\n        else if(piece==\"K\"){\r\n          row = cells[row_id+2];\r\n          if(row_id<7){\r\n            if((row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\") && column_id<8 ){\r\n              let possible_cell = (row_id+2).toString().concat(column_id+1);\r\n              possible_cells.push(possible_cell)        \r\n             }\r\n            if((row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\") && (column_id-1)>=0 ){\r\n              let possible_cell = (row_id+2).toString().concat(column_id-1);\r\n              possible_cells.push(possible_cell)\r\n             }\r\n          }\r\n         \r\n         \r\n        }\r\n        else if(piece==\"G\" || piece==\"AP\" || piece==\"AL\"  || piece==\"AK\" || piece==\"AS\"){\r\n            row = cells[row_id-1];\r\n            if(row_id>0 && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n              let possible_cell = (row_id-1).toString().concat(column_id);\r\n              possible_cells.push(possible_cell)\r\n            } \r\n            row = cells[row_id];\r\n            if(column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n              let possible_cell = (row_id).toString().concat(column_id-1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            if(column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n              let possible_cell = (row_id).toString().concat(column_id+1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            \r\n            row = cells[row_id+1];\r\n            if(row_id<8 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n              let possible_cell = (row_id+1).toString().concat(column_id-1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            if(row_id<8 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n              let possible_cell = (row_id+1).toString().concat(column_id+1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            if(row_id<8 && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n              let possible_cell = (row_id+1).toString().concat(column_id);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n        }\r\n        else if(piece==\"S\"){\r\n          row = cells[row_id-1];\r\n          if(row_id>0  && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          if(row_id>0 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          \r\n          row = cells[row_id+1];\r\n          if(row_id<8 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          if(row_id<8 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          if(row_id<8 && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n        }\r\n        else if(piece==\"KING\"){\r\n          row = cells[row_id-1];\r\n          if(row_id>0 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id>0 && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id>0 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          \r\n          row = cells[row_id];\r\n          if(column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n\r\n          row = cells[row_id+1];\r\n          if(row_id<8 && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id<8 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id<8 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n        }\r\n        else if(piece==\"R\"){\r\n          var actual_row = cells[row_id]\r\n          var back_row\r\n          var front_row\r\n          var right_stop = false\r\n          var left_stop = false\r\n          var back_stop = false\r\n          var front_stop = false\r\n          for(let i=1;i<9;i++){\r\n                if(!right_stop && (column_id-i)>=0 && (actual_row[column_id-i]==null || actual_row[column_id-i].substr(0,1)==\"1\")){\r\n                  let possible_cell = row_id.toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Rook move 1: \" + possible_cell);\r\n                }  \r\n                if(!left_stop && (column_id+i)<=8 && (actual_row[column_id+i]==null || actual_row[column_id+i].substr(0,1)==\"1\") ){\r\n                  let possible_cell = row_id.toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Rook move 2: \" + possible_cell);\r\n                } \r\n                if(!right_stop && (column_id-i)>=0 && actual_row[column_id-i]!=null && (actual_row[column_id-i].substr(0,1)==\"0\" || actual_row[column_id-i].substr(0,1)==\"1\")){right_stop=true} \r\n                if(!left_stop && (column_id+i)<=8 && actual_row[column_id+i]!=null && (actual_row[column_id+i].substr(0,1)==\"0\" || actual_row[column_id+i].substr(0,1)==\"1\")){left_stop=true} \r\n                \r\n                back_row = cells[row_id-i]\r\n                front_row = cells[row_id+i]\r\n                if(!back_stop && (row_id-i)>=0 && (back_row[column_id]==null || back_row[column_id].substr(0,1)==\"1\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                 // console.log(\"Rook move 3: \" + possible_cell);\r\n                }  \r\n                if(!front_stop && (row_id+i)<=8 && (front_row[column_id]==null || front_row[column_id].substr(0,1)==\"1\") ){\r\n                  let possible_cell = (row_id+i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Rook move 4: \" + possible_cell);\r\n                } \r\n                if(!back_stop && (row_id-i)>=0 && back_row[column_id]!=null &&  (back_row[column_id].substr(0,1)==\"0\" || back_row[column_id].substr(0,1)==\"1\")){back_stop=true} \r\n                if(!front_stop && (row_id+i)<=8 && front_row[column_id]!=null && (front_row[column_id].substr(0,1)==\"0\" || front_row[column_id].substr(0,1)==\"1\")){front_stop=true} \r\n\r\n          }\r\n        }\r\n        else if(piece==\"B\"){\r\n          var back_row = cells[row_id]\r\n          var front_row = cells[row_id]\r\n\r\n          var back_right_stop = false\r\n          var back_left_stop = false\r\n          var front_right_stop = false\r\n          var front_left_stop = false\r\n          for(let i=1;i<10;i++){\r\n            back_row = cells[row_id-i]\r\n            front_row = cells[row_id+i]\r\n            //back_right\r\n              if(!back_right_stop && back_row!=null && (column_id+i)<9 && (back_row[column_id+i]==null || back_row[column_id+i].substr(0,1)==\"1\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Bishop move 1: \" + possible_cell);\r\n              }  \r\n              if(!back_right_stop &&  back_row!=null && (column_id+i)<9 && back_row[column_id+i]!=null &&(back_row[column_id+i].substr(0,1)==\"0\" || back_row[column_id+i].substr(0,1)==\"1\")){back_right_stop=true} \r\n            \r\n            //back left\r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && (back_row[column_id-i]==null || back_row[column_id-i].substr(0,1)==\"1\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Bishop move 2: \" + possible_cell);\r\n              } \r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && back_row[column_id-i]!=null  &&  (back_row[column_id-i].substr(0,1)==\"0\" || back_row[column_id-i].substr(0,1)==\"1\")){back_left_stop=true} \r\n\r\n            //front right\r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && (front_row[column_id+i]==null || front_row[column_id+i].substr(0,1)==\"1\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id+i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Bishop move 3: \" + possible_cell);\r\n              } \r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && front_row[column_id+i]!=null &&  (front_row[column_id+i].substr(0,1)==\"0\" || front_row[column_id+i].substr(0,1)==\"1\")){front_right_stop=true} \r\n\r\n            //front left  \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && (front_row[column_id-i]==null || front_row[column_id-i].substr(0,1)==\"1\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id-i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Bishop move 4: \" + possible_cell);\r\n              } \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && front_row[column_id-i]!=null &&   (front_row[column_id-i].substr(0,1)==\"0\" || front_row[column_id-i].substr(0,1)==\"1\")){front_left_stop=true} \r\n\r\n            \r\n          }\r\n          \r\n        }\r\n        else if(piece==\"AB\"){\r\n          var back_row = cells[row_id]\r\n          var front_row = cells[row_id]\r\n\r\n          var back_right_stop = false\r\n          var back_left_stop = false\r\n          var front_right_stop = false\r\n          var front_left_stop = false\r\n          for(let i=1;i<10;i++){\r\n            back_row = cells[row_id-i]\r\n            front_row = cells[row_id+i]\r\n            //back_right\r\n              if(!back_right_stop && back_row!=null && (column_id+i)<9 && (back_row[column_id+i]==null || back_row[column_id+i].substr(0,1)==\"1\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Semental move 1: \" + possible_cell);\r\n              }  \r\n              if(!back_right_stop &&  back_row!=null && (column_id+i)<9 && back_row[column_id+i]!=null &&(back_row[column_id+i].substr(0,1)==\"0\" || back_row[column_id+i].substr(0,1)==\"1\")){back_right_stop=true} \r\n            \r\n            //back left\r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && (back_row[column_id-i]==null || back_row[column_id-i].substr(0,1)==\"1\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Semental move 2: \" + possible_cell);\r\n              } \r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && back_row[column_id-i]!=null  &&  (back_row[column_id-i].substr(0,1)==\"0\" || back_row[column_id-i].substr(0,1)==\"1\")){back_left_stop=true} \r\n\r\n            //front right\r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && (front_row[column_id+i]==null || front_row[column_id+i].substr(0,1)==\"1\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id+i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Semental move 3: \" + possible_cell);\r\n              } \r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && front_row[column_id+i]!=null &&  (front_row[column_id+i].substr(0,1)==\"0\" || front_row[column_id+i].substr(0,1)==\"1\")){front_right_stop=true} \r\n\r\n            //front left  \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && (front_row[column_id-i]==null || front_row[column_id-i].substr(0,1)==\"1\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id-i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Semental move 4: \" + possible_cell);\r\n              } \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && front_row[column_id-i]!=null &&   (front_row[column_id-i].substr(0,1)==\"0\" || front_row[column_id-i].substr(0,1)==\"1\")){front_left_stop=true} \r\n          }\r\n\r\n          row = cells[row_id-1];\r\n          if(row_id>0 && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.2: \" + possible_cell);\r\n          }\r\n          \r\n          row = cells[row_id];\r\n          if(column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.4: \" + possible_cell);\r\n          }\r\n          if(column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.5: \" + possible_cell);\r\n          }\r\n\r\n          row = cells[row_id+1];\r\n          if(row_id<8 && (row[column_id]==null || row[column_id].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.7: \" + possible_cell);\r\n          }\r\n\r\n\r\n        }\r\n        else if(piece==\"AR\"){ \r\n          var actual_row = cells[row_id]\r\n          var back_row\r\n          var front_row\r\n          var right_stop = false\r\n          var left_stop = false\r\n          var back_stop = false\r\n          var front_stop = false\r\n          for(let i=1;i<9;i++){\r\n                if(!right_stop && (column_id-i)>=0 && (actual_row[column_id-i]==null || actual_row[column_id-i].substr(0,1)==\"1\")){\r\n                  let possible_cell = row_id.toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 1: \" + possible_cell);\r\n                }  \r\n                if(!left_stop && (column_id+i)<=8 && (actual_row[column_id+i]==null || actual_row[column_id+i].substr(0,1)==\"1\") ){\r\n                  let possible_cell = row_id.toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 2: \" + possible_cell);\r\n                } \r\n                if(!right_stop && (column_id-i)>=0 && actual_row[column_id-i]!=null && (actual_row[column_id-i].substr(0,1)==\"0\" || actual_row[column_id-i].substr(0,1)==\"1\")){right_stop=true} \r\n                if(!left_stop && (column_id+i)<=8 && actual_row[column_id+i]!=null && (actual_row[column_id+i].substr(0,1)==\"0\" || actual_row[column_id+i].substr(0,1)==\"1\")){left_stop=true} \r\n                \r\n                back_row = cells[row_id-i]\r\n                front_row = cells[row_id+i]\r\n                if(!back_stop && (row_id-i)>=0 && (back_row[column_id]==null || back_row[column_id].substr(0,1)==\"1\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 3: \" + possible_cell);\r\n                }  \r\n                if(!front_stop && (row_id+i)<=8 && (front_row[column_id]==null || front_row[column_id].substr(0,1)==\"1\") ){\r\n                  let possible_cell = (row_id+i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 4: \" + possible_cell);\r\n                } \r\n                if(!back_stop && (row_id-i)>=0 && back_row[column_id]!=null &&  (back_row[column_id].substr(0,1)==\"0\" || back_row[column_id].substr(0,1)==\"1\")){back_stop=true} \r\n                if(!front_stop && (row_id+i)<=8 && front_row[column_id]!=null && (front_row[column_id].substr(0,1)==\"0\" || front_row[column_id].substr(0,1)==\"1\")){front_stop=true} \r\n\r\n          }\r\n          row = cells[row_id-1];\r\n          if(row_id>0 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.1: \" + possible_cell);\r\n          }\r\n          \r\n          if(row_id>0 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.2: \" + possible_cell);\r\n          }\r\n\r\n          row = cells[row_id+1];\r\n          if(row_id<8 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.4: \" + possible_cell);\r\n          }\r\n          if(row_id<8 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"1\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.3: \" + possible_cell);\r\n          }\r\n        }\r\n        return possible_cells;\r\n  }\r\n  function getPossibleCellsGote(cells,row_id,column_id,piece){\r\n    var possible_cells = [];\r\n    var row = 0;\r\n    piece = piece.substr(1,4)\r\n        if(piece==\"P\"){ \r\n          let next_row = cells[row_id-1];\r\n          if(row_id>0 && (next_row[column_id]==null || next_row[column_id].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Pawn moves to: \" + possible_cell)\r\n          }\r\n           \r\n          \r\n        }  \r\n        else if(piece==\"L\"){\r\n          var stop = false\r\n              for(let i=row_id-1;i>=0;i--){\r\n                row = cells[i];\r\n                if(!stop && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n                  let possible_cell = i.toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  if(row[column_id]!=null && row[column_id].substr(0,1)==\"0\"){stop=true}\r\n                  //console.log(\"Lance moves to: \" + possible_cell)\r\n                }\r\n                else{break;}\r\n              }\r\n        }\r\n        else if(piece==\"K\"){\r\n          row = cells[row_id-2];\r\n          if(row_id>1){\r\n            if((row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\") && column_id<8 ){\r\n              let possible_cell = (row_id-2).toString().concat(column_id+1);\r\n              possible_cells.push(possible_cell)  \r\n              //console.log(\"Knight moves to: \" + possible_cell)      \r\n             }\r\n            if((row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\") && (column_id-1)>=0 ){\r\n              let possible_cell = (row_id-2).toString().concat(column_id-1);\r\n              possible_cells.push(possible_cell)\r\n              //console.log(\"Knight moves to: \" + possible_cell)\r\n             }\r\n          }\r\n         \r\n         \r\n        }\r\n        else if(piece==\"G\" || piece==\"AP\" || piece==\"AL\"  || piece==\"AK\" || piece==\"AS\"){\r\n            row = cells[row_id+1];\r\n            if(row_id<8 && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n              let possible_cell = (row_id+1).toString().concat(column_id);\r\n              possible_cells.push(possible_cell)\r\n              //console.log(\"G moves to: \" + possible_cell)\r\n            } \r\n            row = cells[row_id];\r\n            if(column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n              let possible_cell = (row_id).toString().concat(column_id-1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            if(column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n              let possible_cell = (row_id).toString().concat(column_id+1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            \r\n            row = cells[row_id-1];\r\n            if(row_id>0 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n              let possible_cell = (row_id-1).toString().concat(column_id-1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            if(row_id>0 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n              let possible_cell = (row_id-1).toString().concat(column_id+1);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n            if(row_id>0 && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n              let possible_cell = (row_id-1).toString().concat(column_id);\r\n              possible_cells.push(possible_cell)\r\n            }\r\n        }\r\n        else if(piece==\"S\"){\r\n          row = cells[row_id+1];\r\n          if(row_id<8  && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          if(row_id<8 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          \r\n          row = cells[row_id-1];\r\n          if(row_id>0 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          if(row_id>0 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n          if(row_id>0 && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Silver move: \" + possible_cell);\r\n          }\r\n        }\r\n        else if(piece==\"KING\"){\r\n          row = cells[row_id-1];\r\n          if(row_id>0 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id>0 && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id>0 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          \r\n          row = cells[row_id];\r\n          if(column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n\r\n          row = cells[row_id+1];\r\n          if(row_id<8 && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id<8 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n          if(row_id<8 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n          }\r\n        }\r\n        else if(piece==\"R\"){\r\n          var actual_row = cells[row_id]\r\n          var back_row\r\n          var front_row\r\n          var right_stop = false\r\n          var left_stop = false\r\n          var back_stop = false\r\n          var front_stop = false\r\n          for(let i=1;i<9;i++){\r\n                if(!right_stop && (column_id-i)>=0 && (actual_row[column_id-i]==null || actual_row[column_id-i].substr(0,1)==\"0\")){\r\n                  let possible_cell = row_id.toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Rook move 1: \" + possible_cell);\r\n                }  \r\n                if(!left_stop && (column_id+i)<=8 && (actual_row[column_id+i]==null || actual_row[column_id+i].substr(0,1)==\"0\") ){\r\n                  let possible_cell = row_id.toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Rook move 2: \" + possible_cell);\r\n                } \r\n                if(!right_stop && (column_id-i)>=0 && actual_row[column_id-i]!=null && (actual_row[column_id-i].substr(0,1)==\"0\" || actual_row[column_id-i].substr(0,1)==\"1\")){right_stop=true} \r\n                if(!left_stop && (column_id+i)<=8 && actual_row[column_id+i]!=null && (actual_row[column_id+i].substr(0,1)==\"0\" || actual_row[column_id+i].substr(0,1)==\"1\")){left_stop=true} \r\n                \r\n                back_row = cells[row_id-i]\r\n                front_row = cells[row_id+i]\r\n                if(!back_stop && (row_id-i)>=0 && (back_row[column_id]==null || back_row[column_id].substr(0,1)==\"0\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                 // console.log(\"Rook move 3: \" + possible_cell);\r\n                }  \r\n                if(!front_stop && (row_id+i)<=8 && (front_row[column_id]==null || front_row[column_id].substr(0,1)==\"0\") ){\r\n                  let possible_cell = (row_id+i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Rook move 4: \" + possible_cell);\r\n                } \r\n                if(!back_stop && (row_id-i)>=0 && back_row[column_id]!=null &&  (back_row[column_id].substr(0,1)==\"0\" || back_row[column_id].substr(0,1)==\"1\")){back_stop=true} \r\n                if(!front_stop && (row_id+i)<=8 && front_row[column_id]!=null && (front_row[column_id].substr(0,1)==\"0\" || front_row[column_id].substr(0,1)==\"1\")){front_stop=true} \r\n\r\n          }\r\n        }\r\n        else if(piece==\"B\"){\r\n          var back_row = cells[row_id]\r\n          var front_row = cells[row_id]\r\n\r\n          var back_right_stop = false\r\n          var back_left_stop = false\r\n          var front_right_stop = false\r\n          var front_left_stop = false\r\n          for(let i=1;i<10;i++){\r\n            back_row = cells[row_id-i]\r\n            front_row = cells[row_id+i]\r\n            //back_right\r\n              if(!back_right_stop && back_row!=null && (column_id+i)<9 && (back_row[column_id+i]==null || back_row[column_id+i].substr(0,1)==\"0\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Bishop move 1: \" + possible_cell);\r\n              }  \r\n              if(!back_right_stop &&  back_row!=null && (column_id+i)<9 && back_row[column_id+i]!=null &&(back_row[column_id+i].substr(0,1)==\"0\" || back_row[column_id+i].substr(0,1)==\"1\")){back_right_stop=true} \r\n            \r\n            //back left\r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && (back_row[column_id-i]==null || back_row[column_id-i].substr(0,1)==\"0\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Bishop move 2: \" + possible_cell);\r\n              } \r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && back_row[column_id-i]!=null  &&  (back_row[column_id-i].substr(0,1)==\"0\" || back_row[column_id-i].substr(0,1)==\"1\")){back_left_stop=true} \r\n\r\n            //front right\r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && (front_row[column_id+i]==null || front_row[column_id+i].substr(0,1)==\"0\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id+i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Bishop move 3: \" + possible_cell);\r\n              } \r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && front_row[column_id+i]!=null &&  (front_row[column_id+i].substr(0,1)==\"0\" || front_row[column_id+i].substr(0,1)==\"1\")){front_right_stop=true} \r\n\r\n            //front left  \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && (front_row[column_id-i]==null || front_row[column_id-i].substr(0,1)==\"0\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id-i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Bishop move 4: \" + possible_cell);\r\n              } \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && front_row[column_id-i]!=null &&   (front_row[column_id-i].substr(0,1)==\"0\" || front_row[column_id-i].substr(0,1)==\"1\")){front_left_stop=true} \r\n\r\n            \r\n          }\r\n          \r\n        }\r\n        else if(piece==\"AB\"){\r\n          var back_row = cells[row_id]\r\n          var front_row = cells[row_id]\r\n\r\n          var back_right_stop = false\r\n          var back_left_stop = false\r\n          var front_right_stop = false\r\n          var front_left_stop = false\r\n          for(let i=1;i<10;i++){\r\n            back_row = cells[row_id-i]\r\n            front_row = cells[row_id+i]\r\n            //back_right\r\n              if(!back_right_stop && back_row!=null && (column_id+i)<9 && (back_row[column_id+i]==null || back_row[column_id+i].substr(0,1)==\"0\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Semental move 1: \" + possible_cell);\r\n              }  \r\n              if(!back_right_stop &&  back_row!=null && (column_id+i)<9 && back_row[column_id+i]!=null &&(back_row[column_id+i].substr(0,1)==\"0\" || back_row[column_id+i].substr(0,1)==\"1\")){back_right_stop=true} \r\n            \r\n            //back left\r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && (back_row[column_id-i]==null || back_row[column_id-i].substr(0,1)==\"0\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Semental move 2: \" + possible_cell);\r\n              } \r\n              if(!back_left_stop && back_row!=null && (column_id-i)>=0 && back_row[column_id-i]!=null  &&  (back_row[column_id-i].substr(0,1)==\"0\" || back_row[column_id-i].substr(0,1)==\"1\")){back_left_stop=true} \r\n\r\n            //front right\r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && (front_row[column_id+i]==null || front_row[column_id+i].substr(0,1)==\"0\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id+i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Semental move 3: \" + possible_cell);\r\n              } \r\n              if(!front_right_stop && front_row!=null && (column_id+i)<9 && front_row[column_id+i]!=null &&  (front_row[column_id+i].substr(0,1)==\"0\" || front_row[column_id+i].substr(0,1)==\"1\")){front_right_stop=true} \r\n\r\n            //front left  \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && (front_row[column_id-i]==null || front_row[column_id-i].substr(0,1)==\"0\")){\r\n                let possible_cell = (row_id+i).toString().concat(column_id-i);\r\n                possible_cells.push(possible_cell)\r\n                //console.log(\"Semental move 4: \" + possible_cell);\r\n              } \r\n              if(!front_left_stop && front_row!=null && (column_id-i)>=0 && front_row[column_id-i]!=null &&   (front_row[column_id-i].substr(0,1)==\"0\" || front_row[column_id-i].substr(0,1)==\"1\")){front_left_stop=true} \r\n          }\r\n\r\n          row = cells[row_id-1];\r\n          if(row_id>0 && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.2: \" + possible_cell);\r\n          }\r\n          \r\n          row = cells[row_id];\r\n          if(column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.4: \" + possible_cell);\r\n          }\r\n          if(column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.5: \" + possible_cell);\r\n          }\r\n\r\n          row = cells[row_id+1];\r\n          if(row_id<8 && (row[column_id]==null || row[column_id].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Semental move 1.7: \" + possible_cell);\r\n          }\r\n\r\n\r\n        }\r\n        else if(piece==\"AR\"){ \r\n          var actual_row = cells[row_id]\r\n          var back_row\r\n          var front_row\r\n          var right_stop = false\r\n          var left_stop = false\r\n          var back_stop = false\r\n          var front_stop = false\r\n          for(let i=1;i<9;i++){\r\n                if(!right_stop && (column_id-i)>=0 && (actual_row[column_id-i]==null || actual_row[column_id-i].substr(0,1)==\"0\")){\r\n                  let possible_cell = row_id.toString().concat(column_id-i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 1: \" + possible_cell);\r\n                }  \r\n                if(!left_stop && (column_id+i)<=8 && (actual_row[column_id+i]==null || actual_row[column_id+i].substr(0,1)==\"0\") ){\r\n                  let possible_cell = row_id.toString().concat(column_id+i);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 2: \" + possible_cell);\r\n                } \r\n                if(!right_stop && (column_id-i)>=0 && actual_row[column_id-i]!=null && (actual_row[column_id-i].substr(0,1)==\"0\" || actual_row[column_id-i].substr(0,1)==\"1\")){right_stop=true} \r\n                if(!left_stop && (column_id+i)<=8 && actual_row[column_id+i]!=null && (actual_row[column_id+i].substr(0,1)==\"0\" || actual_row[column_id+i].substr(0,1)==\"1\")){left_stop=true} \r\n                \r\n                back_row = cells[row_id-i]\r\n                front_row = cells[row_id+i]\r\n                if(!back_stop && (row_id-i)>=0 && (back_row[column_id]==null || back_row[column_id].substr(0,1)==\"0\")){\r\n                  let possible_cell = (row_id-i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 3: \" + possible_cell);\r\n                }  \r\n                if(!front_stop && (row_id+i)<=8 && (front_row[column_id]==null || front_row[column_id].substr(0,1)==\"0\") ){\r\n                  let possible_cell = (row_id+i).toString().concat(column_id);\r\n                  possible_cells.push(possible_cell)\r\n                  //console.log(\"Dragon move 4: \" + possible_cell);\r\n                } \r\n                if(!back_stop && (row_id-i)>=0 && back_row[column_id]!=null &&  (back_row[column_id].substr(0,1)==\"0\" || back_row[column_id].substr(0,1)==\"1\")){back_stop=true} \r\n                if(!front_stop && (row_id+i)<=8 && front_row[column_id]!=null && (front_row[column_id].substr(0,1)==\"0\" || front_row[column_id].substr(0,1)==\"1\")){front_stop=true} \r\n\r\n          }\r\n          row = cells[row_id-1];\r\n          if(row_id>0 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.1: \" + possible_cell);\r\n          }\r\n          \r\n          if(row_id>0 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id-1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.2: \" + possible_cell);\r\n          }\r\n\r\n          row = cells[row_id+1];\r\n          if(row_id<8 && column_id<8 && (row[column_id+1]==null || row[column_id+1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id+1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.4: \" + possible_cell);\r\n          }\r\n          if(row_id<8 && column_id>0 && (row[column_id-1]==null || row[column_id-1].substr(0,1)==\"0\")){\r\n            let possible_cell = (row_id+1).toString().concat(column_id-1);\r\n            possible_cells.push(possible_cell)\r\n            //console.log(\"Dragon move 1.3: \" + possible_cell);\r\n          }\r\n        }\r\n  \r\n        return possible_cells;\r\n  }\r\n  export function getPossibleRevive(cells,piece){\r\n    var pawn_free_columns = []\r\n    var possible_revive_cells = []\r\n    if(piece.substr(1,2)==\"P\"){pawn_free_columns = getFreePawnColumns(cells,piece.substr(0,1))}\r\n    for (let [row_id,row] of cells.entries()){\r\n      for (let [column_id,cell] of row.entries()){\r\n        if(!(piece.substr(1,2)==\"P\" || piece.substr(1,2)==\"K\")&& cell==null){//cualquiera}\r\n        possible_revive_cells.push(row_id.toString().concat(column_id.toString()))\r\n        }\r\n        else if(cell==null){\r\n          if(piece.substr(1,2)==\"P\"){\r\n            if(pawn_free_columns!=null && pawn_free_columns.indexOf(column_id)>=0){\r\n              if(piece.substr(0,1)==\"0\" && row_id<8){possible_revive_cells.push(row_id.toString().concat(column_id.toString()))}\r\n              if(piece.substr(0,1)==\"1\" && row_id>0){possible_revive_cells.push(row_id.toString().concat(column_id.toString()))}\r\n            }\r\n          }\r\n          if(piece.substr(1,2)==\"K\"){\r\n            if(piece.substr(0,1)==\"0\" && row_id<7){possible_revive_cells.push(row_id.toString().concat(column_id.toString()))}\r\n            if(piece.substr(0,1)==\"1\" && row_id>1){possible_revive_cells.push(row_id.toString().concat(column_id.toString()))}\r\n          }\r\n        }\r\n        \r\n      }\r\n    }  \r\n    return possible_revive_cells\r\n  }\r\n  function getFreePawnColumns(cells,player){\r\n    let pawn_free_columns = []\r\n    var row\r\n    var piece\r\n    var free\r\n    for(let i=0;i<9;i++){\r\n      free = true\r\n      for(let j=0;j<9;j++){\r\n        row = cells[j]\r\n        piece = row[i]\r\n        //console.log(\"Voy por: \" + i.toString() + \" \" + j.toString() + \" y es \" + piece + \" y soy \" + player)\r\n        if(piece!=null && piece.substr(1,2)==\"P\" && piece.substr(0,1)==player){free=false;break;}\r\n      }\r\n      if(free){pawn_free_columns.push(i)}\r\n    }\r\n    return pawn_free_columns\r\n  }\r\n  function movePieceToAvoidMate(G, player_and_piece, initial_row,initial_column, target_row,target_column)  {\r\n    /////////////////////////// MOVIMIENTO //////////////////////////\r\n    const G_clone = JSON.parse(JSON.stringify(G));\r\n    var player = player_and_piece.substr(0,1)\r\n    var player_piece = player_and_piece.substr(1,4)\r\n    //console.log(\"Player: \" + player + \" wants to move \" + player_piece)\r\n    let possible_cells = getPossibleCells(G_clone.cells,initial_row,initial_column,player_and_piece)\r\n    //console.log(\"Movimientos validos: \" + possible_cells)\r\n    var valid_move = false;\r\n    var row = G_clone.cells[initial_row];\r\n    var new_row = G_clone.cells[target_row];\r\n    var capture = false;\r\n    var target_piece \r\n    for(let valid of possible_cells){\r\n      let valid_row = valid.substr(0,1)\r\n      let valid_column = valid.substr(1,2)\r\n      if(valid_row==target_row && valid_column==target_column){\r\n        valid_move = true;\r\n        //quitar pieza\r\n        row[initial_column]=null;\r\n        G_clone.cells[initial_row] = row;\r\n        //poner pieza\r\n        if(new_row[target_column]!=null){\r\n          capture = true; \r\n          if(new_row[target_column].substr(1,1)==\"A\"){target_piece=new_row[target_column].substr(2,2)}\r\n          else{target_piece=new_row[target_column].substr(1,2)}\r\n        }\r\n        new_row[target_column] = player_and_piece\r\n        if(capture){\r\n            if(player==\"0\"){G_clone.sente_captured_pieces.push(target_piece)}\r\n            else{G_clone.gote_captured_pieces.push(target_piece)}\r\n        }\r\n        //console.log(\"Flag D. Movimiento realizado: -> fila actualizada: \" + G_clone.cells[target_row] + \" -> Nueva pieza: \" + new_row[target_column])\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if(valid_move == false){return false}\r\n    /////////////////////////// MOVIMIENTO REY //////////////////////////\r\n    if(player_piece==\"KING\"){\r\n      if(player==\"0\"){\r\n        G_clone.sente_king_position = target_row.toString().concat(target_column)\r\n      }\r\n      if(player==\"1\"){\r\n        G_clone.gote_king_position = target_row.toString().concat(target_column)\r\n      }\r\n    }\r\n    ////////////////////////////////////////////////////////////////////\r\n\r\n    /////////////////////////CHECK SITUATION/////////////////////////\r\n    let still_check = true        \r\n      if(player==\"0\"){still_check = isCheck(G_clone,\"1\");  } \r\n      if(player==\"1\"){still_check = isCheck(G_clone,\"0\");  }\r\n      if(still_check){return false}   \r\n    //console.log(\"Flag F.3. Check: \" + still_check)   \r\n    ////////////////////////////////////////////////////////////////    \r\n    isCheck(G_clone,player)\r\n    //console.log(\"Flag G. Final: \" + mmm)\r\n    return true\r\n  }\r\n  function revivePieceToAvoidMate (G,target_row,target_column,player_and_piece){\r\n    /////////////////////////// MOVIMIENTO //////////////////////////\r\n    const G_clone = JSON.parse(JSON.stringify(G));\r\n    let possible_cells = getPossibleRevive(G_clone.cells,player_and_piece)\r\n    var valid_move = false;\r\n    var new_row = G_clone.cells[target_row];\r\n    var player = player_and_piece.substr(0,1)\r\n    var piece_type = player_and_piece.substr(1,4)\r\n\r\n    for(let valid of possible_cells){\r\n      let valid_row = valid.substr(0,1)\r\n      let valid_column = valid.substr(1,2)\r\n      if(valid_row==target_row && valid_column==target_column){\r\n        valid_move = true;\r\n        //poner pieza\r\n        new_row[target_column] = player_and_piece\r\n        break;\r\n      }\r\n    }\r\n    if(valid_move == false){return INVALID_MOVE}\r\n\r\n    /////////////////////////CHECK SITUATION/////////////////////////\r\n    let still_check = true        \r\n      if(player==\"0\"){still_check = isCheck(G_clone,\"1\")} \r\n      if(player==\"1\"){still_check = isCheck(G_clone,\"0\")}\r\n      if(still_check){return false}      \r\n    ////////////////////////////////////////////////////////////////    \r\n    isCheck(G_clone,player)\r\n    return true\r\n  }\r\n  //////////------END FUNCTIONS---------------/////////\r\n  function isCheck(G,player){\r\n      let players_piece;\r\n      let possible_cells;\r\n      let check = false\r\n\r\n      for(let i=0;i<G.cells.length;i++){\r\n        let row = G.cells[i]\r\n        for(let j=0;j<G.cells[i].length;j++){\r\n          if(row[j]!=null){\r\n            players_piece = row[j].substr(0,1)\r\n            if(players_piece==player){\r\n              possible_cells = getPossibleCells(G.cells,i,j,row[j]);\r\n              possible_cells.forEach(cell=>{\r\n                if(player==\"0\" && cell.substr(0,1)==G.gote_king_position.substr(0,1) && cell.substr(1,2)==G.gote_king_position.substr(1,2)){check=true}\r\n                if(player==\"1\" && cell.substr(0,1)==G.sente_king_position.substr(0,1) && cell.substr(1,2)==G.sente_king_position.substr(1,2)){check=true}\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return check\r\n  }\r\n  function isCheckMate(G,ctx){\r\n    var save_mate = false\r\n    let possible_cells;\r\n    var is_check\r\n    //Primero vemos si hay jaque, segn del jugador\r\n    if(ctx.currentPlayer==\"1\"){is_check = isCheck(G,\"1\")}\r\n    else{is_check = isCheck(G,\"0\")}\r\n    //console.log(\"Lets check the Mate..is Check??: \" + is_check + \" and im \" + ctx.currentPlayer)\r\n    //Si hay jaque, exploramos todas las fichas del otro jugador para ver si hay algn movimiento que evite el jaque mate\r\n    if(is_check){\r\n      for(let i=0;i<G.cells.length;i++){\r\n        let row = G.cells[i]\r\n        for(let j=0;j<G.cells[i].length;j++){\r\n          if(row[j]!=null && row[j].substr(0,1)!=ctx.currentPlayer){\r\n            possible_cells = getPossibleCells(G.cells,i,j,row[j]);   \r\n            possible_cells.forEach(cell=>{\r\n              //Analizar si un movimiento evita el jaque mate. Para ello utilizo un mtodo parecido al movePiece\r\n              var saved = movePieceToAvoidMate(G,row[j],i,j,cell.substr(0,1),cell.substr(1,2))\r\n              if(saved){save_mate=true}\r\n            })\r\n          }\r\n        }\r\n      }\r\n      let all_captured = new Array(2).fill(null);\r\n      all_captured[0] = G.sente_captured_pieces\r\n      all_captured[1] = G.gote_captured_pieces\r\n      var index\r\n      var player\r\n      if(ctx.currentPlayer==\"0\"){index=1;player=\"1\"}\r\n      else{index=0;player=\"0\"}\r\n      for(let piece of all_captured[index]){\r\n        possible_cells = getPossibleRevive(G.cells,player.concat(piece))\r\n        possible_cells.forEach(cell=>{\r\n          //Analizar si un colocar una pieza evita el jaque mate. Para ello utilizo un mtodo parecido al revivePiece\r\n          var saved = revivePieceToAvoidMate(G,cell.substr(0,1),cell.substr(1,4),player.concat(piece))\r\n          if(saved){save_mate=true}\r\n        })\r\n      }\r\n    }\r\n    //Segn el anlisis, devolvemos true para JAQUE MATE y false si no hay JAQUE MATE\r\n    if(is_check){\r\n      if(save_mate){return false}\r\n      else{console.log(\"MATE\");return true}\r\n    }\r\n    else{return false}   \r\n  }","import { Client } from 'boardgame.io/client';\r\nimport { Shogi } from './Game';\r\n/////////IMAGENES PIEZAS//////////\r\nimport LanceIcon from './img/lance_r.png';\r\nimport PawnIcon from './img/pawn_r.png';\r\nimport GoldenSoldierIcon from './img/gnal_de_oro_r.png';\r\nimport KnightIcon from './img/knight_r.png';\r\nimport SilverSoldierIcon from './img/gnral de plata_r.png';\r\nimport BishopIcon from './img/bishop_r.png';\r\nimport RookIcon from './img/rook_r.png';\r\nimport SenteKingIcon from './img/sente_king_r.png';\r\nimport GoteKingIcon from './img/gote_king_r.png';\r\n\r\nimport {getPossibleCells,getPossibleRevive} from './Game.js'\r\n\r\n\r\nclass ShogiClient {\r\n  constructor(rootElement) {\r\n    this.client = Client({ game: Shogi });\r\n    this.client.start();\r\n    this.rootElement = rootElement;\r\n    this.createBoard();\r\n    this.attachListeners();\r\n    this.client.subscribe(state => this.update(state));\r\n  }\r\n\r\n  createBoard() {\r\n    const rows = [];\r\n    for (let i = 0; i < 9; i++) {\r\n      const cells = [];\r\n      for (let j = 0; j < 9; j++) {\r\n        /*////////Los \"if\" son por si se quiere personalizar cada td por pieza. De momento no afecta///////////*/\r\n        if(i==2){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\" data-piece=\"\" ></td>`) } \r\n        else if(i==6){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n\r\n        else if(i==0){\r\n          if(j==0 || j==8){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==1 || j==7){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==2 ||j==6){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==3 ||j==5){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==4){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`);}\r\n        }\r\n        else if(i==8){\r\n          if(j==0 || j==8){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==1 || j==7){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==2 ||j==6){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==3 ||j==5){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          if(j==4){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n        }\r\n\r\n        else if(i==1){\r\n          if(j==1){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          else if(j==7){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          else{cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n        }\r\n        else if(i==7){\r\n          if(j==1){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          else if(j==7){cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n          else{cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n        }  \r\n        else{cells.push(`<td class=\"cell\" data-column=\"${j}\" data-row=\"${i}\"  > </td>`)}\r\n        \r\n        ///////////////////////        \r\n      }\r\n      rows.push(`<tr>${cells.join('')}</tr>`);\r\n    }\r\n    this.rootElement.innerHTML = `\r\n      <table id=\"tablero\">${rows.join('')}</table>\r\n      <p class=\"winner\"></p>\r\n    `;\r\n  }\r\n\r\n  attachListeners() {\r\n\r\n    const sente_table = document.getElementById('sente_table');\r\n    const gote_table = document.getElementById('gote_table');\r\n\r\n    const cells = this.rootElement.querySelectorAll('.cell');\r\n    var captured_cells_sente = sente_table.querySelectorAll('.captured_piece');\r\n    var captured_cells_gote = gote_table.querySelectorAll('.captured_piece');\r\n    \r\n    var possible_cells = []\r\n    var row_id = null;\r\n    var column_id = null;\r\n\r\n    var row_target = null;\r\n    var column_target = null;\r\n\r\n    var piece = null; \r\n    var piece_revive = null;\r\n\r\n    \r\n    const choosePieceToMove = event =>{\r\n\r\n      let cell = event.target.parentNode;\r\n      row_id = parseInt(cell.dataset.row);\r\n      column_id = parseInt(cell.dataset.column);\r\n      piece = cell.dataset.piece\r\n      possible_cells = []\r\n\r\n      var state = this.client.getState();\r\n      if(piece.substr(0,1)==state.ctx.currentPlayer){\r\n          ///ver que pieza es y mostrar posibles\r\n          possible_cells = getPossibleCells(state.G.cells,row_id,column_id,piece)\r\n          highlightPossibleMoves(possible_cells,cells,state.ctx.currentPlayer)\r\n          cells.forEach(cell =>{ cell.onclick = clickFinalMove; });  \r\n      }       \r\n    };\r\n\r\n    const clickFinalMove = event => {\r\n      if(event.target.parentNode.className==\"cell_capture_highlight\"){\r\n        row_target = parseInt(event.target.parentNode.dataset.row);\r\n        column_target = parseInt(event.target.parentNode.dataset.column);\r\n        this.client.moves.movePiece(row_id,column_id,row_target,column_target,piece.substr(1,4), event.target.parentNode);    \r\n        capturePiece();\r\n      }\r\n\r\n      else{\r\n        row_target = parseInt(event.target.dataset.row);\r\n        column_target = parseInt(event.target.dataset.column);\r\n        this.client.moves.movePiece(row_id,column_id,row_target,column_target,piece.substr(1,4), event.target);\r\n      }\r\n            \r\n      cells.forEach(cell=>{cell.className=\"cell\"});\r\n      cells.forEach(cell => {cell.onclick = choosePieceToMove;});\r\n      captured_cells_sente = sente_table.querySelectorAll('.captured_piece');\r\n      captured_cells_gote = gote_table.querySelectorAll('.captured_piece');\r\n      captured_cells_sente.forEach(cell => {cell.onclick = chooseWhereToRevive;});\r\n      captured_cells_gote.forEach(cell => {cell.onclick = chooseWhereToRevive;});\r\n    };\r\n\r\n    const chooseWhereToRevive = event =>{\r\n      piece_revive = event.target.parentNode\r\n      var state = this.client.getState();\r\n\r\n      if(piece_revive.id==state.ctx.currentPlayer){\r\n        var possible_revival = getPossibleRevive(state.G.cells,piece_revive.id.concat(piece_revive.dataset.type))\r\n        highlightPossibleMoves(possible_revival,cells,state.ctx.currentPlayer)\r\n        cells.forEach(cell =>{ cell.onclick = clickFinalRevive; });\r\n        captured_cells_sente = sente_table.querySelectorAll('.captured_piece');\r\n        captured_cells_gote = gote_table.querySelectorAll('.captured_piece');\r\n        captured_cells_sente.forEach(cell => {cell.onclick = clickFinalRevive;});\r\n        captured_cells_gote.forEach(cell => {cell.onclick = clickFinalRevive;});\r\n      }\r\n\r\n    };\r\n\r\n    const clickFinalRevive = event => {    \r\n        row_target = parseInt(event.target.dataset.row);\r\n        column_target = parseInt(event.target.dataset.column);\r\n        this.client.moves.revivePiece(row_target,column_target,piece_revive.id.concat(piece_revive.dataset.type), event.target);\r\n            \r\n        cells.forEach(cell=>{cell.className=\"cell\"});\r\n        cells.forEach(cell => {cell.onclick = choosePieceToMove;});\r\n        captured_cells_sente = sente_table.querySelectorAll('.captured_piece');\r\n        captured_cells_gote = gote_table.querySelectorAll('.captured_piece');\r\n        captured_cells_sente.forEach(cell => {cell.onclick = chooseWhereToRevive;});\r\n        captured_cells_gote.forEach(cell => {cell.onclick = chooseWhereToRevive;});\r\n    };\r\n    \r\n    cells.forEach(cell => {cell.onclick = choosePieceToMove;});  \r\n  }\r\n\r\n  update(state) {\r\n    updateBoard(state,this.rootElement)\r\n    updateCaptured(state) \r\n    capturePiece()\r\n  }\r\n}\r\nfunction highlightPossibleMoves(possible_cells,cells,player){\r\n  var column\r\n  var row\r\n  var owner_piece\r\n  for(let cell of cells){\r\n    for(let possible_cell of possible_cells){\r\n      column=cell.dataset.column;\r\n      row = cell.dataset.row;\r\n      owner_piece = cell.dataset.piece\r\n      if(row==possible_cell.substr(0,1) && column==possible_cell.substr(1,2)){\r\n        if(owner_piece!= \"\" && owner_piece.substr(0,1)!=player){cell.className = \"cell_capture_highlight\";}\r\n        else{cell.className = \"cell_highlight\"}\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction showPossibleMoves0(cells,row_id,column_id,piece){\r\n  var possible_cells = [];\r\n  var column = 0;\r\n  var row = 0;\r\n  var owner_piece = null;\r\n\r\n      if(piece==\"P\"){ \r\n      cells.forEach(cell=>{\r\n            column=cell.dataset.column;\r\n            row = cell.dataset.row\r\n            owner_piece = cell.dataset.piece.substr(0,1);\r\n            if(row==row_id+1 &&  column==column_id){\r\n              if(owner_piece==\"1\"){cell.className = \"cell_capture_highlight\"; possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n            }\r\n      }) \r\n      }\r\n      else if(piece==\"L\"){\r\n           for (let cell of cells) {\r\n                column=cell.dataset.column;\r\n                row = cell.dataset.row\r\n                if(column==column_id && row>row_id){\r\n                  owner_piece = cell.dataset.piece.substr(0,1);\r\n                  if(owner_piece==\"0\"){ break;} \r\n                  else if(owner_piece ==\"1\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);break;}\r\n                  else{cell.className = \"cell_highlight\";possible_cells.push(cell);\r\n                  }\r\n                }\r\n            }\r\n      }\r\n      else if(piece==\"K\"){\r\n        for (let cell of cells) {\r\n            column=cell.dataset.column;\r\n            row = cell.dataset.row\r\n              if((column==column_id+1 ||column==column_id-1)  && row==row_id+2){\r\n                owner_piece = cell.dataset.piece.substr(0,1);\r\n                if(owner_piece==\"0\"){} \r\n                else if(owner_piece ==\"1\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n                else{cell.className = \"cell_highlight\";possible_cells.push(cell);\r\n                }\r\n              }\r\n        } \r\n      }\r\n      else if(piece==\"G\" || piece==\"AP\" || piece==\"AL\"  || piece==\"AK\" || piece==\"AS\"){\r\n          for (let cell of cells) {\r\n            column=cell.dataset.column;\r\n            row = cell.dataset.row\r\n            if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n                owner_piece = cell.dataset.piece.substr(0,1);\r\n                if(owner_piece==\"0\"||(row==row_id-1 && column==column_id+1) || (row==row_id-1 && column==column_id-1)  ){ } \r\n                else if(owner_piece ==\"1\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n                else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n            }\r\n          }\r\n      }\r\n      else if(piece==\"S\"){\r\n        for (let cell of cells) {\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row\r\n          if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(owner_piece==\"0\"||(row==row_id-1 && column==column_id) || (row==row_id && column==column_id-1)|| (row==row_id && column==column_id+1)  ){ } \r\n              else if(owner_piece ==\"1\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n          }\r\n        }\r\n      }\r\n      else if(piece==\"KING\"){\r\n        for (let cell of cells) {\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row\r\n          if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(owner_piece==\"0\"){ } \r\n              else if(owner_piece ==\"1\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n          }\r\n        }\r\n      }\r\n      else if(piece==\"R\"){\r\n\r\n        var row_cells = [];\r\n        var rook_found = false;\r\n        cells.forEach(cell=>{if(cell.dataset.row==row_id){row_cells.push(cell)}})\r\n        for(let cell of row_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(column==column_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells = []}\r\n          else if(owner_piece==\"0\" && rook_found){break;}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells = [];possible_cells.push(cell)}\r\n          else if(owner_piece==\"1\" && rook_found){possible_cells.push(cell);break;}\r\n          \r\n        }\r\n\r\n        var column_cells = [];\r\n        rook_found = false;\r\n        var possible_cells_column = []\r\n        cells.forEach(cell=>{if(cell.dataset.column==column_id){column_cells.push(cell)}})\r\n        for(let cell of column_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(row==row_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells_column = []}\r\n          else if(owner_piece==\"0\" && rook_found){break;}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells_column = [];possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"1\" && rook_found){possible_cells_column.push(cell);break;}\r\n        }\r\n        possible_cells= possible_cells.concat(possible_cells_column);\r\n\r\n        possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"1\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n      }\r\n      else if(piece==\"B\"){\r\n        \r\n        var diagonals1 = [];\r\n        var diagonals2 = [];\r\n        var diagonals3 = [];\r\n        var diagonals4 = [];\r\n        ////Guardamos el tablero en array de 2 dimensiones -> se podra sacar de aqui para que solo se haga 1 vez\r\n        var row_cells = []\r\n        var ind = 0;\r\n        var cells_array = []\r\n        for(let i=0;i<9;i++){\r\n          row_cells=[]\r\n          for(let j=0;j<9;j++){\r\n            row_cells[j] = cells[ind];\r\n            ind++;\r\n          }\r\n          cells_array[i]=row_cells;\r\n        }\r\n        //Recorremos el tablero obteniendo las diagonales que parten de la pieza -> creamos 4 diagonales\r\n        var roww = []\r\n        var cell=0;\r\n       for(let i=1;i<10;i++){\r\n         if(cells_array[row_id+i]!=undefined){\r\n          roww = cells_array[row_id+i]\r\n              if(roww[column_id+i]!=undefined){\r\n                cell = roww[column_id+i]\r\n                diagonals3.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id+i]!=undefined){\r\n          roww = cells_array[row_id+i]\r\n              if(roww[column_id-i]!=undefined){\r\n                cell = roww[column_id-i]\r\n                diagonals4.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id-i]!=undefined){\r\n          roww = cells_array[row_id-i]\r\n              if(roww[column_id+i]!=undefined){\r\n                cell = roww[column_id+i]\r\n                diagonals2.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id-i]!=undefined){\r\n          roww = cells_array[row_id-i]\r\n              if(roww[column_id-i]!=undefined){\r\n                cell = roww[column_id-i]\r\n                diagonals1.push(cell)\r\n              }\r\n         }\r\n        }\r\n        //Para cada diagonal, elegimos las casillas donde se puede mover el alfil\r\n        possible_cells = []\r\n        var diagonal_name;\r\n        for(let i=1;i<5;i++){\r\n          if(i==1){diagonal_name=diagonals1}\r\n          if(i==2){diagonal_name=diagonals2}\r\n          if(i==3){diagonal_name=diagonals3}\r\n          if(i==4){diagonal_name=diagonals4}\r\n            for(let cell of diagonal_name){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n              else if(owner_piece==\"1\"){possible_cells.push(cell);break;}\r\n              else {break;}\r\n            }\r\n        }\r\n\r\n        possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"1\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n        \r\n      }\r\n    else if(piece==\"AB\"){\r\n       \r\n      var diagonals1 = [];\r\n      var diagonals2 = [];\r\n      var diagonals3 = [];\r\n      var diagonals4 = [];\r\n      ////Guardamos el tablero en array de 2 dimensiones -> se podra sacar de aqui para que solo se haga 1 vez\r\n      var row_cells = []\r\n      var ind = 0;\r\n      var cells_array = []\r\n      for(let i=0;i<9;i++){\r\n        row_cells=[]\r\n        for(let j=0;j<9;j++){\r\n          row_cells[j] = cells[ind];\r\n          ind++;\r\n        }\r\n        cells_array[i]=row_cells;\r\n      }\r\n      //Recorremos el tablero obteniendo las diagonales que parten de la pieza -> creamos 4 diagonales\r\n      var roww = []\r\n      var cell=0;\r\n     for(let i=1;i<10;i++){\r\n       if(cells_array[row_id+i]!=undefined){\r\n        roww = cells_array[row_id+i]\r\n            if(roww[column_id+i]!=undefined){\r\n              cell = roww[column_id+i]\r\n              diagonals3.push(cell)\r\n            }\r\n       }\r\n       if(cells_array[row_id+i]!=undefined){\r\n        roww = cells_array[row_id+i]\r\n            if(roww[column_id-i]!=undefined){\r\n              cell = roww[column_id-i]\r\n              diagonals4.push(cell)\r\n            }\r\n       }\r\n       if(cells_array[row_id-i]!=undefined){\r\n        roww = cells_array[row_id-i]\r\n            if(roww[column_id+i]!=undefined){\r\n              cell = roww[column_id+i]\r\n              diagonals2.push(cell)\r\n            }\r\n       }\r\n       if(cells_array[row_id-i]!=undefined){\r\n        roww = cells_array[row_id-i]\r\n            if(roww[column_id-i]!=undefined){\r\n              cell = roww[column_id-i]\r\n              diagonals1.push(cell)\r\n            }\r\n       }\r\n      }\r\n      //Para cada diagonal, elegimos las casillas donde se puede mover el alfil\r\n      possible_cells = []\r\n      var diagonal_name;\r\n      for(let i=1;i<5;i++){\r\n        if(i==1){diagonal_name=diagonals1}\r\n        if(i==2){diagonal_name=diagonals2}\r\n        if(i==3){diagonal_name=diagonals3}\r\n        if(i==4){diagonal_name=diagonals4}\r\n          for(let cell of diagonal_name){\r\n            owner_piece = cell.dataset.piece.substr(0,1);\r\n            if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n            else if(owner_piece==\"1\"){possible_cells.push(cell);break;}\r\n            else {break;}\r\n          }\r\n      }\r\n\r\n      possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"1\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n      for (let cell of cells) {\r\n        column=cell.dataset.column;\r\n        row = cell.dataset.row\r\n        if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n            owner_piece = cell.dataset.piece.substr(0,1);\r\n            if(owner_piece==\"0\"){ } \r\n            else if(owner_piece ==\"1\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n            else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n        }\r\n      }\r\n    }\r\n    else if(piece==\"AR\"){\r\n      var row_cells = [];\r\n        var rook_found = false;\r\n        cells.forEach(cell=>{if(cell.dataset.row==row_id){row_cells.push(cell)}})\r\n        for(let cell of row_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(column==column_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells = []}\r\n          else if(owner_piece==\"0\" && rook_found){break;}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells = [];possible_cells.push(cell)}\r\n          else if(owner_piece==\"1\" && rook_found){possible_cells.push(cell);break;}\r\n          \r\n        }\r\n\r\n        var column_cells = [];\r\n        rook_found = false;\r\n        var possible_cells_column = []\r\n        cells.forEach(cell=>{if(cell.dataset.column==column_id){column_cells.push(cell)}})\r\n        for(let cell of column_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(row==row_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells_column = []}\r\n          else if(owner_piece==\"0\" && rook_found){break;}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells_column = [];possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"1\" && rook_found){possible_cells_column.push(cell);break;}\r\n        }\r\n        possible_cells= possible_cells.concat(possible_cells_column);\r\n\r\n        possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"1\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n        for (let cell of cells) {\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row\r\n          if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(owner_piece==\"0\"){ } \r\n              else if(owner_piece ==\"1\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n          }\r\n        }\r\n    }\r\n\r\n      return possible_cells;\r\n}\r\nfunction showPossibleMoves1(cells,row_id,column_id,piece){\r\n  var possible_cells = [];\r\n  var column = 0;\r\n  var row = 0;\r\n\r\n      if(piece==\"P\"){ \r\n      cells.forEach(cell=>{\r\n            column=cell.dataset.column;\r\n            row = cell.dataset.row;\r\n            owner_piece = cell.dataset.piece.substr(0,1);\r\n            if(row==row_id-1 &&  column==column_id){\r\n              if(owner_piece==\"0\"){cell.className = \"cell_capture_highlight\"; possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n            }\r\n              }) \r\n      }\r\n      else if(piece==\"L\"){\r\n           for (let cell of cells) {\r\n                column=cell.dataset.column;\r\n                row = cell.dataset.row\r\n                if(column==column_id && row<row_id){\r\n                  var owner_piece = cell.dataset.piece.substr(0,1);\r\n                  if(owner_piece==\"1\"){ break;} \r\n                  else if(owner_piece ==\"0\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);break;}\r\n                  else{cell.className = \"cell_highlight\";possible_cells.push(cell);\r\n                  }\r\n                }\r\n            }\r\n      }\r\n      else if(piece==\"K\"){\r\n        for (let cell of cells) {\r\n            column=cell.dataset.column;\r\n            row = cell.dataset.row\r\n              if((column==column_id+1 ||column==column_id-1)  && row==row_id-2){\r\n                var owner_piece = cell.dataset.piece.substr(0,1);\r\n                if(owner_piece==\"1\"){} \r\n                else if(owner_piece ==\"0\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n                else{cell.className = \"cell_highlight\";possible_cells.push(cell);\r\n                }\r\n              }\r\n        } \r\n      }\r\n      else if(piece==\"G\" || piece==\"AP\" || piece==\"AL\"  || piece==\"AK\" || piece==\"AS\"){\r\n          for (let cell of cells) {\r\n            column=cell.dataset.column;\r\n            row = cell.dataset.row\r\n            if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n                var owner_piece = cell.dataset.piece.substr(0,1);\r\n                if(owner_piece==\"1\"||(row==row_id+1 && column==column_id-1) || (row==row_id+1 && column==column_id+1)  ){ } \r\n                else if(owner_piece ==\"0\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n                else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n            }\r\n          }\r\n      }\r\n      else if(piece==\"S\"){\r\n        for (let cell of cells) {\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row\r\n          if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(owner_piece==\"1\"||(row==row_id+1 && column==column_id) || (row==row_id && column==column_id+1)|| (row==row_id && column==column_id-1)  ){ } \r\n              else if(owner_piece ==\"0\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n          }\r\n        }\r\n      }\r\n      else if(piece==\"KING\"){\r\n        for (let cell of cells) {\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row\r\n          if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(owner_piece==\"1\"){ } \r\n              else if(owner_piece ==\"0\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n          }\r\n        }\r\n      }\r\n      else if(piece==\"R\"){\r\n        var row_cells = [];\r\n        var rook_found = false;\r\n        cells.forEach(cell=>{if(cell.dataset.row==row_id){row_cells.push(cell)}})\r\n        for(let cell of row_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(column==column_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells = []}\r\n          else if(owner_piece==\"1\" && rook_found){break;}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells = [];possible_cells.push(cell)}\r\n          else if(owner_piece==\"0\" && rook_found){possible_cells.push(cell);break;}\r\n          \r\n        }\r\n\r\n        var column_cells = [];\r\n        rook_found = false;\r\n        var possible_cells_column = []\r\n        cells.forEach(cell=>{if(cell.dataset.column==column_id){column_cells.push(cell)}})\r\n        for(let cell of column_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(row==row_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells_column = []}\r\n          else if(owner_piece==\"1\" && rook_found){break;}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells_column = [];possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"0\" && rook_found){possible_cells_column.push(cell);break;}\r\n        }\r\n        possible_cells= possible_cells.concat(possible_cells_column);\r\n\r\n        possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"0\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n      }\r\n      else if(piece==\"B\"){\r\n        var diagonals1 = [];\r\n        var diagonals2 = [];\r\n        var diagonals3 = [];\r\n        var diagonals4 = [];\r\n        ////Guardamos el tablero en array de 2 dimensiones   -> se podra sacar de aqui para que solo se haga 1 vez\r\n        var row_cells = []\r\n        var ind = 0;\r\n        var cells_array = []\r\n        var cells_r = Array.prototype.slice.call(cells).reverse();\r\n        for(let i=0;i<9;i++){\r\n          row_cells=[]\r\n          for(let j=0;j<9;j++){\r\n            row_cells[j] = cells_r[ind];\r\n            ind++;\r\n          }\r\n          cells_array[i]=row_cells;\r\n        }\r\n        //Recorremos el tablero obteniendo las diagonales que parten de la pieza -> creamos 4 diagonales\r\n        var roww = []\r\n        var cell=0;\r\n       for(let i=1;i<10;i++){\r\n         if(cells_array[row_id+i]!=undefined){\r\n          roww = cells_array[row_id+i]\r\n              if(roww[column_id+i]!=undefined){\r\n                cell = roww[column_id+i]\r\n                diagonals3.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id+i]!=undefined){\r\n          roww = cells_array[row_id+i]\r\n              if(roww[column_id-i]!=undefined){\r\n                cell = roww[column_id-i]\r\n                diagonals4.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id-i]!=undefined){\r\n          roww = cells_array[row_id-i]\r\n              if(roww[column_id+i]!=undefined){\r\n                cell = roww[column_id+i]\r\n                diagonals2.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id-i]!=undefined){\r\n          roww = cells_array[row_id-i]\r\n              if(roww[column_id-i]!=undefined){\r\n                cell = roww[column_id-i]\r\n                diagonals1.push(cell)\r\n              }\r\n         }\r\n        }\r\n        //Para cada diagonal, elegimos las casillas donde se puede mover el alfil\r\n        possible_cells = []\r\n        var diagonal_name;\r\n        for(let i=1;i<5;i++){\r\n          if(i==1){diagonal_name=diagonals1}\r\n          if(i==2){diagonal_name=diagonals2}\r\n          if(i==3){diagonal_name=diagonals3}\r\n          if(i==4){diagonal_name=diagonals4}\r\n            for(let cell of diagonal_name){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n              else if(owner_piece==\"0\"){possible_cells.push(cell);break;}\r\n              else {break;}\r\n            }\r\n        }\r\n\r\n        possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"0\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n      }\r\n      else if(piece==\"AR\"){\r\n        var row_cells = [];\r\n        var rook_found = false;\r\n        cells.forEach(cell=>{if(cell.dataset.row==row_id){row_cells.push(cell)}})\r\n        for(let cell of row_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(column==column_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells = []}\r\n          else if(owner_piece==\"1\" && rook_found){break;}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells = [];possible_cells.push(cell)}\r\n          else if(owner_piece==\"0\" && rook_found){possible_cells.push(cell);break;}\r\n          \r\n        }\r\n\r\n        var column_cells = [];\r\n        rook_found = false;\r\n        var possible_cells_column = []\r\n        cells.forEach(cell=>{if(cell.dataset.column==column_id){column_cells.push(cell)}})\r\n        for(let cell of column_cells){\r\n          owner_piece = cell.dataset.piece.substr(0,1);\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row;\r\n          if(row==row_id){rook_found = true}\r\n          else if(cell.dataset.piece==\"\" ){possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"1\" && !rook_found){possible_cells_column = []}\r\n          else if(owner_piece==\"1\" && rook_found){break;}\r\n          else if(owner_piece==\"0\" && !rook_found){possible_cells_column = [];possible_cells_column.push(cell)}\r\n          else if(owner_piece==\"0\" && rook_found){possible_cells_column.push(cell);break;}\r\n        }\r\n        possible_cells= possible_cells.concat(possible_cells_column);\r\n\r\n        possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"0\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n        for (let cell of cells) {\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row\r\n          if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(owner_piece==\"1\"){ } \r\n              else if(owner_piece ==\"0\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n          }\r\n        }\r\n      }\r\n      else if(piece==\"AB\"){\r\n        var diagonals1 = [];\r\n        var diagonals2 = [];\r\n        var diagonals3 = [];\r\n        var diagonals4 = [];\r\n        ////Guardamos el tablero en array de 2 dimensiones   -> se podra sacar de aqui para que solo se haga 1 vez\r\n        var row_cells = []\r\n        var ind = 0;\r\n        var cells_array = []\r\n        var cells_r = Array.prototype.slice.call(cells).reverse();\r\n        for(let i=0;i<9;i++){\r\n          row_cells=[]\r\n          for(let j=0;j<9;j++){\r\n            row_cells[j] = cells_r[ind];\r\n            ind++;\r\n          }\r\n          cells_array[i]=row_cells;\r\n        }\r\n        //Recorremos el tablero obteniendo las diagonales que parten de la pieza -> creamos 4 diagonales\r\n        var roww = []\r\n        var cell=0;\r\n       for(let i=1;i<10;i++){\r\n         if(cells_array[row_id+i]!=undefined){\r\n          roww = cells_array[row_id+i]\r\n              if(roww[column_id+i]!=undefined){\r\n                cell = roww[column_id+i]\r\n                diagonals3.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id+i]!=undefined){\r\n          roww = cells_array[row_id+i]\r\n              if(roww[column_id-i]!=undefined){\r\n                cell = roww[column_id-i]\r\n                diagonals4.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id-i]!=undefined){\r\n          roww = cells_array[row_id-i]\r\n              if(roww[column_id+i]!=undefined){\r\n                cell = roww[column_id+i]\r\n                diagonals2.push(cell)\r\n              }\r\n         }\r\n         if(cells_array[row_id-i]!=undefined){\r\n          roww = cells_array[row_id-i]\r\n              if(roww[column_id-i]!=undefined){\r\n                cell = roww[column_id-i]\r\n                diagonals1.push(cell)\r\n              }\r\n         }\r\n        }\r\n        //Para cada diagonal, elegimos las casillas donde se puede mover el alfil\r\n        possible_cells = []\r\n        var diagonal_name;\r\n        for(let i=1;i<5;i++){\r\n          if(i==1){diagonal_name=diagonals1}\r\n          if(i==2){diagonal_name=diagonals2}\r\n          if(i==3){diagonal_name=diagonals3}\r\n          if(i==4){diagonal_name=diagonals4}\r\n            for(let cell of diagonal_name){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(cell.dataset.piece==\"\" ){possible_cells.push(cell)}\r\n              else if(owner_piece==\"0\"){possible_cells.push(cell);break;}\r\n              else {break;}\r\n            }\r\n        }\r\n\r\n        possible_cells.forEach(cell=>{if(cell.dataset.piece.substr(0,1)==\"0\"){cell.className=\"cell_capture_highlight\"}else{cell.className=\"cell_highlight\"}})\r\n        for (let cell of cells) {\r\n          column=cell.dataset.column;\r\n          row = cell.dataset.row\r\n          if((column==column_id+1 ||column==column_id-1 ||column==column_id) && ((row==row_id+1)||row==row_id-1 || row==row_id) ){\r\n              owner_piece = cell.dataset.piece.substr(0,1);\r\n              if(owner_piece==\"1\"){ } \r\n              else if(owner_piece ==\"0\"){cell.className=\"cell_capture_highlight\";possible_cells.push(cell);}\r\n              else{cell.className = \"cell_highlight\";possible_cells.push(cell);}\r\n          }\r\n        }\r\n      }\r\n      return possible_cells;\r\n\r\n}\r\nfunction capturePiece(){\r\n  const gameplay = document.getElementById('gameplay');\r\n    const captured = gameplay.querySelectorAll('.captured_piece');\r\n    captured.forEach(piece=>{\r\n      var piece_type = piece.dataset.type;\r\n      var owner_captured_piece = piece.id.substr(9,14);\r\n     \r\n     if(piece_type==\"P\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${PawnIcon}\" class=\"piece\" id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${PawnIcon}\"class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else if(piece_type==\"L\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${LanceIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${LanceIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else if(piece_type==\"G\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${GoldenSoldierIcon}\" class=\"piece\"id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${GoldenSoldierIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else if(piece_type==\"S\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${SilverSoldierIcon}\" class=\"piece\"id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${SilverSoldierIcon}\"class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else if(piece_type==\"K\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${KnightIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${KnightIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else if(piece_type==\"B\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${BishopIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${BishopIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else if(piece_type==\"KING\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${SenteKingIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${GoteKingIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else if(piece_type==\"R\"){\r\n      if(owner_captured_piece==\"sente\"){piece.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    else{\r\n      if(piece_type==\"sente\"){piece.innerHTML = `<img src=\"${PawnIcon}\" class=\"piece\" id=\"sente_piece\"/>`}\r\n      else{piece.innerHTML = `<img src=\"${PawnIcon}\"class=\"piece\" id=\"gote_piece\"/>`}\r\n    }\r\n    })\r\n}\r\nfunction updateBoard(state,rootElement){\r\n  const cells = rootElement.querySelectorAll('.cell');\r\n  var piece_name;\r\n  var owner_piece;\r\n  cells.forEach(cell => {\r\n    const cell_row = parseInt(cell.dataset.row);\r\n    const cell_column = parseInt(cell.dataset.column);\r\n    const cellRow = state.G.cells[cell_row];\r\n    const cellValue = cellRow[cell_column];\r\n    cell.textContent = cellValue !== null ? cellValue : '';\r\n    cell.dataset.piece = cellValue !== null ? cellValue : '';   \r\n\r\n    piece_name = cell.dataset.piece.substr(1,4);\r\n    owner_piece = cell.dataset.piece.substr(0,1);\r\n      //falta hacer los dibujos del resto de fichas, de momento todo peones\r\n      if(piece_name==\"P\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${PawnIcon}\" class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${PawnIcon}\"class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"L\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${LanceIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${LanceIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"G\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${GoldenSoldierIcon}\" class=\"piece\"id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${GoldenSoldierIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"S\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${SilverSoldierIcon}\" class=\"piece\"id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${SilverSoldierIcon}\"class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"K\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${KnightIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${KnightIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"B\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${BishopIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${BishopIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"KING\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${SenteKingIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${GoteKingIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"R\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      //arised\r\n      if(piece_name==\"AP\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"AL\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"AS\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\"id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"AK\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"AB\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n      else if(piece_name==\"AR\"){\r\n        if(owner_piece==\"0\"){cell.innerHTML = `<img src=\"${RookIcon}\"class=\"piece\" id=\"sente_piece\"/>`}\r\n        else{cell.innerHTML = `<img src=\"${RookIcon}\" class=\"piece\" id=\"gote_piece\"/>`}\r\n      }\r\n\r\n      else if(piece_name==\"\"){\r\n       cell.innerHTML = '' \r\n      }\r\n      \r\n      \r\n\r\n  });\r\n}\r\nfunction updateCaptured(state){\r\n  var captured_pieces = state.G.sente_captured_pieces;\r\n  var captured_divs = [];\r\n  captured_pieces.forEach(piece=>{captured_divs.push(`<div class=\"captured_piece\" id=\"0\" data-type=\"${piece}\"></div>`);})\r\n  sente_table.innerHTML = captured_divs.join('');\r\n\r\n  var captured_pieces = state.G.gote_captured_pieces;\r\n  var captured_divs = [];\r\n  captured_pieces.forEach(piece=>{captured_divs.push(`<div class=\"captured_piece\" id=\"1\" data-type=\"${piece}\"></div>`);})\r\n  gote_table.innerHTML = captured_divs.join('');\r\n\r\n}\r\n\r\n\r\nconst appElement = document.getElementById('panel_central');\r\nconst app = new ShogiClient(appElement);","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}